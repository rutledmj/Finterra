!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).qmci||(t.qmci={})).Streamer=e()}}(function(){return function o(s,a,u){function l(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=_("./logging.js"),p=_("./EventSupport.js"),h=(f=p)&&f.__esModule?f:{"default":f},m=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("./streamer-events.js"));var E=function(){function i(e,t,n){var r=3<arguments.length&&arguments[3]!==undefined?arguments[3]:3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.openSocket=t,this.createTransmitter=e,this.log=(0,d.asLogger)(n),this.events=new h["default"](this),this.currentConn="",this.maxReconnectAttempts=r,this.maxReconnectsTotal=3,this.isFirstConnection=!0,this.atmoCodes={1000:"Normal closure; the connection successfully completed whatever purpose for which it was created.",1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error.",1003:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data).",1004:"The endpoint is terminating the connection because a data frame was received that is too large.",1005:"Unknown: no status code was provided even though one was expected.",1006:"Connection was closed abnormally (that is, with no close frame being sent)."}}return i.prototype.open=function(){var s=this,e={push:function(e){return s.socket.push(e)}};this.isFirstConnection&&(this.on("reopen",function(e){if(s.isConnectionUp){var t=s.currentConn;s.currentConn=e.connectionId,s.events.fire("reconnect",m.event("Reconnection success",{previousConnectionId:t,currentConnectionId:s.currentConn}))}else s.events.fire("error",e)}),this.transmitter=this.createTransmitter(e),this.transmitter.on("sequence",function(e){s.events.fire("sequence",e)}).on("message",function(e){s.events.fire("message",e)})),this.socket=this.openSocket(function(e){var o=(s.request=e).url;return s.reconnect=!1,{onMessage:function(e){s.transmitter.onMessage(e.responseBody)},onMessagePublished:function(e){s.transmitter.onMessage(e.responseBody)},onOpen:function(e){var t=e.status;200!==t?s.reconnect=!1:s.isConnectionUp=!0;var n=m.event("open",{url:o,code:t,transport:e.transport,connectionId:e.request.uuid});s.log.info(n),s.events.fire("open",n),s.isFirstConnection||(s.maxReconnectsTotal--,s.events.fire("reopen",n)),s.currentConn=e.request.uuid},onTransportFailure:function(e,t){var n=m.error("Transport failure",{url:o,code:-2,reason:e,fallback:t.fallbackTransport});s.log.error(e),s.events.fire("error",n),s.isReconnect()&&(s.reconnect=!0)},onError:function(e){var t=e.reason||e.reasonPhrase,n=e.status;t&&(""+t.stack).includes("Failed to execute 'send' on 'XMLHttpRequest")&&(t="Failed to send XMLHttpRequest to "+/Failed to load '(.*?)'/.exec(""+t.stack)[1],n=404);var r=m.error(e.reason,{transport:e.transport,reason:t,url:o,code:n});s.log.error(r),s.events.fire("error",r)},onClose:function(e){var t=e.status,n=e.reason||e.reasonPhrase,r=e.atmoMessage;408===t&&"unsubscribe"===e.state&&(t=200,n="Unsubscribed"),501!==t&&401!==t&&403!==t&&452!==t||(s.log.warn("Unable to reconnect with code: "+t+", reason: "+n),s.reconnect=!1),r&&r.code in s.atmoCodes&&(s.log.error("Unexpected close. Code: "+r.code+" Reason: "+s.atmoCodes[r.code]),s.events.fire("atmoError",m.error("Atmosphere error",{reason:s.atmoCodes[r.code],code:r.code})),t=410,n="Gone");var i=m.close({url:o,transport:e.transport,code:t,reason:n});s.isConnectionUp=!1,e.request.uuid=0,s.log.info(i),s.events.fire("close",i)},onSlow:function(e){var t=m.slow({timesExceeded:e.timesExceeded,maxExceeded:e.maxExceed});s.reconnect=!1,s.log.warn("Slow connection received, Reconnection will not be attempted."),s.log.info(t),s.events.fire("slow",t)}}},this.currentConn)},i.prototype.close=function(){if(this.socket)try{this.socket.close(),this.socket=null,this.reconnect&&this.tryReopen()}catch(e){this.events.fire("error",m.error("Error closing",{reason:e.message,cause:e,code:-3}))}},i.prototype.tryReopen=function(){var t=this;if(this.isConnectionUp||this.maxReconnectsTotal<=0)this.log.error("Connection is already open or max reconnects was reached, won't try to reconnect");else{this.isFirstConnection=!1;var n=this.maxReconnectAttempts;setTimeout(function e(){if(n<=0)return t.reconnect=!1,t.log.error("Error while reconnecting. No attempts left."),void(t.maxReconnectAttempts=0);!t.isConnectionUp&&t.reconnect&&(t.log.info("Attempting reconnect. Attempts left: "+n),t.reopen(n),n--,setTimeout(e,500))},500)}},i.prototype.reopen=function(e){try{this.open()}catch(t){this.log.warn("There was an error while reopening attempt #"+e),this.events.fire("error",t)}},i.prototype.send=function(e){try{this.transmitter.send(e)}catch(t){this.events.fire("error",m.error("Error sending message",{reason:t.message,cause:t,code:-4}))}},i.prototype.isReconnect=function(){return this.request.headers["x-Stream-isReconnect"]},i.prototype.setReconnect=function(e){this.reconnect=e},i.prototype.setServer=function(e){this.request.headers["X-Stream-Instance"]=e},i.prototype.isClosed=function(){return null==this.socket},i.prototype.on=function(e,t){return this.events.on(e,t)},i}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/Connection.js","/lib")},{"./EventSupport.js":2,"./logging.js":16,"./streamer-events.js":109,_process:131,buffer:121,timers:152}],2:[function(e,t,d){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";d.__esModule=!0;var f=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={},this.source=e||this}return t.prototype.on=function(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this.source},t.prototype.fire=function(e,t){var n=this.listeners[e];if(n){var r=n,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}s(t)}}},t}();d["default"]=f}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/EventSupport.js","/lib")},{_process:131,buffer:121,timers:152}],3:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=E("./LongSequence.js"),p=(f=d)&&f.__esModule?f:{"default":f},h=E("./streamer-api.js");var m=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.update=e,this.sendsequence=new p["default"],this.checkinterval=null,this.lastreceivedsequence=null}return t.prototype.next=function(){return this.sendsequence.next()},t.prototype.track=function(e){if(null!=this.checkinterval){if(e%this.checkinterval==0){var t=new h.messages.control.FlowMessage;t.sequence=e,this.update(t)}this.lastreceivedsequence=e}},t}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/FlowControl.js","/lib")},{"./LongSequence.js":4,"./streamer-api.js":108,_process:131,buffer:121,timers:152}],4:[function(e,t,d){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";d.__esModule=!0;var f=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.val=t.MIN_VALUE}return t.prototype.next=function(){var e=this.val;return e<t.MAX_VALUE?this.val++:this.val=t.MIN_VALUE,e},t}();f.MIN_VALUE=1,f.MAX_VALUE=Number.MAX_SAFE_INTEGER,d["default"]=f}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/LongSequence.js","/lib")},{_process:131,buffer:121,timers:152}],5:[function(m,e,E){(function(t,n,r,i,o,s,a,u,l,c,f){"use strict";E.__esModule=!0;var d,p=m("./serialization/v1/codec.js"),h=(d=p)&&d.__esModule?d:{"default":d};E["default"]=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=h["default"].TYPE,this.sequencenumber=null,this.timestamp=null,this.id=null,this.encoding=null,this.mimetype=null,this.payload=null}}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/SMessage.js","/lib")},{"./serialization/v1/codec.js":103,_process:131,buffer:121,timers:152}],6:[function(b,e,y){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";y.__esModule=!0,b("./polyfills.js");var f=b("./streamer-api.js"),d=b("./streamer-utils.js"),p=b("./logging.js"),O=b("./utils.js"),h=g(b("./UShortId.js")),m=g(b("./FlowControl.js")),E=g(b("./EventSupport.js")),_=b("./formatting.js"),w=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(b("./streamer-events.js"));function g(e){return e&&e.__esModule?e:{"default":e}}var T=function(){function i(e,t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.events=new E["default"],this.streamingService=e,this.format=t,this.log=(0,p.asLogger)(n),this.flowControl=new m["default"](function(e){r.send(e)}),this.conn=e.createConnection(),this.conn.on("message",function(e){r._handlejsonmsg(e)}).on("sequence",function(e){r.flowControl.track(e)}).on("close",function(e){r.doClose(e)}).on("error",function(e){r.pendingConnection&&r.pendingConnection(e),r.events.fire("error",e)}).on("reconnect",function(e){r.reconnectSuccess(e)}).on("atmoError",function(e){r.events.fire("atmoError",e)}),this.requestid=new h["default"],this.pendingsubscriptions={},this.pendingUnsubscriptions={},this.pendingExchangeSubscriptions={},this.pendingExchangeUnsubscriptions={},this.pendingNewsSubscriptions={},this.pendingNewsUnsubscriptions={},this.pendingAlertSubscription={},this.pendingTradeSubscription={},this.pendingTradeUnsubscription={},this.on("error",function(e){r.log.warn(e)})}return i.prototype.open=function(e){try{this.pendingConnection=e,this.conn.open()}catch(t){e&&e(t)}},i.prototype.reconnectSuccess=function(e){this.events.fire("reconnectSuccess",e),this.log.info("Successfull reconnection. Previous Id: "+e.previousConnectionId+" Current Id = "+e.currentConnectionId)},i.prototype.on=function(e,t){return this.events.on(e,t)},i.prototype.subscribe=function(e,t,n,r){var i=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()}),t=Array.isArray(t)?t:[t].map(function(e){return e.toUpperCase()});var o=n&&"function"!=typeof n?n:null,s=r||(n&&"function"==typeof n?n:null);if(this.isClosed()){var a=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",a),void(s&&s(a))}var u={ids:[],types:t,mimetype:this.format,callback:s,result:{subscribed:[],rejected:[],unentitled:[],invalidSymbols:[]}};0!==e.length&&0!==t.length?this._prepareSubscriptionRequests(e,u,f.messages.control.Action.SUBSCRIBE,o).forEach(function(e){var t=i.requestid.next();u.ids.push(t),i.pendingsubscriptions[t]=u,e.id=t,i.send(e)}):s(null,u.result)},i.prototype.subscribeExchange=function(e,t,n){var r=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()});var i=t&&"function"!=typeof t?t:null,o=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var s=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",s),void(o&&o(s))}var a={callback:o,mimetype:this.format,id:[],result:{subscribed:[],rejected:[]}};0===e.length&&o(null,a.result),this.prepareExchangeSubscriptionRequest(e,a,f.messages.control.Action.SUBSCRIBE,i).forEach(function(e){var t=r.requestid.next();a.id.push(t),a.exchange=e.exchange,a.conflation=e.conflation,r.pendingExchangeSubscriptions[t]=a,e.id=t,r.send(e)})},i.prototype.subscribeNews=function(e,t,n){var r=t&&"function"!=typeof t?t:null,i=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var o=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",o),void(i&&i(o))}var s={callback:i,mimetype:this.format,id:[],result:{newsFilters:[],rejectedNewsFilters:[],unentitledNewsFilters:[]}};0===e.length&&i(null,s.result);var a=this.buildNewsSubscribeRequest(e,s,f.messages.control.Action.SUBSCRIBE,r),u=this.requestid.next();this.pendingNewsSubscriptions[u]=s,a.id=u,this.send(a)},i.prototype.subUnsubAlerts=function(e,t,n){var r=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var i=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",i)}else{var o={id:[],mimetype:this.format,callback:r,result:{operation:""}},s=this.buildAlertsSubUnsubRequest(e,o),a=this.requestid.next();o.id.push(a),this.pendingAlertSubscription[a]=o,s.id=a,this.send(s)}},i.prototype.subscribeTrade=function(e,t,n){var r=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var i=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",i)}else{var o={id:[],mimetype:this.format,callback:r,result:{notificationType:""}},s=this.buildTradeSubscribeRequest(e,o,f.messages.control.Action.SUBSCRIBE),a=this.requestid.next();o.id.push(a),this.pendingTradeSubscription[a]=o,s.id=a,this.send(s)}},i.prototype.getSessionStats=function(){if(this.isClosed()){var e=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",e)}else{var t=new f.messages.control.StatsMessage;this.send(t)}},i.prototype.cmdFilterRefreshNews=function(e){var t=e||(optsOrCallback&&"function"==typeof optsOrCallback?optsOrCallback:null);if(this.isClosed()){var n=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",n),void(t&&t(n))}var r={callback:t,mimetype:this.format},i=this.buildNewsCommandRequest(r,"NEWSCMDFILTERREFRESH");this.send(i)},i.prototype.cmdFilterNews=function(e){var t=e||(optsOrCallback&&"function"==typeof optsOrCallback?optsOrCallback:null);if(this.isClosed()){var n=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",n),void(t&&t(n))}var r={callback:t,mimetype:this.format},i=this.buildNewsCommandRequest(r,"NEWSCMDFILTER");this.send(i)},i.prototype.unsubscribe=function(e,t,n,r){var i=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()}),t=Array.isArray(t)?t:[t].map(function(e){return e.toUpperCase()});var o=n&&"function"!=typeof n?n:null,s=r||(n&&"function"==typeof n?n:null);if(this.isClosed()){var a=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",a),void(s&&s(a))}var u={ids:[],types:t,mimetype:this.format,callback:s,result:{unsubscribed:[]}};0!==e.length&&0!==t.length||s&&s(null,u.result),this._prepareSubscriptionRequests(e,u,f.messages.control.Action.UNSUBSCRIBE,o).forEach(function(e){var t=i.requestid.next();u.ids.push(t),i.pendingUnsubscriptions[t]=u,e.id=t,i.send(e)})},i.prototype.unsubscribeExchange=function(e,t,n){var r=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()});var i=t&&"function"!=typeof t?t:null,o=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var s=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",s),void(o&&o(s))}var a={callback:o,mimetype:this.format,id:[],result:{subscribed:[],rejected:[]}};0===e.length&&o(null,a.result),this.prepareExchangeSubscriptionRequest(e,a,f.messages.control.Action.UNSUBSCRIBE,i).forEach(function(e){var t=r.requestid.next();a.id.push(t),a.exchange=e.exchange,a.conflation=e.conflation,r.pendingExchangeUnsubscriptions[t]=a,e.id=t,r.send(e)})},i.prototype.unsubscribeNews=function(e,t,n){e=Array.isArray(e)?e:[e];var r=t&&"function"!=typeof t?t:null,i=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var o=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",o),void(i&&i(o))}var s={callback:i,mimetype:this.format,id:[],result:{unsubscribed:[]}};0===e.length&&i&&i(null,s.result);var a=this.buildNewsSubscribeRequest(e,s,f.messages.control.Action.UNSUBSCRIBE,r),u=this.requestid.next();s.id.push(u),this.pendingNewsUnsubscriptions[u]=s,a.id=u,this.send(a)},i.prototype.unsubscribeTrade=function(e,t,n){var r=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var i=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",i)}else{var o={id:[],mimetype:this.format,callback:r,result:{notificationType:""}},s=this.buildTradeSubscribeRequest(e,o,f.messages.control.Action.UNSUBSCRIBE),a=this.requestid.next();o.id.push(a),this.pendingTradeUnsubscription[a]=o,s.id=a,this.send(s)}},i.prototype._handlejsonmsg=function(e){(0,d.iscontrolmessage)(e)?this.handlectrlmsg(e):(0,d.isdatamessage)(e)?this._handledatamsg(e):this.events.fire("error",e)},i.prototype._prepareSubscriptionRequests=function(e,t,n,r){for(var i=0,o=-1,s=e.length,a=t.types.includes("ORDERBOOK"),u=[],l=0;l<s;l++)((i=this._getUpdatedNumberOfEntitlements(t.types.length,i,e[l],a))>=this.maxEntitlementsPerSubscription||l===s-1)&&(u.push(this._buildRequest(e.slice(o+1,l+1),t,n,r)),o=l,i=0);return u},i.prototype._buildRequest=function(e,t,n,r){var i=new f.messages.control.SubscribeMessage;return i.action=n,i.symbols=e,i.types=t.types,i.mimetype=t.mimetype,r&&r.skipHeavyInitialLoad&&(i.skipHeavyInitialLoad=!0),r&&(i.conflation=r.conflation,i.intervalPeriod=r.intervalPeriod),i},i.prototype.prepareExchangeSubscriptionRequest=function(e,t,n,r){for(var i=[],o=e.length,s=0;s<o;s++)i.push(this.buildExchangeRequest(e[s],t,n,r));return i},i.prototype.buildExchangeRequest=function(e,t,n,r){var i=new f.messages.control.ExchangeSubscribeMessage;return i.action=n,i.exchange=e,i.mimetype=t.mimetype,r&&(i.conflation=r.conflation),i},i.prototype.buildNewsSubscribeRequest=function(e,t,n,r){var i=new f.messages.control.NewsSubscribeMessage;return i.action=n,i.newsFilters=e,i.mimetype=t.mimetype,r&&r.skipHeavyInitialLoad&&(i.skipHeavyInitialLoad=r.skipHeavyInitialLoad),i},i.prototype.buildAlertsSubUnsubRequest=function(e,t){var n=new f.messages.control.AlertsSubUnsubMessage;return n.operation=e,n.mimetype=t.mimetype,n},i.prototype.buildTradeSubscribeRequest=function(e,t,n){var r=new f.messages.control.TradeSubscribeMessage;return r.action=n,r.notificationType=e,r.mimetype=t.mimetype,r},i.prototype.buildNewsCommandRequest=function(e,t){var n=new f.messages.control.NewsCommandMessage;return n.newsAction=t,n.mimetype=e.mimetype,n},i.prototype._getUpdatedNumberOfEntitlements=function(e,t,n,r){var i=t;return r&&n.endsWith(":CC")?i+=14*e:i+=e,i},i.prototype.handlectrlmsg=function(e){switch(this.log.debug(_.msgfmt.fmt(e)),(0,d.messagetype)(e)){case f.messages.MessageTypeNames.ctrl.HEARTBEAT:this.onHeartbeat(e);break;case f.messages.MessageTypeNames.ctrl.SUBSCRIBE_RESPONSE:this.onSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.EXCHANGE_RESPONSE:this.onExchangeSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_SUBSCRIBE_RESPONSE:this.onNewsSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.ALERTS_SUBUNSUB_RESPONSE:this.onAlertsSubUnsubResponse(e);break;case f.messages.MessageTypeNames.ctrl.TRADE_SUBSCRIBE_RESPONSE:this.onTradeSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.UNSUBSCRIBE_RESPONSE:this.onUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.EXCHANGE_UNSUBSCRIBE_RESPONSE:this.onExchangeUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_UNSUBSCRIBE_RESPONSE:this.onNewsUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_CMD_FILTER_REFRESH_RESPONSE:this.onNewsCmdFilterRefreshResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_CMD_FILTER_RESPONSE:this.onNewsCmdFilterResponse(e);break;case f.messages.MessageTypeNames.ctrl.TRADE_UNSUBSCRIBE_RESPONSE:this.onTradeUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.CONNECT_RESPONSE:this.onConnectResponse(e);break;case f.messages.MessageTypeNames.ctrl.CONNECTION_CLOSE:this.onConnectionClose(e);break;case f.messages.MessageTypeNames.ctrl.SLOW_CONNECTION:this.onSlowConnection(e);break;case f.messages.MessageTypeNames.ctrl.STATS_RESPONSE:this.onStatsResponse(e);break;case f.messages.MessageTypeNames.ctrl.INITIAL_DATA_SENT:this.onInitialDataSent(e);break;case f.messages.MessageTypeNames.ctrl.RESUBSCRIBE_MESSAGE:this.onResubscribeMessage(e);break;case f.messages.MessageTypeNames.ctrl.RECONNECT_RESPONSE:this.onReconnectMessage(e);break;case f.messages.MessageTypeNames.ctrl.MISSED_DATA_SENT:this.onMissedDataSent(e)}},i.prototype.onHeartbeat=function(e){},i.prototype.onSubscribeResponse=function(e){var t=this.pendingsubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.ids,e.__id),delete this.pendingsubscriptions[e.__id],200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;if(e.entitlements){var o=e.entitlements,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u,c=l,f=c.symbol,d=c.marketdatatype,p=c.entitlement;l={symbol:f,type:d},"NA"!==p?(this.log.debug("SUBSCRIBED <"+f+", "+d+">"),l.entitlement=p,i.subscribed.push(l)):(this.log.warn("NOT ENTITLED <"+f+","+d+">"),i.unentitled.push(l))}}if(e.rejectedSymbols){var h=e.rejectedSymbols,m=Array.isArray(h),E=0;for(h=m?h:h[Symbol.iterator]();;){var _;if(m){if(E>=h.length)break;_=h[E++]}else{if((E=h.next()).done)break;_=E.value}f=_;this.log.warn("REJECTED "+f),i.rejected.push(f)}}if(e.invalidSymbols){var g=e.invalidSymbols,T=Array.isArray(g),b=0;for(g=T?g:g[Symbol.iterator]();;){var y,S;if(T){if(b>=g.length)break;S=g[b++]}else{if((b=g.next()).done)break;S=b.value}var v=S;this.log.warn("INVALID SYMBOL "+v),(y=i.invalidSymbols).push.apply(y,e.invalidSymbols)}}0!==t.ids.length||t.failed||n&&n(null,t.result)},i.prototype.onExchangeSubscribeResponse=function(e){var t=this.pendingExchangeSubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingExchangeSubscriptions[e.__id],console.log(e),200!=e.code){var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}0===t.id.length&&n&&n(null,t)},i.prototype.onNewsSubscribeResponse=function(e){var t=this.pendingNewsSubscriptions[e.__id],n=t.callback;(0,O.removeFromArray)(t.id,e.__id),delete this.pendingNewsSubscriptions[e.__id];var r=t.result;if(console.log(e),200!=e.code){var i=w.error("Error subscribing to news",{code:e.code,reason:e.reason});return this.events.fire("error",i),void(n&&t.callback(i))}if(e.newsFilters){var o=e.newsFilters,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u;r.newsFilters.push(l)}}if(e.rejectedNewsFilters){var c=e.rejectedNewsFilters,f=Array.isArray(c),d=0;for(c=f?c:c[Symbol.iterator]();;){var p;if(f){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p;r.rejectedNewsFilters.push(h)}}if(e.unentitledNewsFilters){var m=e.unentitledNewsFilters,E=Array.isArray(m),_=0;for(m=E?m:m[Symbol.iterator]();;){var g;if(E){if(_>=m.length)break;g=m[_++]}else{if((_=m.next()).done)break;g=_.value}var T=g;r.unentitledNewsFilters.push(T)}}0===t.id.length&&n&&n(null,t.result)},i.prototype.onAlertsSubUnsubResponse=function(e){var t=this.pendingAlertSubscription[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingAlertSubscription[e.__id],console.log(e),200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;e.operation&&(this.log.debug("Alerts "+e.operation),i.operation=e.operation),0===t.id.length&&n&&n(null,t.result)},i.prototype.onTradeSubscribeResponse=function(e){var t=this.pendingTradeSubscription[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingTradeSubscription[e.__id],console.log(e),200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;e.notificationType&&(this.log.debug("Trade "+e.notificationType),i.notificationType=e.notificationType),0===t.id.length&&n&&n(null,t.result)},i.prototype.onNewsUnsubscribeResponse=function(e){var t=this.pendingNewsUnsubscriptions[e.__id],n=t.callback;(0,O.removeFromArray)(t.id,e.__id),delete this.pendingNewsUnsubscriptions[e.__id],console.log("msg",e);var r=t.result;if(200!=e.code&&!t.failed){t.failed=!0;var i=w.error("Error unsubscribing to news",{code:e.code,reason:e.reason});return this.events.fire("error",i),void(n&&t.callback(i))}if(e.newsFilters){var o=e.newsFilters,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u;r.unsubscribed.push(l)}}0===t.id.length&&n&&n(null,t.result)},i.prototype.onTradeUnsubscribeResponse=function(e){var t=this.pendingTradeUnsubscription[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingTradeUnsubscription[e.__id],console.log(e),200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error unsubscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;e.notificationType&&(this.log.debug("Trade "+e.notificationType),i.notificationType=e.notificationType),0===t.id.length&&n&&n(null,t.result)},i.prototype.onNewsCmdFilterRefreshResponse=function(e){if(console.log("msg",e),200==e.code)this.events.fire("msg",e);else{var t=w.error("Error Refreshing News Filters",{code:e.code,reason:e.reason});this.events.fire("error",t)}},i.prototype.onNewsCmdFilterResponse=function(e){if(console.log("msg",e),200==e.code)this.events.fire("filter status",e);else{var t=w.error("Error Getting News Filters Status",{code:e.code,reason:e.reason});this.events.fire("error",t)}},i.prototype.onUnsubscribeResponse=function(e){var t=this.pendingUnsubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.ids,e.__id),delete this.pendingUnsubscriptions[e.__id],200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error unsubscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&n(r))}for(var i=0;i<e.unsubscribed.length;++i){var o=t.result,s=e.unsubscribed[i],a=s.symbol,u=s.marketdatatype;this.log.debug("UNSUBSCRIBED <"+a+", "+u+">"),o.unsubscribed.push({symbol:a,type:u})}0!==t.ids.length||t.failed||n&&n(null,t.result)},i.prototype.onExchangeUnsubscribeResponse=function(e){var t=this.pendingExchangeUnsubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingExchangeUnsubscriptions[e.__id],console.log(e),200!=e.code){var r=w.error("Error unsubscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}0===t.id.length&&n&&n(null,t)},i.prototype.onReconnectMessage=function(e){450===e.code&&(this.events.fire("slow","Reconnection recieved a slow code: "+e.code),this._isSlowConnection=!0,this.conn.setReconnect=!1),this.events.fire("reconnectMessage",e),console.log(e)},i.prototype.onConnectResponse=function(e){if(200!==e.code){var t=w.error("Connection failed",{code:e.code,reason:e.reason});return this.events.fire("error",t),this.pendingConnection&&this.pendingConnection(t),void this.doClose(t)}if(this._serverversion=e.version,this.flowControl.checkinterval=e.flowControlCheckInterval,this.maxEntitlementsPerSubscription=e.maxEntitlementsPerSubscription,this.isClosed()){var n=w.error("Connection was already closed",{code:-1,reason:"Already disconnected"});return this.events.fire("error",n),void(this.pendingConnection&&this.pendingConnection(n))}this.conn.setServer(e.serverInstance),this.pendingConnection&&this.pendingConnection(null,this)},i.prototype.onConnectionClose=function(e){this.doClose(w.close({reason:e.reason,code:e.code}))},i.prototype.onSlowConnection=function(e){this.log.debug(_.msgfmt.fmt(e)),this.events.fire("slow",e)},i.prototype.onStatsResponse=function(e){if(200==e.code)this.events.fire("stats",e);else{var t=w.error("Error getting stats",{code:e.code,reason:e.reason});this.events.fire("error",t)}},i.prototype.onInitialDataSent=function(e){this.log.debug(_.msgfmt.fmt(e)),this.events.fire("initialDataSent",e)},i.prototype.onResubscribeMessage=function(e){this.log.debug(_.msgfmt.fmt(e)),this.events.fire("resubscribeMessage",e)},i.prototype.onMissedDataSent=function(e){this.log.debug(_.msgfmt.fmt(e)),this.events.fire("missedDataSent",e)},i.prototype._handledatamsg=function(e){this.events.fire("message",e)},i.prototype.send=function(e){this.conn&&(e.sequenceNumber=this.flowControl.next(),this.conn.send(e))},i.prototype.doClose=function(e){if(!this.isClosed()){var t=this.conn;this.conn=null,t.close(),this.events.fire("close",e),t.isReconnect()&&(this.events=new E["default"],this.conn=t)}},i.prototype.performReconnect=function(e){if(null!=this.conn&&this.conn.isReconnect()){if(this.conn.isConnectionUp)return void this.log.warn("Connection is not closed and won't try reconnect.");this.conn.setReconnect(!0),this.conn.tryReopen(),e&&e()}else this.log.warn("Reconnect flag is set to false")},i.prototype.close=function(e){this.doClose(w.close({reason:"Manually closed",code:200})),e&&e()},i.prototype.isClosed=function(){return null==this.conn},i}();y["default"]=T}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},b("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],b("timers").setImmediate,b("timers").clearImmediate,"/lib/Stream.js","/lib")},{"./EventSupport.js":2,"./FlowControl.js":3,"./UShortId.js":9,"./formatting.js":13,"./logging.js":16,"./polyfills.js":18,"./streamer-api.js":108,"./streamer-events.js":109,"./streamer-utils.js":110,"./utils.js":115,_process:131,buffer:121,timers:152}],7:[function(v,e,O){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";O.__esModule=!0;var f=T(v("./atmosphere.js/lib/atmosphere.js")),d=T(v("./http.js")),p=v("./auth/AuthService.js"),h=v("./logging.js"),m=T(v("./auth/EnduserAuthService.js"));v("./polyfills.js");var E=T(v("./StreamingService.js")),_=T(v("./stomp/StompStreamingService.js")),g=T(v("./stomp.js/lib/stomp.js"));function T(e){return e&&e.__esModule?e:{"default":e}}var b={},y=void 0;function S(){y||(y=(0,h.asLogger)(b.logger),f["default"].util.log=function(e,t){y.log.apply(y,[e].concat(Array.from(t)))})}Object.assign(b,{login:function(e,t){new m["default"](d["default"],e).login(t)},open:function(e,t){S();var n=void 0;try{n=(0,p.asCredentials)(e.credentials)}catch(i){return void t(i)}var r=Object.assign({},e);r.credentials=n,r.format=r.format||"application/json",new E["default"](d["default"],f["default"],y,r).openStream(t)},openStomp:function(e,t){S();var n=void 0;try{n=(0,p.asCredentials)(e.credentials)}catch(s){return void t(s)}var r=e.host.split("//"),i="http:"===r[0]?"ws://":"wss://",o=Object.assign({},e);o.credentials=n,o.format=o.format||"application/json",o.url=i+r[1],new _["default"](d["default"],g["default"],y,o).openStompStream(t)},ping:function(e,t){new E["default"](d["default"],f["default"],y,{host:e}).ping(t)},getServerVersion:function(e,t){new E["default"](d["default"],f["default"],y,{host:e}).getVersion(t)}}),O["default"]=b}).call(this,v("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],v("timers").setImmediate,v("timers").clearImmediate,"/lib/Streamer.js","/lib")},{"./StreamingService.js":8,"./atmosphere.js/lib/atmosphere.js":10,"./auth/AuthService.js":11,"./auth/EnduserAuthService.js":12,"./http.js":14,"./logging.js":16,"./polyfills.js":18,"./stomp.js/lib/stomp.js":104,"./stomp/StompStreamingService.js":107,_process:131,buffer:121,timers:152}],8:[function(N,e,A){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";A.__esModule=!0,N("./polyfills.js");var f=N("./logging.js"),d=N("./streamer-api.js"),p=N("./message.js"),h=S(N("./serialization/SMessageDecoder.js")),m=S(N("./serialization/SMessageEncoder.js")),E=S(N("./transmission/SMessageTransmitter.js")),_=S(N("./transmission/JsonTransmitter.js")),g=S(N("./Connection.js")),T=S(N("./Stream.js")),b=S(N("./transmission/QitchTransmitter.js")),y=S(N("./qitch/encoder/QitchEncoder"));function S(e){return e&&e.__esModule?e:{"default":e}}var v="/ping/v1",O="/version/v1",w="/stream/v1",I=function(){function u(e,t,n,r){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.http=e,this.atmo=t,this.log=(0,f.asLogger)(n),this.config=r||{},this.maxReconnectAttempts=this.config.maxReconnectAttempts,this.format=this.config.format,"application/json"===this.config.format)this.createTransmitter=function(e){return new _["default"](e,i.log)};else if("application/qitch"===this.config.format){var o=new y["default"];this.createTransmitter=function(e){return new b["default"](e,o,i.log)},this.format=p.MimeTypes.QITCH}else{var s=new m["default"],a=new h["default"];this.createTransmitter=function(e){return new E["default"](e,s,a,i.log)},"application/json/legacy"===this.config.format&&(this.format=p.MimeTypes.JSON)}}return u.prototype.openSocket=function(e,t){var n={"X-Stream-Version":d.VERSION,"X-Stream-Lib":d.LIBRARY_NAME},r=this.config.conflation;null!=r&&""!==r&&(n["X-Stream-Conflation"]=r);var i=this.config.intervalPeriod;null!=i&&""!==i&&(n["X-Stream-Interval-Period"]=i),null!=t&&""!==t&&(n["X-Stream-Previous-Connection-Id"]=t);var o=this.config.rejectExcessiveConnection;null!=o&&""!==o&&(n["X-Stream-Reject"]=o),"application/json"!==this.config.format&&this.config.format!==p.MimeTypes.QITCH||(n["X-Stream-Format"]=this.format),this.format===p.MimeTypes.QITCH&&(n["X-Atmosphere-Binary"]=!0,n["X-atmo-protocol"]=!1),"true"===this.config.updatesOnly&&(n["X-Stream-UpdatesOnly"]=!0);var s=this.config.isReconnect;null!=s&&""!==s&&(n["x-Stream-isReconnect"]=s);var a=this.config.alwaysReconnect;null!=a&&""!==a&&(n["x-Stream-isAlwaysReopen"]=a),"ALL"===this.config.isMissedData?n["X-Stream-isReceiveAllMissedData"]=!0:"LATEST"===this.config.isMissedData&&(n["X-Stream-isReceiveLatestMissedData"]=!0);var u=this.config.connectionFrom;null!=u&&(n["X-Stream-connectionFrom"]=u),Object.assign(n,this.config.credentials.getHeaders());var l={url:this.config.host+w,transport:this.config.transport||"websocket",fallbackTransport:this.config.fallbackTransport||"streaming",enableXDR:!0===this.config.cors,trackMessageLength:!n["X-Atmosphere-Binary"],headers:n,maxReconnectOnClose:1,reconnectInterval:1e3,closeAsync:!0,connectTimeout:6e4};Object.assign(l,e(l));var c=this.atmo.subscribe(l);return{push:function(e){c.push(e)},close:function(){c.close()}}},u.prototype.createConnection=function(){var n=this;return new g["default"](function(e){return n.createTransmitter(e)},function(e,t){return n.openSocket(e,t)},this.log,this.maxReconnectAttempts)},u.prototype.openStream=function(e){new T["default"](this,this.format,this.log).open(e)},u.prototype.ping=function(t){this.http({url:this.config.host+v,success:function(e){return t(null,e)},type:"GET",failure:t})},u.prototype.getVersion=function(t){this.http({url:this.config.host+O,success:function(e){return t(null,e)},type:"GET",failure:t})},u}();A["default"]=I}).call(this,N("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},N("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],N("timers").setImmediate,N("timers").clearImmediate,"/lib/StreamingService.js","/lib")},{"./Connection.js":1,"./Stream.js":6,"./logging.js":16,"./message.js":17,"./polyfills.js":18,"./qitch/encoder/QitchEncoder":76,"./serialization/SMessageDecoder.js":99,"./serialization/SMessageEncoder.js":100,"./streamer-api.js":108,"./transmission/JsonTransmitter.js":112,"./transmission/QitchTransmitter.js":113,"./transmission/SMessageTransmitter.js":114,_process:131,buffer:121,timers:152}],9:[function(e,t,d){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";d.__esModule=!0;var f=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.val=t.MIN_VALUE}return t.prototype.next=function(){var e=this.val;return e<t.MAX_VALUE?this.val++:this.val=t.MIN_VALUE,e},t}();f.NULL=0,f.MIN_VALUE=1,f.MAX_VALUE=65535,d["default"]=f}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/UShortId.js","/lib")},{_process:131,buffer:121,timers:152}],10:[function(e,p,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";var f,d,ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*
 * Copyright 2015 Async-IO.org
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*
 * Copyright 2015 Async-IO.org
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
f=undefined,d=function(){var e,t,ee={},te=!1,i=[],ne=[],re=0,f=Object.prototype.hasOwnProperty;return(ee={version:"2.3.3-javascript",onError:function(e){},onClose:function(e){},onOpen:function(e){},onReopen:function(e){},onMessage:function(e){},onReconnect:function(e,t){},onMessagePublished:function(e){},onTransportFailure:function(e,t){},onLocalMessage:function(e){},onFailureToReconnect:function(e,t){},onClientTimeout:function(e){},onOpenAfterResume:function(e){},WebsocketApiAdapter:function(e){var t,n;return e.onMessage=function(e){n.onmessage({data:e.responseBody})},e.onMessagePublished=function(e){n.onmessage({data:e.responseBody})},e.onOpen=function(e){n.onopen(e)},n={close:function(){t.close()},send:function(e){t.push(e)},onmessage:function(e){},onopen:function(e){},onclose:function(e){},onerror:function(e){}},t=new ee.subscribe(e),n},AtmosphereRequest:function(e){var a,l,u,d={timeout:3e5,method:"GET",headers:{},contentType:"",callback:null,url:"",data:"",suspend:!0,maxRequest:-1,reconnect:!0,maxStreamingLength:1e7,lastIndex:0,logLevel:"info",requestCount:0,fallbackMethod:"GET",fallbackTransport:"streaming",transport:"long-polling",webSocketImpl:null,webSocketBinaryType:null,dispatchUrl:null,webSocketPathDelimiter:"@@",enableXDR:!1,rewriteURL:!1,attachHeadersAsQueryString:!0,executeCallbackBeforeReconnect:!1,readyState:0,withCredentials:!0,trackMessageLength:!1,messageDelimiter:"|",connectTimeout:-1,reconnectInterval:0,dropHeaders:!0,uuid:0,async:!0,shared:!1,readResponsesHeaders:!1,maxReconnectOnClose:5,enableProtocol:!0,disableDisconnect:!1,pollingInterval:0,heartbeat:{client:null,server:null},ackInterval:0,closeAsync:!1,reconnectOnServerError:!0,handleOnlineOffline:!0,onError:function(e){},onClose:function(e){},onOpen:function(e){},onMessage:function(e){},onReopen:function(e,t){},onReconnect:function(e,t){},onMessagePublished:function(e){},onTransportFailure:function(e,t){},onLocalMessage:function(e){},onFailureToReconnect:function(e,t){},onClientTimeout:function(e){},onOpenAfterResume:function(e){}},p={status:200,reasonPhrase:"OK",responseBody:"",messages:[],headers:[],state:"messageReceived",transport:"polling",error:null,request:null,partialMessage:"",errorHandled:!1,closedByClientTimeout:!1,ffTryingReconnect:!1},o=null,s=null,n=null,r=null,c=null,i=!0,h=0,f=0,m="X",E=!1,_=null,g=null,T=ee.util.now();function t(){E=!(i=!0),h=0,r=n=s=o=null}function b(e){return"debug"==e?"debug"===d.logLevel:"info"==e?"info"===d.logLevel||"debug"===d.logLevel:"warn"==e?"warn"===d.logLevel||"info"===d.logLevel||"debug"===d.logLevel:"error"==e&&("error"===d.logLevel||"warn"===d.logLevel||"info"===d.logLevel||"debug"===d.logLevel)}function y(e){b("debug")&&ee.util.debug(new Date+" Atmosphere: "+e)}function S(e,t){return""===p.partialMessage&&"streaming"===t.transport&&e.responseText.length>t.maxStreamingLength}function v(){if(d.enableProtocol&&!d.disableDisconnect&&!d.firstMessage){var r="X-Atmosphere-Transport=close&X-Atmosphere-tracking-id="+d.uuid;ee.util.each(d.headers,function(e,t){var n=ee.util.isFunction(t)?t.call(this,d,d,p):t;null!=n&&(r+="&"+encodeURIComponent(e)+"="+encodeURIComponent(n))});var e=d.url.replace(/([?&])_=[^&]*/,r);e+=e===d.url?(/\?/.test(d.url)?"&":"?")+r:"";var t=new ee.AtmosphereRequest({connected:!1});t.connectTimeout=d.connectTimeout,t.attachHeadersAsQueryString=!1,t.dropHeaders=!0,t.url=e,t.contentType="text/plain",t.transport="polling",t.method="GET",t.data="",t.heartbeat=null,d.enableXDR&&(t.enableXDR=d.enableXDR),t.async=d.closeAsync,function(e,t){t||(t=Q(e));t.transport="polling",t.method="GET",t.withCredentials=!1,t.reconnect=!1,t.force=!0,t.suspend=!1,t.timeout=1e3,k(t)}("",t)}}function O(){y("Closing (AtmosphereRequest._close() called)"),E=!0,d.reconnectId&&(clearTimeout(d.reconnectId),delete d.reconnectId),d.heartbeatTimer&&clearTimeout(d.heartbeatTimer),d.reconnect=!1,p.request=d,p.state="unsubscribe",p.responseBody="",p.status=408,p.partialMessage="",$(),v(),w()}function w(){p.partialMessage="",d.id&&clearTimeout(d.id),d.heartbeatTimer&&clearTimeout(d.heartbeatTimer),d.reconnectId&&(clearTimeout(d.reconnectId),delete d.reconnectId),null!=r&&(r.close(),r=null),null!=c&&(c.abort(),c=null),null!=n&&(n.abort(),n=null),null!=o&&(o.canSendMessage&&(y("invoking .close() on WebSocket object"),o.close()),o=null),null!=s&&(s.close(),s=null),function(){null!=a&&(clearInterval(l),document.cookie=u+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",a.signal("close",{reason:"",heir:E?(a.get("children")||[])[0]:T}),a.close());null!=g&&g.close()}()}function I(e){w(),t(),(d=ee.util.extend(d,e)).mrequest=d.reconnect,d.reconnect||(d.reconnect=!0)}function N(){if(d.shared){if(null!=(g=function(o){var t,n,r,s="atmosphere-"+o.url,e={storage:function(){function t(e){e.key===s&&e.newValue&&u(e.newValue)}if(ee.util.storage){var n=window.localStorage,r=function(e){var t=n.getItem(s+"-"+e);return null===t?[]:ee.util.parseJSON(t)},i=function(e,t){n.setItem(s+"-"+e,ee.util.stringifyJSON(t))};return{init:function(){return i("children",r("children").concat([T])),ee.util.on(window,"storage",t),r("opened")},signal:function(e,t){n.setItem(s,ee.util.stringifyJSON({target:"p",type:e,data:t}))},close:function(){var e=r("children");ee.util.off(window,"storage",t),e&&a(e,o.id)&&i("children",e)}}}},windowref:function(){var n=window.open("",s.replace(/\W/g,""));if(n&&!n.closed&&n.callbacks)return{init:function(){return n.callbacks.push(u),n.children.push(T),n.opened},signal:function(e,t){!n.closed&&n.fire&&n.fire(ee.util.stringifyJSON({target:"p",type:e,data:t}))},close:function(){r||(a(n.callbacks,u),a(n.children,T))}}}};function a(e,t){var n,r=e.length;for(n=0;n<r;n++)e[n]===t&&e.splice(n,1);return r!==e.length}function u(e){var t=ee.util.parseJSON(e),n=t.data;if("c"===t.target)switch(t.type){case"open":A("opening","local",d);break;case"close":r||(r=!0,"aborted"===n.reason?O():n.heir===T?N():setTimeout(function(){N()},100));break;case"message":X(n,"messageReceived",200,o.transport);break;case"localMessage":K(n)}}function i(){var e=new RegExp("(?:^|; )("+encodeURIComponent(s)+")=([^;]*)").exec(document.cookie);if(e)return ee.util.parseJSON(decodeURIComponent(e[2]))}if(!(t=i())||1e3<ee.util.now()-t.ts)return;if(!(n=e.storage()||e.windowref()))return;return{open:function(){var e;return l=setInterval(function(){var e=t;(t=i())&&e.ts!==t.ts||u(ee.util.stringifyJSON({target:"c",type:"close",data:{reason:"error",heir:e.heir}}))},1e3),(e=n.init())&&setTimeout(function(){A("opening","local",o)},50),e},send:function(e){n.signal("send",e)},localSend:function(e){n.signal("localSend",ee.util.stringifyJSON({id:T,event:e}))},close:function(){E||(clearInterval(l),n.signal("close"),n.close())}}}(d))&&(b("debug")&&ee.util.debug("Storage service available. All communication will be local"),g.open(d)))return;b("debug")&&ee.util.debug("No Storage service available."),g=null}var e,r,i;d.firstMessage=0==re,d.isOpen=!1,d.ctime=ee.util.now(),0===d.uuid&&(d.uuid=re),p.closedByClientTimeout=!1,"websocket"!==d.transport&&"sse"!==d.transport?k(d):"websocket"===d.transport?null!=d.webSocketImpl||window.WebSocket||window.MozWebSocket?function n(s){p.transport="websocket";var e=(d.url,B(d,ee.util.getAbsoluteURL(d.webSocketUrl||d.url)).replace(/^http/,"ws"));b("debug")&&ee.util.debug("Invoking executeWebSocket, using URL: "+e);if(s&&!d.reconnect)return void(null!=o&&w());o=function(e){{return null!=d.webSocketImpl?d.webSocketImpl:window.WebSocket?new WebSocket(e):new MozWebSocket(e)}}(e);null!=d.webSocketBinaryType&&(o.binaryType=d.webSocketBinaryType);0<d.connectTimeout&&(d.id=setTimeout(function(){if(s);else{o.onclose({code:1002,reason:"",wasClean:!1});try{w()}catch(e){}}},d.connectTimeout));o.onopen=function(e){y("websocket.onopen"),M(d),te=!1,b("debug")&&ee.util.debug("Websocket successfully opened");var t=s;null!=o&&(o.canSendMessage=!0),d.enableProtocol||(s=!0,A(t?"re-opening":"opening","websocket",d)),null!=o&&"POST"===d.method&&(p.state="messageReceived",o.send(d.data))};o.onmessage=function(e){y("websocket.onmessage"),M(d),d.enableProtocol&&(s=!0),p.state="messageReceived",p.status=200;var t,n,r,i="string"==typeof(e=e.data);if(i){var o=L(e,d,p);o||($(),p.responseBody="",p.messages=[])}else d.firstMessage?function(n,e,r){if(e instanceof Blob){var i=n.firstMessage;n.firstMessage=!1;var t=new FileReader;t.addEventListener("loadend",function(e){if(r){var t=C(n,e.target.result);i||r(t)}}),t.readAsText(e)}else r&&r(C(n,e))}(d,e,function(e){""!==e&&(p.responseBody=e,$(),p.responseBody=null)}):(t=e,n=function(e){p.responseBody=e,$(),p.responseBody=null},(r=new FileReader).addEventListener("loadend",function(e){n&&n(e.target.result)}),r.readAsArrayBuffer(t))};o.onerror=function(e){y("websocket.onerror"),clearTimeout(d.id),d.heartbeatTimer&&clearTimeout(d.heartbeatTimer),
// Patched by QuoteMedia
D(460,"Websocket error")};o.onclose=function(e){if(y("websocket.onclose"),clearTimeout(d.id),"closed"!==p.state){var t=e.reason;if(""===t)switch(e.code){case 1e3:t="Normal closure; the connection successfully completed whatever purpose for which it was created.";break;case 1001:t="The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.";break;case 1002:t="The endpoint is terminating the connection due to a protocol error.";break;case 1003:t="The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data).";break;case 1004:t="The endpoint is terminating the connection because a data frame was received that is too large.";break;case 1005:t="Unknown: no status code was provided even though one was expected.";break;case 1006:t="Connection was closed abnormally (that is, with no close frame being sent)."}b("warn")&&ee.util.warn("Websocket closed, reason: "+t+" - wasClean: "+e.wasClean),p.closedByClientTimeout||d.handleOnlineOffline&&te?d.reconnectId&&(clearTimeout(d.reconnectId),delete d.reconnectId):(Z(s,e),p.state="closed",E?ee.util.log(d.logLevel,["Websocket closed normally"]):s?d.reconnect&&"websocket"===p.transport&&(w(),h++<d.maxReconnectOnClose?(A("re-connecting",d.transport,d),0<d.reconnectInterval?d.reconnectId=setTimeout(function(){p.responseBody="",p.messages=[],n(!0)},d.reconnectInterval):(p.responseBody="",p.messages=[],n(!0))):(ee.util.log(d.logLevel,["Websocket reconnect maximum try reached "+h]),b("warn")&&ee.util.warn("Websocket error, reason: "+e.reason),D(0,"maxReconnectOnClose reached"))):R("Websocket failed on first connection attempt. Downgrading to "+d.fallbackTransport+" and resending"))}};var t=navigator.userAgent.toLowerCase();var r=-1<t.indexOf("android");r&&o.url===undefined&&o.onclose({reason:"Android 4.1 does not support websockets.",wasClean:!1})}(!1):R("Websocket is not supported, using request.fallbackTransport ("+d.fallbackTransport+")"):"sse"===d.transport&&(e=ee.util.getAbsoluteURL(d.url.toLowerCase()),r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/.exec(e),i=!(!r||r[1]==window.location.protocol&&r[2]==window.location.hostname&&(r[3]||("http:"===r[1]?80:443))==(window.location.port||("http:"===window.location.protocol?80:443))),!window.EventSource||i&&ee.util.browser.safari&&!(7<=ee.util.browser.vmajor)?R("Server Side Events(SSE) is not supported, using request.fallbackTransport ("+d.fallbackTransport+")"):function t(n){p.transport="sse";var e=B(d);b("debug")&&(ee.util.debug("Invoking executeSSE"),ee.util.debug("Using URL: "+e));if(n&&!d.reconnect)return void(null!=s&&w());try{s=new EventSource(e,{withCredentials:d.withCredentials})}catch(r){return D(0,r),void R("SSE failed. Downgrading to fallback transport and resending")}0<d.connectTimeout&&(d.id=setTimeout(function(){n||w()},d.connectTimeout));s.onopen=function(e){y("sse.onopen"),M(d),b("debug")&&ee.util.debug("SSE successfully opened"),d.enableProtocol?d.isReopen&&(d.isReopen=!1,A("re-opening",d.transport,d)):A(n?"re-opening":"opening","sse",d),n=!0,"POST"===d.method&&(p.state="messageReceived",s.send(d.data))};s.onmessage=function(e){if(y("sse.onmessage"),M(d),!d.enableXDR&&window.location.host&&e.origin&&e.origin!==window.location.protocol+"//"+window.location.host)ee.util.log(d.logLevel,["Origin was not "+window.location.protocol+"//"+window.location.host]);else{p.state="messageReceived",p.status=200;var t=L(e=e.data,d,p);t||($(),p.responseBody="",p.messages=[])}};s.onerror=function(e){y("sse.onerror"),clearTimeout(d.id),d.heartbeatTimer&&clearTimeout(d.heartbeatTimer),p.closedByClientTimeout||(Z(n),w(),E?ee.util.log(d.logLevel,["SSE closed normally"]):n?d.reconnect&&"sse"===p.transport&&(h++<d.maxReconnectOnClose?(A("re-connecting",d.transport,d),0<d.reconnectInterval?d.reconnectId=setTimeout(function(){t(!0)},d.reconnectInterval):t(!0),p.responseBody="",p.messages=[]):(ee.util.log(d.logLevel,["SSE reconnect maximum try reached "+h]),D(0,"maxReconnectOnClose reached"))):R("SSE failed. Downgrading to fallback transport and resending"))}}(!1))}function A(e,t,n){if(d.shared&&"local"!==t&&function(){var t,r="atmosphere-"+d.url,e=function(){var n,e=r.replace(/\W/g,""),t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,t.style.display="none",t.innerHTML='<iframe name="'+e+'" />',document.body.appendChild(t)),n=t.firstChild.contentWindow,{init:function(){n.callbacks=[i],n.fire=function(e){var t;for(t=0;t<n.callbacks.length;t++)n.callbacks[t](e)}},signal:function(e,t){!n.closed&&n.fire&&n.fire(ee.util.stringifyJSON({target:"c",type:e,data:t}))},get:function(e){return n.closed?null:n[e]},set:function(e,t){n.closed||(n[e]=t)},close:function(){}}};function i(e){var t=ee.util.parseJSON(e),n=t.data;if("p"===t.target)switch(t.type){case"send":q(n);break;case"localSend":K(n);break;case"close":O()}}function n(){document.cookie=u+"="+encodeURIComponent(ee.util.stringifyJSON({ts:ee.util.now()+1,heir:(t.get("children")||[])[0]}))+"; path=/"}_=function(e){t.signal("message",e)},(t=function(){function e(e){e.key===r&&e.newValue&&i(e.newValue)}if(ee.util.storage){var n=window.localStorage;return{init:function(){ee.util.on(window,"storage",e)},signal:function(e,t){n.setItem(r,ee.util.stringifyJSON({target:"c",type:e,data:t}))},get:function(e){return ee.util.parseJSON(n.getItem(r+"-"+e))},set:function(e,t){n.setItem(r+"-"+e,ee.util.stringifyJSON(t))},close:function(){ee.util.off(window,"storage",e),n.removeItem(r),n.removeItem(r+"-opened"),n.removeItem(r+"-children")}}}}()||e()).init(),b("debug")&&ee.util.debug("Installed StorageService "+t),t.set("children",[]),null==t.get("opened")||t.get("opened")||t.set("opened",!1),u=encodeURIComponent(r),n(),l=setInterval(n,1e3),a=t}(),null!=a&&a.set("opened",!0),n.close=function(){O()},0<h&&"re-connecting"===e)n.isReopen=!0,(s=p).state="re-connecting",z(s);else if(null==p.error){p.request=n;var r=p.state;p.state=e;var i=p.transport;p.transport=t;var o=p.responseBody;$(),p.responseBody=o,p.state=r,p.transport=i}var s}function F(i){i.transport="jsonp";var o,s=d;null!=i&&void 0!==i&&(s=i),(c={open:function(){var r="atmosphere"+ ++T;function e(){var e=s.url;null!=s.dispatchUrl&&(e+=s.dispatchUrl);var t=s.data;s.attachHeadersAsQueryString&&(e=B(s),""!==t&&(e+="&X-Atmosphere-Post-Body="+encodeURIComponent(t)),t="");var n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;(o=document.createElement("script")).src=e+"&jsonpTransport="+r,o.clean=function(){o.clean=o.onerror=o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),2==++i.scriptCount&&(i.scriptCount=1,s.lastIndex=0,s.openId&&clearTimeout(s.openId),s.heartbeatTimer&&clearTimeout(s.heartbeatTimer),s.reconnect&&h++<s.maxReconnectOnClose?(A("re-connecting",s.transport,s),H(c,s,i.reconnectInterval),s.openId=setTimeout(function(){U(s)},s.reconnectInterval+1e3)):D(0,"maxReconnectOnClose reached"))},o.onload=o.onreadystatechange=function(){y("jsonp.onload"),o.readyState&&!/loaded|complete/.test(o.readyState)||o.clean()},o.onerror=function(){y("jsonp.onerror"),i.scriptCount=1,o.clean()},n.insertBefore(o,n.firstChild)}window[r]=function(e){if(y("jsonp.window"),i.scriptCount=0,s.reconnect&&-1===s.maxRequest||s.requestCount++<s.maxRequest){if(s.executeCallbackBeforeReconnect||H(c,s,s.pollingInterval),null!=e&&"string"!=typeof e)try{e=e.message}catch(t){}L(e,s,p)||X(p.responseBody,"messageReceived",200,s.transport),s.executeCallbackBeforeReconnect&&H(c,s,s.pollingInterval),M(s)}else ee.util.log(d.logLevel,["JSONP reconnect maximum try reached "+d.requestCount]),D(0,"maxRequest reached")},setTimeout(function(){e()},50)},abort:function(){o&&o.clean&&o.clean()}}).open()}function C(e,t){var n=t;if("polling"===e.transport)return n;if(e.enableProtocol&&e.firstMessage&&0!==ee.util.trim(t).length){var r=e.trackMessageLength?1:0,i=t.split(e.messageDelimiter);if(i.length<=r+1)return n;if(e.firstMessage=!1,e.uuid=ee.util.trim(i[r]),i.length<=r+2&&ee.util.log("error",["Protocol data not sent by the server. If you enable protocol on client side be sure to install JavascriptProtocol interceptor on server side.Also note that atmosphere-runtime 2.2+ should be used."]),f=parseInt(ee.util.trim(i[r+1]),10),m=i[r+2],"long-polling"!==e.transport&&U(e),re=e.uuid,n="",r=e.trackMessageLength?4:3,i.length>r)for(var o=r;o<i.length;o++)n+=i[o],o+1!==i.length&&(n+=e.messageDelimiter);0!==e.ackInterval&&setTimeout(function(){q("...ACK...")},e.ackInterval)}else e.enableProtocol&&e.firstMessage&&ee.util.browser.msie&&+ee.util.browser.version.split(".")[0]<10?ee.util.log(d.logLevel,["Receiving unexpected data from IE"]):U(e);return n}function M(e){clearTimeout(e.id),0<e.timeout&&"polling"!==e.transport&&(e.id=setTimeout(function(){p.closedByClientTimeout=!0,p.state="closedByClient",p.responseBody="",p.status=408,p.messages=[],$(),v(),w()},e.timeout))}function D(e,t){w(),clearTimeout(d.id),p.state="error",p.reasonPhrase=t,p.responseBody="",p.status=e,p.messages=[],$()}function L(e,t,n){if(e instanceof Blob)return!1;if(0===(e=C(t,e)).length)return!0;if(n.responseBody=e,t.trackMessageLength){var r=[],i=(e=n.partialMessage+e).indexOf(t.messageDelimiter);if(-1!=i){for(;-1!==i;){var o=e.substring(0,i),s=+o;if(isNaN(s))throw n.partialMessage="",new Error('message length "'+o+'" is not a number');(i+=t.messageDelimiter.length)+s>e.length?i=-1:(r.push(e.substring(i,i+s)),i=(e=e.substring(i+s,e.length)).indexOf(t.messageDelimiter))}return n.partialMessage=e,0!==r.length?(n.responseBody=r.join(t.messageDelimiter),n.messages=r,!1):(n.responseBody="",n.messages=[],!0)}}return n.responseBody=e,!(n.messages=[e])}function R(e){ee.util.log(d.logLevel,[e]),"undefined"!=typeof d.onTransportFailure?d.onTransportFailure(e,d):"undefined"!=typeof ee.util.onTransportFailure&&ee.util.onTransportFailure(e,d),d.transport=d.fallbackTransport;var t=-1===d.connectTimeout?0:d.connectTimeout;d.reconnect&&"none"!==d.transport||null==d.transport?(d.method=d.fallbackMethod,p.transport=d.fallbackTransport,d.fallbackTransport="none",0<t?d.reconnectId=setTimeout(function(){N()},t):N()):D(500,"Unable to reconnect with fallback transport")}function B(r,i){var o=d;return null!=r&&void 0!==r&&(o=r),null==i&&(i=o.url),o.attachHeadersAsQueryString&&(-1!==i.indexOf("X-Atmosphere-Framework")||(i+=-1!==i.indexOf("?")?"&":"?",i+="X-Atmosphere-tracking-id="+o.uuid,i+="&X-Atmosphere-Framework="+ee.version,i+="&X-Atmosphere-Transport="+o.transport,o.trackMessageLength&&(i+="&X-Atmosphere-TrackMessageSize=true"),null!==o.heartbeat&&null!==o.heartbeat.server&&(i+="&X-Heartbeat-Server="+o.heartbeat.server),""!==o.contentType&&(i+="&Content-Type="+("websocket"===o.transport?o.contentType:encodeURIComponent(o.contentType))),o.enableProtocol&&(i+="&X-atmo-protocol=true"),ee.util.each(o.headers,function(e,t){var n=ee.util.isFunction(t)?t.call(this,o,r,p):t;null!=n&&(i+="&"+encodeURIComponent(e)+"="+encodeURIComponent(n))}))),i}function U(e){if(e.isOpen)if(e.isReopen)e.isReopen=!1,A("re-opening",e.transport,e);else{if("messageReceived"!==p.state||"jsonp"!==e.transport&&"long-polling"!==e.transport)return;(t=p).state="openAfterResume",z(t),t.state="messageReceived"}else e.isOpen=!0,A("opening",e.transport,e);var t;!function(t){null!=t.heartbeatTimer&&clearTimeout(t.heartbeatTimer);if(!isNaN(f)&&0<f){t.heartbeatTimer=setTimeout(function e(){b("debug")&&ee.util.debug("Sending heartbeat");q(m),t.heartbeatTimer=setTimeout(e,f)},f)}}(e)}function k(u){var l=d;if(null==u&&void 0===u||(l=u),l.lastIndex=0,l.readyState=0,"jsonp"===l.transport||l.enableXDR&&ee.util.checkCORSSupport())F(l);else{if(ee.util.browser.msie&&+ee.util.browser.version.split(".")[0]<10){if("streaming"===l.transport)return void(l.enableXDR&&window.XDomainRequest?G(l):j(l));if(l.enableXDR&&window.XDomainRequest)return void G(l)}var t=function(e){if(l.lastIndex=0,h++,e||l.reconnect&&h<=l.maxReconnectOnClose){var t=e?0:u.reconnectInterval;p.ffTryingReconnect=!0,A("re-connecting",u.transport,u),H(f,l,t)}else D(0,"maxReconnectOnClose reached")},c=function(e){ee._beforeUnloadState?(ee.util.debug(new Date+" Atmosphere: reconnectF: execution delayed due to _beforeUnloadState flag"),setTimeout(function(){t(e)},5e3)):t(e)};if(l.force||l.reconnect&&(-1===l.maxRequest||l.requestCount++<l.maxRequest)){l.force=!1;var f=ee.util.xhr();f.hasData=!1,function(r,i,o){var e=i.url;null!=i.dispatchUrl&&"POST"===i.method&&(e+=i.dispatchUrl);e=B(i,e),e=ee.util.prepareURL(e),o&&(r.open(i.method,e,i.async),0<i.connectTimeout&&(i.id=setTimeout(function(){0===i.requestCount&&(w(),X("Connect timeout","closed",200,i.transport))},i.connectTimeout)));d.withCredentials&&"websocket"!==d.transport&&"withCredentials"in r&&(r.withCredentials=!0);d.dropHeaders||(r.setRequestHeader("X-Atmosphere-Framework",ee.version),r.setRequestHeader("X-Atmosphere-Transport",i.transport),null!==i.heartbeat&&null!==i.heartbeat.server&&r.setRequestHeader("X-Heartbeat-Server",r.heartbeat.server),i.trackMessageLength&&r.setRequestHeader("X-Atmosphere-TrackMessageSize","true"),r.setRequestHeader("X-Atmosphere-tracking-id",i.uuid),ee.util.each(i.headers,function(e,t){var n=ee.util.isFunction(t)?t.call(this,r,i,o,p):t;null!=n&&r.setRequestHeader(e,n)}));""!==i.contentType&&r.setRequestHeader("Content-Type",i.contentType)}(f,l,!0),l.suspend&&(n=f),"polling"!==l.transport&&(p.transport=l.transport,f.onabort=function(){y("ajaxrequest.onabort"),Z(!0)},f.onerror=function(){y("ajaxrequest.onerror"),p.error=!0,p.ffTryingReconnect=!0;try{p.status=XMLHttpRequest.status}catch(e){p.status=500}p.status||(p.status=500),p.errorHandled||(w(),c(!1))}),f.onreadystatechange=function(){if(y("ajaxRequest.onreadystatechange, new state: "+f.readyState),E)y("onreadystatechange has been ignored due to _abortingConnection flag");else{p.error=null;var n=!1,e=!1;if("streaming"===l.transport&&2<l.readyState&&4===f.readyState)return w(),void c(!1);if(l.readyState=f.readyState,"streaming"===l.transport&&3<=f.readyState?e=!0:"long-polling"===l.transport&&4===f.readyState&&(e=!0),M(d),"polling"!==l.transport){var t=200;if(4===f.readyState&&(t=1e3<f.status?0:f.status),!l.reconnectOnServerError&&300<=t&&t<600)return void D(t,f.statusText);if(300<=t||0===t)return p.errorHandled=!0,w(),void c(!1);l.enableProtocol&&u.firstMessage||2!==f.readyState||(ee.util.browser.mozilla&&p.ffTryingReconnect?(p.ffTryingReconnect=!1,setTimeout(function(){p.ffTryingReconnect||U(l)},500)):U(l))}else 4===f.readyState&&(e=!0);if(e){var r=f.responseText;if(p.errorHandled=!1,"long-polling"===l.transport&&0===ee.util.trim(r).length)return void(f.hasData?f.hasData=!1:c(!0));if(f.hasData=!0,W(f,d),"streaming"===l.transport)if(ee.util.browser.opera)ee.util.iterate(function(){if(500!==p.status&&f.responseText.length>l.lastIndex){try{p.status=f.status,p.headers=ee.util.parseHeaders(f.getAllResponseHeaders()),W(f,d)}catch(t){p.status=404}M(d),p.state="messageReceived";var e=f.responseText.substring(l.lastIndex);if(l.lastIndex=f.responseText.length,(n=L(e,l,p))||$(),S(f,l))return void P(f,l)}else if(400<p.status)return l.lastIndex=f.responseText.length,!1},0);else{var i=r.substring(l.lastIndex,r.length);if(n=L(i,l,p),l.lastIndex=r.length,n)return}else n=L(r,l,p);var o=S(f,l);try{p.status=f.status,p.headers=ee.util.parseHeaders(f.getAllResponseHeaders()),W(f,l)}catch(a){p.status=404}l.suspend?p.state=0===p.status?"closed":"messageReceived":p.state="messagePublished";var s=!o&&"streaming"!==u.transport&&"polling"!==u.transport;s&&!l.executeCallbackBeforeReconnect&&H(f,l,l.pollingInterval),0===p.responseBody.length||n||$(),s&&l.executeCallbackBeforeReconnect&&H(f,l,l.pollingInterval),o&&P(f,l)}}};try{"streaming"===l.transport&&l.headers["X-Atmosphere-Binary"]&&f.overrideMimeType("text/plain; charset=x-user-defined"),f.send(l.data),i=!0}catch(e){ee.util.log(l.logLevel,["Unable to connect to "+l.url]),D(0,e)}}else"debug"===l.logLevel&&ee.util.log(l.logLevel,["Max re-connection reached."]),D(0,"maxRequest reached")}}function P(e,t){p.messages=[],t.isReopen=!0,O(),E=!1,H(e,t,500)}function H(e,t,n){if(!p.closedByClientTimeout&&(t.reconnect||t.suspend&&i)){var r=0;e&&1<e.readyState&&(r=1e3<e.status?0:e.status),p.status=0===r?204:r,p.reason=0===r?"Server resumed the connection or down.":"OK",clearTimeout(t.id),t.reconnectId&&(clearTimeout(t.reconnectId),delete t.reconnectId),0<n?d.reconnectId=setTimeout(function(){k(t)},n):k(t)}}function G(e){"polling"!==e.transport?(r=x(e)).open():x(e).open()}function x(e){var r=d;null!=e&&void 0!==e&&(r=e);var i=r.transport,o=0,t=new window.XDomainRequest,s=function(){"long-polling"===r.transport&&r.reconnect&&(-1===r.maxRequest||r.requestCount++<r.maxRequest)&&(t.status=200,G(r))},n=r.rewriteURL||function(e){var t=/(?:^|;\s*)(JSESSIONID|PHPSESSID)=([^;]*)/.exec(document.cookie);switch(t&&t[1]){case"JSESSIONID":return e.replace(/;jsessionid=[^\?]*|(\?)|$/,";jsessionid="+t[2]+"$1");case"PHPSESSID":return e.replace(/\?PHPSESSID=[^&]*&?|\?|$/,"?PHPSESSID="+t[2]+"&").replace(/&$/,"")}return e};t.onprogress=function(){a(t)},t.onerror=function(){"polling"!==r.transport&&(w(),h++<r.maxReconnectOnClose?0<r.reconnectInterval?r.reconnectId=setTimeout(function(){A("re-connecting",e.transport,e),G(r)},r.reconnectInterval):(A("re-connecting",e.transport,e),G(r)):D(0,"maxReconnectOnClose reached"))},t.onload=function(){};var a=function(e){clearTimeout(r.id);var t=e.responseText;if(t=t.substring(o),o+=t.length,"polling"!==i){M(r);var n=L(t,r,p);if("long-polling"===i&&0===ee.util.trim(t).length)return;r.executeCallbackBeforeReconnect&&s(),n||X(p.responseBody,"messageReceived",200,i),r.executeCallbackBeforeReconnect||s()}};return{open:function(){var e=r.url;null!=r.dispatchUrl&&(e+=r.dispatchUrl),e=B(r,e),t.open(r.method,n(e)),"GET"===r.method?t.send():t.send(r.data),0<r.connectTimeout&&(r.id=setTimeout(function(){0===r.requestCount&&(w(),X("Connect timeout","closed",200,r.transport))},r.connectTimeout))},close:function(){t.abort()}}}function j(e){(r=function(e){var o,s=d;null!=e&&void 0!==e&&(s=e);var a=new window.ActiveXObject("htmlfile");a.open(),a.close();var t=s.url;null!=s.dispatchUrl&&(t+=s.dispatchUrl);"polling"!==s.transport&&(p.transport=s.transport);return{open:function(){var e=a.createElement("iframe");t=B(s),""!==s.data&&(t+="&X-Atmosphere-Post-Body="+encodeURIComponent(s.data)),t=ee.util.prepareURL(t),e.src=t,a.body.appendChild(e);var i=e.contentDocument||e.contentWindow.document;o=ee.util.iterate(function(){try{if(!i.firstChild)return;var n=i.body?i.body.lastChild:i;n.omgThisIsBroken;if(!i.body||!i.body.firstChild||"pre"!==i.body.firstChild.nodeName.toLowerCase()){var e=i.head||i.getElementsByTagName("head")[0]||i.documentElement||i,t=i.createElement("script");t.text="document.write('<plaintext>')",e.insertBefore(t,e.firstChild),e.removeChild(t),n=i.body.lastChild}return s.closed&&(s.isReopen=!0),o=ee.util.iterate(function(){var e=function(){var e=n.cloneNode(!0);e.appendChild(i.createTextNode("."));var t=e.innerText;return t=t.substring(0,t.length-1)}();if(e.length>s.lastIndex){M(d),p.status=200,p.error=null,n.innerText="";var t=L(e,s,p);if(t)return"";X(p.responseBody,"messageReceived",200,s.transport)}if(s.lastIndex=0,"complete"===i.readyState)return Z(!0),A("re-connecting",s.transport,s),0<s.reconnectInterval?s.reconnectId=setTimeout(function(){j(s)},s.reconnectInterval):j(s),!1},null),!1}catch(r){return p.error=!0,A("re-connecting",s.transport,s),h++<s.maxReconnectOnClose?0<s.reconnectInterval?s.reconnectId=setTimeout(function(){j(s)},s.reconnectInterval):j(s):D(0,"maxReconnectOnClose reached"),a.execCommand("Stop"),a.close(),!1}})},close:function(){o&&o(),a.execCommand("Stop"),Z(!0)}}}(e)).open()}function q(e){var t;null!=g?(t=e,g.send(t)):null!=n||null!=s?V(e):null!=r?function(e){if(d.enableXDR&&ee.util.checkCORSSupport()){var t=Q(e);t.reconnect=!1,F(t)}else V(e)}(e):null!=c?V(e):null!=o?function(e){var t,n=ee.util.isBinary(e)?e:Y(e);try{if(t=null!=d.dispatchUrl?d.webSocketPathDelimiter+d.dispatchUrl+d.webSocketPathDelimiter+n:n,!o.canSendMessage)return ee.util.error("WebSocket not connected.");o.send(t)}catch(r){o.onclose=function(e){},w(),R("Websocket failed. Downgrading to "+d.fallbackTransport+" and resending "+e),V(e)}}(e):(D(0,"No suspended connection available"),ee.util.error("No suspended connection available. Make sure atmosphere.subscribe has been called and request.onOpen invoked before trying to push data"))}function V(e){k(Q(e))}function Y(e){var t=e;return"object"===(void 0===t?"undefined":ie(t))&&(t=e.data),t}function Q(e){var t=Y(e),n={connected:!1,timeout:6e4,method:"POST",url:d.url,contentType:d.contentType,headers:d.headers,reconnect:!0,callback:null,data:t,suspend:!1,maxRequest:-1,logLevel:"info",requestCount:0,withCredentials:d.withCredentials,async:d.async,transport:"polling",isOpen:!0,attachHeadersAsQueryString:!0,enableXDR:d.enableXDR,uuid:d.uuid,dispatchUrl:d.dispatchUrl,enableProtocol:!1,messageDelimiter:"|",trackMessageLength:d.trackMessageLength,maxReconnectOnClose:d.maxReconnectOnClose,heartbeatTimer:d.heartbeatTimer,heartbeat:d.heartbeat};return"object"===(void 0===e?"undefined":ie(e))&&(n=ee.util.extend(n,e)),n}function K(e){var t=ee.util.parseJSON(e);t.id!==T&&("undefined"!=typeof d.onLocalMessage?d.onLocalMessage(t.event):"undefined"!=typeof ee.util.onLocalMessage&&ee.util.onLocalMessage(t.event))}function X(e,t,n,r){p.responseBody=e,p.transport=r,p.status=n,p.state=t,$()}function W(e,t){if(t.readResponsesHeaders)try{var n=e.getResponseHeader("X-Atmosphere-tracking-id");n&&null!=n&&(t.uuid=n.split(" ").pop())}catch(r){}else t.enableProtocol||(t.uuid=T)}function z(e){J(e,d),J(e,ee.util)}function J(e,t){switch(e.state){case"messageReceived":y("Firing onMessage"),h=0,"undefined"!=typeof t.onMessage&&t.onMessage(e),"undefined"!=typeof t.onmessage&&t.onmessage(e);break;case"error":y("Firing onError, reasonPhrase: "+("undefined"!=typeof e.reasonPhrase?e.reasonPhrase:"n/a")),"undefined"!=typeof t.onError&&t.onError(e),"undefined"!=typeof t.onerror&&t.onerror(e);break;case"opening":delete d.closed,y("Firing onOpen"),"undefined"!=typeof t.onOpen&&t.onOpen(e),"undefined"!=typeof t.onopen&&t.onopen(e);break;case"messagePublished":y("Firing messagePublished"),"undefined"!=typeof t.onMessagePublished&&t.onMessagePublished(e);break;case"re-connecting":y("Firing onReconnect"),"undefined"!=typeof t.onReconnect&&t.onReconnect(d,e);break;case"closedByClient":y("Firing closedByClient"),"undefined"!=typeof t.onClientTimeout&&t.onClientTimeout(d);break;case"re-opening":delete d.closed,y("Firing onReopen"),"undefined"!=typeof t.onReopen&&t.onReopen(d,e);break;case"fail-to-reconnect":y("Firing onFailureToReconnect"),"undefined"!=typeof t.onFailureToReconnect&&t.onFailureToReconnect(d,e);break;case"unsubscribe":case"closed":"undefined"!=typeof d.closed&&d.closed?y("Request already closed, not firing onClose ("+e.state+" case)"):(y("Firing onClose ("+e.state+" case)"),"undefined"!=typeof t.onClose&&t.onClose(e),"undefined"!=typeof t.onclose&&t.onclose(e)),d.closed=!0;break;case"openAfterResume":"undefined"!=typeof t.onOpenAfterResume&&t.onOpenAfterResume(d)}}function Z(e,t){"closed"!==p.state&&(p.state="closed",p.responseBody="",p.messages=[],p.atmoMessage=t,p.status=e?200:501,$())}function $(){var e=function(e,t){t(p)};null==g&&null!=_&&_(p.responseBody),d.reconnect=d.mrequest;for(var t="string"==typeof p.responseBody,n=t&&d.trackMessageLength?0<p.messages.length?p.messages:[""]:new Array(p.responseBody),r=0;r<n.length;r++)if(!(1<n.length&&0===n[r].length||(p.responseBody=!t||"streaming"===d.transport&&d.headers["X-Atmosphere-Binary"]&&!d.firstMessage?n[r]:ee.util.trim(n[r]),null==g&&null!=_&&_(p.responseBody),(0===p.responseBody.length||t&&m===p.responseBody)&&"messageReceived"===p.state))){if(z(p),0<ne.length){b("debug")&&ee.util.debug("Invoking "+ne.length+" global callbacks: "+p.state);try{ee.util.each(ne,e)}catch(i){ee.util.log(d.logLevel,["Callback exception"+i])}}if("function"==typeof d.callback){b("debug")&&ee.util.debug("Invoking request callbacks");try{d.callback(p)}catch(i){ee.util.log(d.logLevel,["Callback exception"+i])}}}}I(e),this.subscribe=function(e){I(e),N()},this.execute=function(){N()},this.close=function(){O()},this.disconnect=function(){v()},this.getUrl=function(){return d.url},this.push=function(e,t){if(null!=t){var n=d.dispatchUrl;d.dispatchUrl=t,q(e),d.dispatchUrl=n}else q(e)},this.getUUID=function(){return d.uuid},this.pushLocal=function(e){!function(e){if(0!==e.length)try{g?g.localSend(e):a&&a.signal("localMessage",ee.util.stringifyJSON({id:T,event:e}))}catch(t){ee.util.error(t)}}(e)},this.enableProtocol=function(e){return d.enableProtocol},this.init=function(){t()},this.request=d,this.response=p}}).subscribe=function(e,t,n){"function"==typeof t&&ee.addCallback(t),"string"!=typeof e?n=e:n.url=e,re=void 0!==n&&"undefined"!=typeof n.uuid?n.uuid:0;var r=new ee.AtmosphereRequest(n);return r.execute(),i[i.length]=r},ee.unsubscribe=function(){if(0<i.length)for(var e=[].concat(i),t=0;t<e.length;t++){var n=e[t];n.close(),clearTimeout(n.response.request.id),n.heartbeatTimer&&clearTimeout(n.heartbeatTimer)}i=[],ne=[]},ee.unsubscribeUrl=function(e){var t=-1;if(0<i.length)for(var n=0;n<i.length;n++){var r=i[n];if(r.getUrl()===e){r.close(),clearTimeout(r.response.request.id),r.heartbeatTimer&&clearTimeout(r.heartbeatTimer),t=n;break}}0<=t&&i.splice(t,1)},ee.addCallback=function(e){-1===ee.util.inArray(e,ne)&&ne.push(e)},ee.removeCallback=function(e){var t=ee.util.inArray(e,ne);-1!==t&&ne.splice(t,1)},ee.util={browser:{},parseHeaders:function(e){for(var t,n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,r={};t=n.exec(e);)r[t[1]]=t[2];return r},now:function(){return(new Date).getTime()},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){if(!Array.prototype.indexOf){for(var n=t.length,r=0;r<n;++r)if(t[r]===e)return r;return-1}return t.indexOf(e)},isBinary:function(e){return/^\[object\s(?:Blob|ArrayBuffer|.+Array)\]$/.test(Object.prototype.toString.call(e))},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},getAbsoluteURL:function(e){if("undefined"==typeof document.createElement)return e;var t=document.createElement("div");return t.innerHTML='<a href="'+e+'"/>',encodeURI(decodeURI(t.firstChild.href))},prepareURL:function(e){var t=ee.util.now(),n=e.replace(/([?&])_=[^&]*/,"$1_="+t);return n+(n===e?(/\?/.test(e)?"&":"?")+"_="+t:"")},trim:function(e){return String.prototype.trim?e.toString().trim():e.toString().replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},param:function(e){var t,n=[];function r(e,t){t=ee.util.isFunction(t)?t():null==t?"":t,n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}function i(n,e){var t;if(ee.util.isArray(e))ee.util.each(e,function(e,t){/\[\]$/.test(n)?r(n,t):i(n+"["+("object"===(void 0===t?"undefined":ie(t))?e:"")+"]",t)});else if("[object Object]"===Object.prototype.toString.call(e))for(t in e)i(n+"["+t+"]",e[t]);else r(n,e)}for(t in e)i(t,e[t]);return n.join("&").replace(/%20/g,"+")},storage:function(){try{return!(!window.localStorage||!window.StorageEvent)}catch(e){return!1}},iterate:function(t,n){var r;return n=n||0,function e(){r=setTimeout(function(){!1!==t()&&e()},n)}(),function(){clearTimeout(r)}},each:function(e,t,n){if(e){var r=0,i=e.length,o=ee.util.isArray(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e}},extend:function(e){var t,n,r;for(t=1;t<arguments.length;t++)if(null!=(n=arguments[t]))for(r in n)e[r]=n[r];return e},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},off:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},log:function(e,t){if(window.console){var n=window.console[e];"function"==typeof n&&n.apply(window.console,t)}},warn:function(){ee.util.log("warn",arguments)},info:function(){ee.util.log("info",arguments)},debug:function(){ee.util.log("debug",arguments)},error:function(){ee.util.log("error",arguments)},xhr:function(){try{return new window.XMLHttpRequest}catch(e){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}},parseJSON:function(e){return e?window.JSON&&window.JSON.parse?window.JSON.parse(e):new Function("return "+e)():null},stringifyJSON:function(t){var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function l(e){return'"'+e.replace(n,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function c(e){return e<10?"0"+e:e}return window.JSON&&window.JSON.stringify?window.JSON.stringify(t):function e(t,n){var r,i,o,s,a=n[t],u=void 0===a?"undefined":ie(a);switch(a&&"object"===(void 0===a?"undefined":ie(a))&&"function"==typeof a.toJSON&&(u=void 0===(a=a.toJSON(t))?"undefined":ie(a)),u){case"string":return l(a);case"number":return isFinite(a)?String(a):"null";case"boolean":return String(a);case"object":if(!a)return"null";switch(Object.prototype.toString.call(a)){case"[object Date]":return isFinite(a.valueOf())?'"'+a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+'Z"':"null";case"[object Array]":for(o=a.length,s=[],r=0;r<o;r++)s.push(e(r,a)||"null");return"["+s.join(",")+"]";default:for(r in s=[],a)f.call(a,r)&&(i=e(r,a))&&s.push(l(r)+":"+i);return"{"+s.join(",")+"}"}}}("",{"":t})},checkCORSSupport:function(){if(ee.util.browser.msie&&!window.XDomainRequest&&+ee.util.browser.version.split(".")[0]<11)return!0;if(ee.util.browser.opera&&+ee.util.browser.version.split(".")<12)return!0;if("KreaTVWebKit/531"===ee.util.trim(navigator.userAgent).slice(0,16))return!0;if("kreatel"===ee.util.trim(navigator.userAgent).slice(-7).toLowerCase())return!0;var e=navigator.userAgent.toLowerCase().match(/.+android ([0-9]{1,2})/i),t=parseInt(e&&e[0]||-1,10);return!isNaN(t)&&-1<t&&t<3}},ee.util.now(),e=navigator.userAgent.toLowerCase(),"safari"===(t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(e)||e.indexOf("android")<0&&/version\/(.+) (safari)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[])[2]&&(t[2]=t[1],t[1]="safari"),ee.util.browser[t[1]||""]=!0,ee.util.browser.version=t[2]||"0",ee.util.browser.vmajor=ee.util.browser.version.split(".")[0],ee.util.browser.trident&&(ee.util.browser.msie=!0),(ee.util.browser.msie||ee.util.browser.mozilla&&1==+ee.util.browser.version.split(".")[0])&&(ee.util.storage=!1),ee.callbacks={unload:function(){ee.util.debug(new Date+" Atmosphere: unload event"),ee.unsubscribe()},beforeUnload:function(){ee.util.debug(new Date+" Atmosphere: beforeunload event"),ee._beforeUnloadState=!0,setTimeout(function(){ee.util.debug(new Date+" Atmosphere: beforeunload event timeout reached. Reset _beforeUnloadState flag"),ee._beforeUnloadState=!1},5e3)},offline:function(){if(ee.util.debug(new Date+" Atmosphere: offline event"),te=!0,0<i.length)for(var e=[].concat(i),t=0;t<e.length;t++){var n=e[t];n.request.handleOnlineOffline&&(n.close(),clearTimeout(n.response.request.id),n.heartbeatTimer&&clearTimeout(n.heartbeatTimer))}},online:function(){if(ee.util.debug(new Date+" Atmosphere: online event"),0<i.length)for(var e=0;e<i.length;e++)i[e].request.handleOnlineOffline&&(i[e].init(),i[e].execute());te=!1}},ee.bindEvents=function(){ee.util.on(window,"unload",ee.callbacks.unload),ee.util.on(window,"beforeunload",ee.callbacks.beforeUnload),ee.util.on(window,"offline",ee.callbacks.offline),ee.util.on(window,"online",ee.callbacks.online)},ee.unbindEvents=function(){ee.util.off(window,"unload",ee.callbacks.unload),ee.util.off(window,"beforeunload",ee.callbacks.beforeUnload),ee.util.off(window,"offline",ee.callbacks.offline),ee.util.off(window,"online",ee.callbacks.online)},ee.bindEvents(),ee},void 0!==h?p.exports=d():f.atmosphere=d()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/atmosphere.js/lib/atmosphere.js","/lib/atmosphere.js/lib")},{_process:131,buffer:121,timers:152}],11:[function(g,e,T){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";T.__esModule=!0,T.asCredentials=function(e){var t=Object.keys(e);{if((0,f["default"])(t,["sid"]))return new h(e.sid);if((0,f["default"])(t,["wmid","token"]))return new E(e.wmid,e.token);if((0,f["default"])(t,["wmid"]))return new m(e.wmid);if((0,f["default"])(t,["data_token"]))return new _(e.data_token);throw new Error("Misconfigured credentials, should be one of {sid}, {wmid,token}, or {wmid}")}};d(g("./EnduserAuthService.js"));var f=d(g("array-equal"));function d(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e){p(this,t),this.sid=e}return t.prototype.getHeaders=function(){return{"X-Stream-Sid":this.sid}},t}(),m=function(){function t(e){p(this,t),this.wmid=e}return t.prototype.getHeaders=function(){return{"X-Stream-Wmid":this.wmid}},t}(),E=function(){function n(e,t){p(this,n),this.wmid=e,this.token=t}return n.prototype.getHeaders=function(){return{"X-Stream-Wmid":this.wmid,Authorization:this.token}},n}(),_=function(){function t(e){p(this,t),this.data_token=e}return t.prototype.getHeaders=function(){return{"X-Stream-DataTool-Token":this.data_token}},t}()}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],g("timers").setImmediate,g("timers").clearImmediate,"/lib/auth/AuthService.js","/lib/auth")},{"./EnduserAuthService.js":12,_process:131,"array-equal":116,buffer:121,timers:152}],12:[function(e,t,p){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";p.__esModule=!0;var f="/p/authenticate/v0/?legacy=false",d=function(){function r(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),null==e)throw new Error("AJAX cannot be null.");var n=t.credentials;if(!n.wmid||!n.username||!n.password)throw new Error("Cannot login if any of sid, username or password is empty.");this.http=e,this.host=t.host||"app.quotemedia.com",this.credentials=n,this.application=t.application,this.method="POST"}return r.prototype.login=function(e){this.login_POST(e)},r.prototype.login_POST=function(e){var t=this.host+f+(this.application?"&application="+this.application:""),n={wmId:this.credentials.wmid,username:this.credentials.username,password:this.credentials.password};this.http({url:t,type:"POST",contentType:"application/json",data:JSON.stringify(n),dataType:"json",success:this.handleSuccess(e),failure:this.handleFailure(e)})},r.prototype.handleSuccess=function(t){return function(e){e.code&&"Ok"===e.code.name?t(null,e.sid):t(new Error("Login failed: "+e.code+", "+e.message))}},r.prototype.handleFailure=function(e){return function(){e(new Error("Auth HTTP error"))}},r}();p["default"]=d}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/auth/EnduserAuthService.js","/lib/auth")},{_process:131,buffer:121,timers:152}],13:[function(_,g,e){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";var f,d=_("./streamer-api.js"),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("./streamer-utils.js")),h=_("jsbi"),m=(f=h)&&f.__esModule?f:{"default":f};var E={Formatter:function(){this.formatters={},this.formatters[E.Formatter._UNKOWNTYPE]=this._fmtunknown,this.formatters[d.messages.MessageTypeNames.ctrl.HEARTBEAT]=this._fmtheartbeat,this.formatters[d.messages.MessageTypeNames.ctrl.SUBSCRIBE]=this._fmtsubscribe,this.formatters[d.messages.MessageTypeNames.ctrl.SUBSCRIBE_RESPONSE]=this._fmtsubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.UNSUBSCRIBE_RESPONSE]=this._fmtunsubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.CONNECT_RESPONSE]=this._fmtconnectresponse,this.formatters[d.messages.MessageTypeNames.ctrl.CONNECTION_CLOSE]=this._fmtconnectionclose,this.formatters[d.messages.MessageTypeNames.ctrl.FLOW]=this._fmtflowmessage,this.formatters[d.messages.MessageTypeNames.ctrl.OPEN_FLOW]=this._fmtopenflowmessage,this.formatters[d.messages.MessageTypeNames.ctrl.SLOW_CONNECTION]=this._fmtslowconnection,this.formatters[d.messages.MessageTypeNames.ctrl.STATS]=this._fmtstats,this.formatters[d.messages.MessageTypeNames.ctrl.STATS_RESPONSE]=this._fmtstatsresponse,this.formatters[d.messages.MessageTypeNames.ctrl.INITIAL_DATA_SENT]=this._fmtinitialdatasent,this.formatters[d.messages.MessageTypeNames.ctrl.RESUBSCRIBE_MESSAGE]=this._fmtresubscribeMessage,this.formatters[d.messages.MessageTypeNames.ctrl.EXCHANGE_SUBSCRIBE]=this._fmtexchangesubscribe,this.formatters[d.messages.MessageTypeNames.ctrl.EXCHANGE_RESPONSE]=this._fmtexchangesubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.EXCHANGE_UNSUBSCRIBE_RESPONSE]=this._fmtexchangeunsubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.ALERTS_SUBUNSUB]=this._fmtalertsubunsub,this.formatters[d.messages.MessageTypeNames.ctrl.ALERTS_SUBUNSUB_RESPONSE]=this._fmtalertsubunsubresponse,this.formatters[d.messages.MessageTypeNames.ctrl.NEWS_SUBSCRIBE]=this._fmtnewssubscribe,this.formatters[d.messages.MessageTypeNames.ctrl.NEWS_SUBSCRIBE_RESPONSE]=this._fmtnewssubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.TRADE_SUBSCRIBE]=this._fmttradesubscribe,this.formatters[d.messages.MessageTypeNames.ctrl.TRADE_SUBSCRIBE_RESPONSE]=this._fmttradesubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.NEWS_UNSUBSCRIBE_RESPONSE]=this._fmtnewsunsubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.NEWS_CMD_FILTER_REFRESH_RESPONSE]=this._fmtnewscmdfilterrefreshresponse,this.formatters[d.messages.MessageTypeNames.ctrl.NEWS_CMD_FILTER_RESPONSE]=this._fmtnewscmdfilterresponse,this.formatters[d.messages.MessageTypeNames.ctrl.TRADE_UNSUBSCRIBE_RESPONSE]=this._fmttradeunsubscriberesponse,this.formatters[d.messages.MessageTypeNames.ctrl.RECONNECT_RESPONSE]=this._fmtreconnectresponse,this.formatters[d.messages.MessageTypeNames.ctrl.MISSED_DATA_SENT]=this._fmtmisseddatasent,this.formatters[d.messages.MessageTypeNames.data.QUOTE]=this._fmtquote,this.formatters[d.messages.MessageTypeNames.data.PRICEDATA]=this._fmtpricedata,this.formatters[d.messages.MessageTypeNames.data.TRADE]=this._fmttrade,this.formatters[d.messages.MessageTypeNames.data.INTERVAL]=this._fmtinterval,this.formatters[d.messages.MessageTypeNames.data.NETHOUSEPOSITION]=this._fmtnethouseposition,this.formatters[d.messages.MessageTypeNames.data.MMQUOTE]=this._fmtmmquote,this.formatters[d.messages.MessageTypeNames.data.BOOKORDER]=this._fmtbookorder,this.formatters[d.messages.MessageTypeNames.data.PURGEBOOK]=this._fmtpurgebook,this.formatters[d.messages.MessageTypeNames.data.BOOKDELETE]=this._fmtbookdelete,this.formatters[d.messages.MessageTypeNames.data.SYMBOLINFO]=this._fmtsymbolinfo,this.formatters[d.messages.MessageTypeNames.data.SYMBOLSTATUS]=this._fmtsymbolstatus,this.formatters[d.messages.MessageTypeNames.data.DERIVATIVEINFO]=this._fmtderivativeinfo,this.formatters[d.messages.MessageTypeNames.data.LASTSALE]=this._fmtlastsale,this.formatters[d.messages.MessageTypeNames.data.LIMITUPLIMITDOWN]=this._fmtlimituplimitdown,this.formatters[d.messages.MessageTypeNames.data.IVGREEKS]=this._fmtivgreeks,this.formatters[d.messages.MessageTypeNames.data.IMBALANCESTATUS]=this._fmtimbalancestatus,this.formatters[d.messages.MessageTypeNames.data.ALERT]=this._fmtalert,this.formatters[d.messages.MessageTypeNames.data.NEWS]=this._fmtnews,this.formatters[d.messages.MessageTypeNames.data.TRADENOTIFICATION]=this._fmttradeNotification,this.formatters[d.messages.MessageTypeNames.data.NEWSCMDFILTER]=this._fmtnewscmdfilter,this.formatters[d.messages.MessageTypeNames.data.NEWSERROR]=this._fmtnewserror,this.formatters[d.messages.MessageTypeNames.data.DIVIDEND]=this._fmtdividend}};E.Formatter._UNKOWNTYPE="__UNKNOWN__",E.Formatter.prototype.fmt=function(e){var t=p.messagetype(e);null==t&&(t=E.Formatter._UNKOWNTYPE);var n=this.formatters[t];return null==n&&(n=E.Formatter._UNKOWNTYPE),n.call(this,e)},E.Formatter.prototype._fmtunknown=function(e){return null==e?"null":e["@T"]?p.getMessageName(e):e.toString()},E.Formatter.prototype._fmtquote=function(e){var t=new E.StringBuilder;return t.append("Q"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.indicator),t.sep(),t.append(e.sharesPerSizeUnit),t.sep(),t.append(e.bidPrice),t.sep(),t.append(e.bidSize),t.sep(),t.append(e.bidExcode),t.sep(),t.append(e.bidCondition),t.sep(),t.append(e.askPrice),t.sep(),t.append(e.askSize),t.sep(),t.append(e.askExcode),t.sep(),t.append(e.askCondition),t.toString()},E.Formatter.prototype._fmtpricedata=function(e){var t=new E.StringBuilder;return t.append("P"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.last),t.sep(),t.append(e.lastTradeSize),t.sep(),t.append(e.change),t.sep(),t.append(e.percentChange),t.sep(),t.append(e.tick),t.sep(),t.append(e.tradeCount),t.sep(),t.append(e.close),t.sep(),t.append(e.previousClose),t.sep(),t.append(e.open),t.sep(),t.append(e.high),t.sep(),t.append(e.annualHigh),t.sep(),t.append(e.low),t.sep(),t.append(e.annualLow),t.sep(),t.datetime(e.lastTradeTime),t.sep(),t.append(e.accumulatedPrice),t.sep(),t.append(e.accumulatedVolume),t.sep(),t.append(e.accumulatedTradeValue),t.sep(),t.append(e.twap),t.sep(),t.append(e.vwap),t.sep(),t.datetime(e.preMarketTradeTime),t.sep(),t.append(e.preMarketLast),t.sep(),t.append(e.preMarketVolume),t.sep(),t.append(e.preMarketChange),t.sep(),t.append(e.preMarketPercentChange),t.sep(),t.datetime(e.postMarketTradeTime),t.sep(),t.append(e.postMarketLast),t.sep(),t.append(e.postMarketVolume),t.sep(),t.append(e.postMarketChange),t.sep(),t.append(e.postMarketPercentChange),t.sep(),t.append(e.lastTradeExcode),t.sep(),t.append(e.currencyID),t.toString()},E.Formatter.prototype._fmtlastsale=function(e){var t=new E.StringBuilder;return t.append("LS"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.last),t.sep(),t.append(e.change),t.sep(),t.append(e.percentChange),t.sep(),t.append(e.accumulatedVolume),t.sep(),t.append(e.tick),t.sep(),t.append(e.lastTradeExcode),t.toString()},E.Formatter.prototype._fmtlimituplimitdown=function(e){var t=new E.StringBuilder;return t.append("LULD"),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.datetime(e.effectiveTime),t.sep(),t.append(e.lowerLimit),t.sep(),t.append(e.upperLimit),t.sep(),t.append(e.bidNotExecutable),t.sep(),t.append(e.askNotExecutable),t.toString()},E.Formatter.prototype._fmtivgreeks=function(e){var t=new E.StringBuilder;return t.append("IVG"),t.sep(),t.datetime(e.lastCalculation),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.delta),t.sep(),t.append(e.gamma),t.sep(),t.append(e.vega),t.sep(),t.append(e.rho),t.sep(),t.append(e.theta),t.sep(),t.append(e.midIV),t.sep(),t.append(e.midIVChange.toFixed(5)),t.sep(),t.append(e.bidIV),t.sep(),t.append(e.askIV),t.sep(),t.append(e.mark),t.sep(),t.append(e.intrinsicValue),t.sep(),t.append(e.extrinsicValue),t.sep(),t.append(e.previousMark),t.sep(),t.append(e.markChange),t.sep(),t.append(e.markChangePercent),t.toString()},E.Formatter.prototype._fmtimbalancestatus=function(e){var t=new E.StringBuilder;return t.append("IS"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.imbalanceType),t.sep(),t.append(e.referencePrice),t.sep(),t.append(e.size),t.sep(),t.append(e.side),t.sep(),t.append(e.pairedVolume),t.sep(),t.append(e.nearIndicativePrice),t.sep(),t.append(e.farIndicativePrice),t.sep(),t.append(e.priceVariation),t.toString()},E.Formatter.prototype._fmttrade=function(e){var t=new E.StringBuilder;return t.append("T"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.excode),t.sep(),t.append(e.sequenceNumber),t.sep(),t.append(e.matchID),t.sep(),t.append(e.price),t.sep(),t.append(e.size),t.sep(),t.append(e.tick),t.sep(),t.append(e.indicator),t.sep(),t.append(e.rangeIndicator),t.sep(),t.append(e.sellerID),t.sep(),t.append(e.buyerID),t.sep(),t.append(e.accumulatedVolume),t.sep(),t.append(e.vwap),t.toString()},E.Formatter.prototype._fmtinterval=function(e){var t=new E.StringBuilder;return t.append("I"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.last),t.sep(),t.datetime(e.lastTime),t.sep(),t.append(e.open),t.sep(),t.datetime(e.openTime),t.sep(),t.append(e.high),t.sep(),t.append(e.low),t.sep(),t.datetime(e.startTime),t.sep(),t.append(e.tradeValue),t.sep(),t.append(e.volume),t.sep(),t.append(e.vwap),t.sep(),t.append(e.periodMs),t.toString()},E.Formatter.prototype._fmtnethouseposition=function(e){var t=new E.StringBuilder;return t.append("NHP"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.marketMakerID),t.sep(),t.append(e.buyValue),t.sep(),t.append(e.buyVolume),t.sep(),t.append(e.buyBlockTransactions),t.sep(),t.append(e.buyBlockValue),t.sep(),t.append(e.buyBlockVolume),t.sep(),t.append(e.sellValue),t.sep(),t.append(e.sellVolume),t.sep(),t.append(e.sellBlockTransactions),t.sep(),t.append(e.sellBlockValue),t.sep(),t.append(e.sellBlockVolume),t.toString()},E.Formatter.prototype._fmtmmquote=function(e){var t=new E.StringBuilder;return t.append("MMQ"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.bidPrice),t.sep(),t.append(e.bidSize),t.sep(),t.append(e.bidChange),t.sep(),t.append(e.askPrice),t.sep(),t.append(e.askSize),t.sep(),t.append(e.askChange),t.sep(),t.append(e.indicator),t.sep(),t.append(e.marketMakerID),t.sep(),t.append(e.sharesPerSizeUnit),t.toString()},E.Formatter.prototype._fmtbookorder=function(e){var t=new E.StringBuilder;return t.append("BO"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.excode),t.sep(),t.append(e.orderID),t.sep(),t.append(e.orderReference),t.sep(),t.append(e.marketMakerID),t.sep(),t.append(e.orderSide),t.sep(),t.datetime(e.lastUpdate),t.sep(),t.append(e.price),t.sep(),t.append(e.size),t.sep(),t.append(e.display),t.sep(),t.append(e.orderChangeType),t.toString()},E.Formatter.prototype._fmtpurgebook=function(e){var t=new E.StringBuilder;return t.append("PB"),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.toString()},E.Formatter.prototype._fmtbookdelete=function(e){var t=new E.StringBuilder;return t.append("BD"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.orderReference),t.toString()},E.Formatter.prototype._fmtsymbolinfo=function(e){var t=new E.StringBuilder;return t.append("SI"),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.excode),t.sep(),t.append(e.instrumentType),t.sep(),t.append(e.currencyId),t.sep(),t.append(e.haltStatus),t.sep(),t.append(e.haltIndicator),t.sep(),t.append(e.regSHOStatus),t.sep(),t.append(e.pqe),t.sep(),t.append(e.caveatEmptor),t.sep(),t.append(e.boardLotSize),t.toString()},E.Formatter.prototype._fmtsymbolstatus=function(e){var t=new E.StringBuilder;return t.append("SS"),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.haltStatus),t.sep(),t.append(e.haltIndicator),t.sep(),t.append(e.regSHOStatus),t.sep(),t.append(e.closingCalculatedPrice),t.sep(),t.datetime(e.effectiveTime),t.sep(),t.datetime(e.openingTime),t.sep(),t.append(e.note),t.toString()},E.Formatter.prototype._fmtderivativeinfo=function(e){var t=new E.StringBuilder;return t.append("DI"),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.rootSymbol),t.sep(),t.datetime(e.expiration),t.sep(),t.append(e.openInterest),t.sep(),t.datetime(e.delivery),t.sep(),t.append(e.contractSize),t.sep(),t.append(e.callPutIndicator),t.sep(),t.append(e.minTickSize),t.toString()},E.Formatter.prototype._fmtalert=function(e){var t=new E.StringBuilder;return t.append("A"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.symbol),t.sep(),t.append(e.locateCode),t.sep(),t.append(e.instrumentType),t.sep(),t.append(e.alertId),t.sep(),t.append(e.triggerValue),t.toString()},E.Formatter.prototype._fmtnews=function(e){var t=new E.StringBuilder;return t.append("N"),t.sep(),t.append(e.storyId),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.storyUrl),t.sep(),t.append(e.epochtime),t.sep(),t.append(e.headline),t.sep(),t.append(e.source),t.sep(),t.append(e.sourceId),t.sep(),t.append(e.lang),t.sep(),t.append(e.symbol),t.sep(),t.append(e.excode),t.sep(),t.append(e.exgroup),t.sep(),t.append(e.topic),t.sep(),t.append(e.thumbnailUrl),t.sep(),t.append(e.newsUrl),t.sep(),t.append(e.videoUrl),t.sep(),t.append(e.videoImageUrl),t.toString()},E.Formatter.prototype._fmttradeNotification=function(e){var t=new E.StringBuilder;return t.append("TN"),t.sep(),t.append(e.accountId),t.sep(),t.append(e.enduserId),t.sep(),t.append(e.message),t.sep(),t.append(e.eventType),t.toString()},E.Formatter.prototype._fmtnewscmdfilter=function(e){var t=new E.StringBuilder;return t.append("NEWS CMD_FILTER"),t.sep(),t.append(e.srcName+": ["),t.append(e.srcValue),t.append("]"),t.sep(),t.append(e.topicName+": ["),t.append(e.topicValue),t.append("]"),t.sep(),t.append(e.symbolName+": ["),t.append(e.symbolValue),t.append("]"),t.sep(),t.append(e.excodeName+": "),t.append(e.excodeValue),t.sep(),t.append(e.exgroupName+": "),t.append(e.exgroupValue),t.sep(),t.append(e.summaryName+": "),t.append(e.summaryValue),t.sep(),t.append(e.summlenName+": "),t.append(e.summlenValue),t.sep(),t.append(e.constituentName+": "),t.append(e.constituentValue),t.sep(),t.append(e.searchByExchangeName+": "),t.append(e.searchByExchangeValue),t.toString()},E.Formatter.prototype._fmtnewserror=function(e){var t=new E.StringBuilder;return t.append("NEWS ERROR"),t.sep(),t.append("Event: "+e.event),t.sep(),t.append("Code: "+e.code),t.sep(),t.append("Message: "+e.message),t.toString()},E.Formatter.prototype._fmtdividend=function(e){var t=new E.StringBuilder;return t.append("DV"),t.sep(),t.datetime(e.occuredOn),t.sep(),t.append(e.symbolId),t.sep(),t.append(e.instrument),t.sep(),t.datetime(e.declarationDate),t.sep(),t.datetime(e.executionDate),t.sep(),t.datetime(e.recordDate),t.sep(),t.datetime(e.paymentDate),t.sep(),t.append(e.amount),t.sep(),t.append(e.frequency),t.sep(),t.append(e.paymentType),t.toString()},E.Formatter.prototype._fmtheartbeat=function(e){var t=new E.StringBuilder;return t.append("HEARBEAT"),t.sep(),t.datetime(e.timestamp),t.toString()},E.Formatter.prototype._fmtsubscribe=function(e){var t=new E.StringBuilder;return t.append("SUBSCRIBE"),t.toString()},E.Formatter.prototype._fmtexchangesubscribe=function(e){var t=new E.StringBuilder;return t.append("EXCHANGE SUBSCRIBE"),t.toString()},E.Formatter.prototype._fmtalertsubunsub=function(e){var t=new E.StringBuilder;return t.append("ALERT"),t.toString()},E.Formatter.prototype._fmttradesubscribe=function(e){var t=new E.StringBuilder;return t.append("TRADE"),t.toString()},E.Formatter.prototype._fmtnewssubscribe=function(e){var t=new E.StringBuilder;return t.append("NEWS SUBSCRIBE"),t.toString()},E.Formatter.prototype._fmtstats=function(e){var t=new E.StringBuilder;return t.append("STATS"),t.toString()},E.Formatter.prototype._fmtsubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("SUBSCRIBED"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtexchangesubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("EXCHANGE SUBSCRIBED"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtalertsubunsubresponse=function(e){var t=new E.StringBuilder;return t.append("ALERT SUBSCRIBED"),t.toString()},E.Formatter.prototype._fmttradesubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("TRADE SUBSCRIBED"),t.toString()},E.Formatter.prototype._fmtnewssubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("NEWS SUBSCRIBED"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtnewsunsubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("NEWS UNSUBSCRIBED"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtnewscmdfilterrefreshresponse=function(e){var t=new E.StringBuilder;return t.append("NEWS COMMAND FILTER REFRESH"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtnewscmdfilterresponse=function(e){var t=new E.StringBuilder;return t.append("NEWS COMMAND FILTER"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtunsubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("UN-SUBSCRIBED"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmtexchangeunsubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("EXCHANGE UNSUBSCRIBED"),t.sep(),this.__baseresponse(e,t),t.toString()},E.Formatter.prototype._fmttradeunsubscriberesponse=function(e){var t=new E.StringBuilder;return t.append("TRADE UNSUBSCRIBED"),t.toString()},E.Formatter.prototype._fmtconnectresponse=function(e){var t=new E.StringBuilder;return t.append("CONNECT"),t.sep(),this.__baseresponse(e,t),t.sep(),t.append(e.version),t.sep(),t.append(e.flowControlCheckInterval),t.sep(),t.append(e.serverInstance),t.sep(),t.append(e.conflationMs),t.sep(),t.append(e.rejectExcessiveConnection),t.sep(),t.append(e.maxEntitlementsPerSubscription),t.toString()},E.Formatter.prototype._fmtreconnectresponse=function(e){var t=new E.StringBuilder;return t.append("RECONNECT"),t.sep(),t.append(e.version),t.sep(),t.append(e.flowControlCheckInterval),t.sep(),t.append(e.serverInstance),t.sep(),t.append(e.conflationMs),t.sep(),t.append(e.rejectExcessiveConnection),t.sep(),t.append(e.maxEntitlementsPerSubscription),t.sep(),t.sep(e.entitlements),t.sep(),t.sep(e.exchangeEntitlements),t.toString()},E.Formatter.prototype._fmtconnectionclose=function(e){var t=new E.StringBuilder;return t.append("CLOSE"),t.sep(),t.append(e.code),t.sep(),t.append(e.reason),t.toString()},E.Formatter.prototype._fmtslowconnection=function(e){var t=new E.StringBuilder;return t.append("SLOW"),t.sep(),t.append(e.timesExceeded),t.sep(),t.append(e.maxExceed),t.toString()},E.Formatter.prototype._fmtstatsresponse=function(e){var t=new E.StringBuilder;return t.append("STATS"),t.sep(),this.__baseresponse(e,t),t.sep(),t.append("number of available l1 symbols: "),t.append(e.numberOfAvailableSymbolsL1),t.sep(),t.append("number of available l2 symbols: "),t.append(e.numberOfAvailableSymbolsL2),t.sep(),t.append("number of available connections: "),t.append(e.numberOfAvailableConnections),t.sep(),t.append("number of subscribed l1 symbols: "),t.append(e.numberOfSubscribedSymbolsL1),t.sep(),t.append("number of subscribed l2 symbols: "),t.append(e.numberOfSubscribedSymbolsL2),t.sep(),t.append("number of open connections: "),t.append(e.numberOfOpenedConnections),t.sep(),t.append("number of subscribed exchanges: "),t.append(e.numberOfSubscribedExchanges),t.toString()},E.Formatter.prototype._fmtinitialdatasent=function(e){var t=new E.StringBuilder;return t.append("INITIAL DATA SENT"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.requestId),t.toString()},E.Formatter.prototype._fmtresubscribeMessage=function(e){var t=new E.StringBuilder;return t.append("RESUBSCRIBE MESSAGE"),t.sep(),t.datetime(e.timestamp),t.toString()},E.Formatter.prototype._fmtflowmessage=function(e){var t=new E.StringBuilder;return t.append("FLOW"),t.sep(),t.append(e.sequence),t.toString()},E.Formatter.prototype._fmtopenflowmessage=function(e){var t=new E.StringBuilder;return t.append("OPEN FLOW"),t.sep(),t.append(e.sequence),t.toString()},E.Formatter.prototype.__baseresponse=function(e,t){t.append(e.code),t.sep(),t.append(e.reason)},E.Formatter.prototype._fmtmisseddatasent=function(e){var t=new E.StringBuilder;return t.append("MISSED DATA SENT"),t.sep(),t.datetime(e.timestamp),t.sep(),t.append(e.requestId),t.sep(),t.append(e.totalDataSent),t.sep(),t.append(e.totalDataHeld),t.toString()},E.StringBuilder=function(){this._str=""},E.StringBuilder.SEP=", ",E.StringBuilder.prototype.append=function(e){this._str+=e},E.StringBuilder.prototype.sep=function(){this.append(E.StringBuilder.SEP)},E.StringBuilder.prototype.datetime=function(e){if(null!=e){var t=e;e instanceof m["default"]&&(t=m["default"].toNumber(e)),this._str+=""+new Date(t).toUTCString()}else this._str+="null"},E.StringBuilder.prototype.toString=function(){return this._str},E.msgfmt=new E.Formatter,E.format=function(e){return E.msgfmt.fmt(e)},g.exports=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/formatting.js","/lib")},{"./streamer-api.js":108,"./streamer-utils.js":110,_process:131,buffer:121,jsbi:128,timers:152}],14:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0,E["default"]=function(e){var t=e.url,n=e.success||function(){},r=e.failure||function(){},i=e.type||"POST",o=e.contentType,s=e.data,a=e.timeout,u=h(e.dataType),l=p();l.onreadystatechange=function(){4===l.readyState&&(200===l.status?n(u(l.responseText)):r(l.status))},l.open(i,t,!0),o&&l.setRequestHeader("Content-Type",o);a&&(l.timeout=a);l.send(s)};var f,d=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new(0,m("xmlhttprequest").XMLHttpRequest)}],p=(f=null,function(){if(null===f){for(f=0;f<d.length;f++)try{return d[f]()}catch(e){}if(f===d.length)throw f=null,new Error("No HTTP implementation found.")}return d[f]()}),h=function(e){switch(e?e.toLowerCase():e){case"json":return JSON.parse;default:return function(e){return e}}}}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/http.js","/lib")},{_process:131,buffer:121,timers:152,xmlhttprequest:157}],15:[function(g,T,e){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";var f=_(g("json3"));g("./polyfills");var d=E(g("./streamer-utils.js")),p=_(g("./Streamer.js")),h=E(g("./formatting.js")),m=g("./streamer-api.js");function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function _(e){return e&&e.__esModule?e:{"default":e}}window&&(window.JSON=window.JSON||f["default"]),p["default"].formatting=h,p["default"].dataTypes=m.messages.control.MarketdataType,p["default"].dataTypes.get=function(e){var t=d.getMessageName(e);return p["default"].dataTypes[t]?t:"UnknownType["+t+"]"},p["default"].marketDataTypes=m.messages.market.MarketDataResponseTypes,p["default"].marketDataTypes.get=function(e){var t=d.getMessageName(e);return p["default"].marketDataTypes[t]?t:"UnknownType["+t+"]"},p["default"].subscriptionTypes=m.messages.market.SubscriptionTypes,T.exports=p["default"]}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],g("timers").setImmediate,g("timers").clearImmediate,"/lib/index.js","/lib")},{"./Streamer.js":7,"./formatting.js":13,"./polyfills":18,"./streamer-api.js":108,"./streamer-utils.js":110,_process:131,buffer:121,json3:129,timers:152}],16:[function(e,t,p){(function(t,n,r,i,o,s,a,u,l,c,f){"use strict";p.__esModule=!0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};p.asLogger=function e(o){{if(!o)return e({log:function(){}});if("function"==typeof o)return e({log:o});var t=function(){for(var i={log:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o[e]?o[e].apply(o,n):o.log&&o.log.apply(o,[e].concat(n))}},t=["info","error","warn","debug"],e=function(){var e=t[n],r=e;i[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.log.apply(i,[r].concat(t))}},n=0;n<t.length;n++)e();return{v:i}}();if("object"===(void 0===t?"undefined":d(t)))return t.v}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/logging.js","/lib")},{_process:131,buffer:121,timers:152}],17:[function(e,t,f){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";f.__esModule=!0;f.Encodings={UNDEFINED:"undefined",UNDEFINED_CHAR:"U",NONE:"none",NONE_CHAR:"N",BASE64:"base64",BASE64_CHAR:"B"},f.MimeTypes={UNDEFINED:"undefined",UNDEFINED_CHAR:"U",JSON:"application/json",JSON_CHAR:"J",QMCI:"application/qmci",QMCI_CHAR:"Q",QITCH:"application/qitch",QITCH_CHAR:"I"},f.lpad=function(e,t){var n,r=e.toString();if(r.length==t)return r;if(r.length>t)throw"Number to long.";0<=e?n="0":(r=r.slice(1),n="-");for(var i=t-r.length,o=1;o<i;o++)n+="0";return n+r}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/message.js","/lib")},{_process:131,buffer:121,timers:152}],18:[function(e,t,n){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";var f,d,p,h;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n}),"function"!=typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.map||(Array.prototype.map=function(e){var t,n,r;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=new Array(o),r=0;r<o;){var s,a;r in i&&(s=i[r],a=e.call(t,s,r,i),n[r]=a),r++}return n}),Array.from||(Array.from=(f=Object.prototype.toString,d=function(e){return"function"==typeof e||"[object Function]"===f.call(e)},p=Math.pow(2,53)-1,h=function(e){var t,n=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(n,0),p)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=1<arguments.length?arguments[1]:void undefined;if(void 0!==r){if(!d(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var i,o=h(t.length),s=d(this)?Object(new this(o)):new Array(o),a=0;a<o;)i=t[a],s[a]=r?void 0===n?r(i,a):r.call(n,i,a):i,a+=1;return s.length=o,s}))}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/polyfills.js","/lib")},{_process:131,buffer:121,timers:152}],19:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f=m(_("./Bytes")),d=_("./DataOperations"),p=_("./QitchConstants"),h=m(_("./Qitch"));function m(e){return e&&e.__esModule?e:{"default":e}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.lengthToBytes=function(e,t,n){return f["default"].putshort(e,t+p.BLOCK_HEADER_LENGTH_OFFSET,d.UShort.fromint(n))},e.lengthGetValue=function(e,t){return f["default"].getshort(e,t+p.BLOCK_HEADER_LENGTH_OFFSET)},e.messageCountToBytes=function(e,t,n){return e[t+p.BLOCK_HEADER_MESSAGECOUNT_OFFSET]=d.UByte.fromint(n),e},e.messageCountGetValue=function(e,t){return d.UByte.frombyte(e[t+p.BLOCK_HEADER_MESSAGECOUNT_OFFSET])},e.reservedToBytes=function(e,t,n){return e[t+p.BLOCK_HEADER_RESERVED_OFFSET]=n,e},e.sequenceToBytes=function(e,t,n){return h["default"].putUInt32(e,t+p.BLOCK_HEADER_SEQUENCE_OFFSET,n)},e.sequenceGetValue=function(e,t){return h["default"].uint32(e,t+p.BLOCK_HEADER_SEQUENCE_OFFSET)},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/BlockHeader.js","/lib/qitch")},{"./Bytes":20,"./DataOperations":21,"./Qitch":25,"./QitchConstants":26,_process:131,buffer:121,timers:152}],20:[function(S,e,v){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";v.__esModule=!0;var f,d=S("jsbi"),p=(f=d)&&f.__esModule?f:{"default":f};var h=Math.pow(2,8),m=Math.pow(2,16),E=Math.pow(2,24),_=p["default"].BigInt(32),g=p["default"].BigInt(40),T=p["default"].BigInt(48),b=p["default"].BigInt(56),y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.putshort=function(e,t,n){return e[t]=n>>8,e[t+1]=n,e},e.getshort=function(e,t){return e[t]*h|255&e[t+1]},e.putint=function(e,t,n){return e[t]=n>>24,e[t+1]=n>>16,e[t+2]=n>>8,e[t+3]=n,e},e.getint=function(e,t){return e[t]*E|(255&e[t+1])*m|(255&e[t+2])*h|255&e[t+3]},e.getlong=function(e,t){return p["default"].bitwiseOr(p["default"].bitwiseOr(p["default"].bitwiseOr(p["default"].leftShift(p["default"].BigInt(e[t]),b),p["default"].leftShift(p["default"].BigInt(255&e[t+1]),T)),p["default"].bitwiseOr(p["default"].leftShift(p["default"].BigInt(255&e[t+2]),g),p["default"].leftShift(p["default"].BigInt(255&e[t+3]),_))),p["default"].bitwiseOr(p["default"].bitwiseOr(p["default"].BigInt((255&e[t+4])*E),p["default"].BigInt((255&e[t+5])*m)),p["default"].bitwiseOr(p["default"].BigInt((255&e[t+6])*h),p["default"].BigInt(255&e[t+7]))))},e}();v["default"]=y}).call(this,S("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},S("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],S("timers").setImmediate,S("timers").clearImmediate,"/lib/qitch/Bytes.js","/lib/qitch")},{_process:131,buffer:121,jsbi:128,timers:152}],21:[function(e,t,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}E.__esModule=!0;var d=function(){function t(){f(this,t)}return t.fromint=function(e){if(e<t.prototype.MIN_VALUE)throw"Value underflows unsiged short";if(t.prototype.MAX_VALUE<e)throw"Value overflows unsigned short";return e<t.prototype.MAX_SHORT_VALUE?e:e-(t.prototype.MAX_VALUE+1)},t.fromshort=function(e){return 65535&e},t}();d.prototype.LENGTH=2,d.prototype.MIN_VALUE=0,d.prototype.MAX_VALUE=65535,d.prototype.MAX_SHORT_VALUE=32767;var p=function(){function t(){f(this,t)}return t.fromint=function(e){if(e<t.prototype.MIN_VALUE)throw"Value underflows unsigned byte";if(t.prototype.MAX_VALUE<e)throw"Value overflows unsigned byte";return e<t.prototype.BYTE_MAX_VALUE?e:e-(t.prototype.MAX_VALUE+1)},t.frombyte=function(e){return 255&e},t}();p.prototype.LENGTH=1,p.prototype.MIN_VALUE=0,p.prototype.MAX_VALUE=255,p.prototype.BYTE_MAX_VALUE=127;var h=function(){function t(){f(this,t)}return t.fromlong=function(e){if(e<t.prototype.MIN_VALUE)throw"Value underfows unsigned int";if(t.prototype.MAX_VALUE<e)throw"Value overflows unsigned int";return e<t.prototype.INT_MAX_VALUE?e:e-(t.prototype.MAX_VALUE+1)},t.fromint=function(e){return 4294967295&e},t}();h.prototype.LENGTH=4,h.prototype.MIN_VALUE=0,h.prototype.MAX_VALUE=4294967295,h.prototype.INT_MAX_VALUE=2147483647;var m=function(){function a(){f(this,a)}return a.put=function(e,t,n,r){if(e.length<t+r)throw"Not enough space in destination array";var i=t;if(null!=n&&0!==n.length){if(n.length>r)throw"String overflows maximum length";var o=void 0;for(o=0;o<n.length;o++)e[i++]=n.charAt(o).charCodeAt(0)}var s=void 0;for(s=i;s<t+r;s++)e[s]=a.prototype.PADDING;return e},a.get=function(e,t,n){var r=t,i=n;if(e.length<r+i)throw"Not enough bytes in source array";for(;0<i&&e[r+i-1]===a.prototype.PADDING;)i--;return String.fromCharCode.apply(String,e.slice(r,r+i))},a}();m.prototype.PADDING=32,E.UByte=p,E.UShort=d,E.UInt=h,E.ASCIIString=m}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/qitch/DataOperations.js","/lib/qitch")},{_process:131,buffer:121,timers:152}],22:[function(h,e,m){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";m.__esModule=!0;var f=h("../streamer-api");var d={1:"QUOTE",2:"PRICEDATA",3:"TRADE",4:"MMQUOTE",5:"ORDERBOOK",6:"INTERVAL",7:"NETHOUSEPOSITION",8:"LASTSALE",9:"LIMITUPLIMITDOWN",10:"IVGREEKS",11:"IMBALANCESTATUS"},p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.marketdatatypeToInt=function(t){return Object.keys(d).find(function(e){return d[e]===t})},e.ubyteToMarketdataType=function(e){return d[e]},e.ubyteToEntitlementType=function(e){switch(e){case 1:return"RT";case 2:return"RTN";case 3:return"RTB";case 4:return"DL";case 6:return"RTO";case 7:return"DLO";case 8:return"DLN";default:return"NA"}},e.subscribeActionToChar=function(e){switch(e){case f.messages.control.Action.SUBSCRIBE:return"S";case f.messages.control.Action.UNSUBSCRIBE:return"U"}},e}();m["default"]=p}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/lib/qitch/EnumValueTranslator.js","/lib/qitch")},{"../streamer-api":108,_process:131,buffer:121,timers:152}],23:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0;var f=p("../streamer-api");var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.symbols=new Map}return e.prototype.injectLocateCode=function(e){e instanceof f.messages.market.SymbolInfo?this.symbols.set(e.locateCode,e.symbol):e instanceof f.messages.market.DataMessage&&(null===e.locateCode||e instanceof f.messages.market.ImbalanceStatus||e instanceof f.messages.market.SymbolStatus||e instanceof f.messages.market.Alert||(e.symbol=this.symbols.get(e.locateCode)))},e}();h["default"]=d}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/qitch/LocateCodeInjector.js","/lib/qitch")},{"../streamer-api":108,_process:131,buffer:121,timers:152}],24:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=_("./Bytes"),p=(f=d)&&f.__esModule?f:{"default":f},h=_("./DataOperations"),m=_("./QitchConstants");var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.lengthGetValue=function(e,t){return h.UShort.fromshort(p["default"].getshort(e,t+m.MESSAGE_HEADER_LENGTH_OFFSET))},e.lengthGetBytes=function(e,t,n){return p["default"].putshort(e,t+m.MESSAGE_HEADER_LENGTH_OFFSET,h.UShort.fromint(n))},e.typeGetValue=function(e,t){return h.UByte.frombyte(e[t+m.MESSAGE_HEADER_TYPE_OFFSET])},e.typeGetBytes=function(e,t,n){return e[t+m.MESSAGE_HEADER_TYPE_OFFSET]=h.UByte.fromint(n),e},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/MessageHeader.js","/lib/qitch")},{"./Bytes":20,"./DataOperations":21,"./QitchConstants":26,_process:131,buffer:121,timers:152}],25:[function(b,e,y){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";y.__esModule=!0;var f=b("../streamer-api"),d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(b("./QitchConstants")),p=g(b("./Bytes")),h=b("./DataOperations"),m=g(b("bignumber.js")),E=g(b("jsbi")),_=g(b("./EnumValueTranslator"));function g(e){return e&&e.__esModule?e:{"default":e}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.copyArray=function(e,t,n,r,i){if(0!==i){if(!(e instanceof Int8Array))throw"Source must be a byte array";if(!(n instanceof Int8Array))throw"Destination must be a byte array";if(t>=e.length)throw"Source index is out of range. Index: "+t+", max length: "+e.length;if(r>=n.length)throw"Destination index is out of range. Index: "+r+", max length: "+n.length;if(t+i>e.length||r+i>n.length)throw"Length is out of range";var o=void 0;for(o=0;o<i;o++)n[r+o]=e[t+o]}},e.bool=function(e,t){if(e instanceof Int8Array)return 0!==e[t];throw"Invalid source. Expected: Int8Array"},e.putBool=function(e,t,n){if(e instanceof Int8Array)return e[t]=n?1:0,e;throw"Invalid destination. Expected: Int8Array"},e.putByte=function(e,t,n){if(e instanceof Int8Array)return e[t]=h.UByte.fromint(n),e;throw"Invalid destination. Expected: Int8Array"},e.int32=function(e,t){if(e instanceof Int8Array)return p["default"].getint(e,t);throw"Invalid source. Expected: Int8Array"},e.putInt32=function(e,t,n){if(e instanceof Int8Array)return p["default"].putint(e,t,n);throw"Invalid destination. Expected: Int8Array"},e.uint32=function(e,t){if(e instanceof Int8Array)return h.UInt.fromint(p["default"].getint(e,t));throw"Invalid source. Expected: Int8Array"},e.putUInt32=function(e,t,n){if(e instanceof Int8Array)return p["default"].putint(e,t,h.UInt.fromlong(n));throw"Invalid destination. Expected: Int8Array"},e.asciichar=function(e,t){if(e instanceof Int8Array){if(t>=e.length)return null;var n=e[t];return n!==d.ASCII_NULL?String.fromCharCode(n):null}throw"Invalid source. Expected: Int8Array"},e.int64=function(e,t){if(e instanceof Int8Array)return p["default"].getlong(e,t);throw"Invalid source. Expected: Int8Array"},e.dec8double=function(e,t){if(e instanceof Int8Array)return new m["default"](p["default"].getlong(e,t).toString()).dividedBy(d.PRICE_DIVISOR);throw"Invalid source. Expected: Int8Array"},e.sbyte=function(e,t){if(e instanceof Int8Array)return e[t];throw"Invalid source. Expected: Int8Array"},e.timestamp=function(e,t){if(e instanceof Int8Array){var n=p["default"].getlong(e,t);return E["default"].equal(n,d.TIMESTAMP_NULL)?null:n}throw"Invalid source. Expected: Int8Array"},e.locatecode=function(e,t){if(e instanceof Int8Array)return p["default"].getint(e,t);throw"Invalid source. Expected: Int8Array"},e.symbol=function(e,t){if(e instanceof Int8Array)return t+d.SYMBOL_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.SYMBOL_LENGTH);throw"Invalid source. Expected: Int8Array"},e.putSymbol=function(e,t,n){if(e instanceof Int8Array)return h.ASCIIString.put(e,t,n,d.SYMBOL_LENGTH);throw"Invalid destination. Expected: Int8Array"},e.asciiString=function(e,t,n){if(e instanceof Int8Array)return h.ASCIIString.get(e,t,n);throw"Invalid source. Expected: Int8Array"},e.putAsciiString=function(e,t,n,r){if(e instanceof Int8Array)return h.ASCIIString.put(e,t,n,r);throw"Invalid destination. Expected: Int8Array"},e.excode=function(e,t){if(e instanceof Int8Array)return t+d.EXCODE_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.EXCODE_LENGTH);throw"Invalid source. Expected: Int8Array"},e.putExcode=function(e,t,n){if(e instanceof Int8Array)return h.ASCIIString.put(e,t,n,d.EXCODE_LENGTH);throw"Invalid destination. Expected: Int8Array"},e.mmid=function(e,t){if(e instanceof Int8Array)return t+d.MMID_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.MMID_LENGTH);throw"Invalid source. Expected: Int8Array"},e.orderId=function(e,t){if(e instanceof Int8Array)return p["default"].getlong(e,t);throw"Invalid source. Expected: Int8Array"},e.orderIdLegacy=function(e,t){if(e instanceof Int8Array)return t+d.ORDERID_LENGTH>e.length?null:p["default"].getlong(e,t).toString();throw"Invalid source. Expected: Int8Array"},e.currencyid=function(e,t){if(e instanceof Int8Array)return t+d.CURRENCYID_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.CURRENCYID_LENGTH);throw"Invalid source. Expected: Int8Array"},e.tick=function(e,t){if(e instanceof Int8Array)return t>=e.length?null:String.fromCharCode(e[t]);throw"Invalid source. Expected: Int8Array"},e.bookOrderChangeType=function(e,t){if(e instanceof Int8Array){if(t>=e.length)return null;var n=String.fromCharCode(e[t]);return n===d.ASCIICHAR_NULL?null:f.messages.market.OrderChangeType[n]}throw"Invalid source. Expected: Int8Array"},e.orderside=function(e,t){if(e instanceof Int8Array){if(t>=e.length)return null;var n=String.fromCharCode(e[t]);return n===d.ASCIICHAR_NULL?null:n}throw"Invalid source. Expected: Int8Array"},e.rangeindicator=function(e,t){if(e instanceof Int8Array)return t>=e.length?null:String.fromCharCode(e[t]);throw"Invalid source. Expected: Int8Array"},e.instrumenttype=function(e,t){if(e instanceof Int8Array)return t>=e.length?null:f.messages.market.InstrumentType[h.UByte.frombyte(e[t])];throw"Invalid source. Expected: Int8Array"},e.imbalancetype=function(e,t){if(e instanceof Int8Array)return t>=e.length?null:f.messages.market.ImbalanceType[h.UByte.frombyte(e[t])];throw"Invalid source. Expected: Int8Array"},e.orderreference=function(e,t){if(e instanceof Int8Array)return t+d.ORDER_REFERENCE_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.ORDER_REFERENCE_LENGTH);throw"Invalid source. Expected: Int8Array"},e.reason=function(e,t){if(e instanceof Int8Array)return t+d.REASON_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.REASON_LENGTH);throw"Invalid source. Expected: Int8Array"},e.version=function(e,t){if(e instanceof Int8Array)return t+d.VERSION_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.VERSION_LENGTH);throw"Invalid source. Expected: Int8Array"},e.serverInstance=function(e,t){if(e instanceof Int8Array)return t+d.SERVER_INSTANCE_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.SERVER_INSTANCE_LENGTH);throw"Invalid source. Expected: Int8Array"},e.note=function(e,t){if(e instanceof Int8Array)return t+d.NOTE_LENGTH>e.length?null:h.ASCIIString.get(e,t,d.NOTE_LENGTH);throw"Invalid source. Expected: Int8Array"},e.putAction=function(e,t,n){if(e instanceof Int8Array)return e[t]=_["default"].subscribeActionToChar(n).charCodeAt(0),e;throw"Invalid destination. Expected: Int8Array"},e.putMimetype=function(e,t,n){if(e instanceof Int8Array)return h.ASCIIString.put(e,t,n,d.MIMETYPE_LENGTH);throw"Invalid destination. Expected: Int8Array"},e.putConflation=function(e,t,n){if(e instanceof Int8Array)return this.putInt32(e,t,null!=n&&""!==n?n:d.CONFLATION_NULL);throw"Invalid destination. Expected: Int8Array"},e.marketdatatype=function(e,t){if(e instanceof Int8Array)return t>=e.length?null:_["default"].ubyteToMarketdataType(h.UByte.frombyte(e[t]));throw"Invalid source. Expected: Int8Array"},e.putMarketdatatype=function(e,t,n){if(e instanceof Int8Array)return e[t]=h.UByte.fromint(_["default"].marketdatatypeToInt(n)),e;throw"Invalid destination. Expected: Int8Array"},e.entitlementtype=function(e,t){if(e instanceof Int8Array)return t>=e.length?null:_["default"].ubyteToEntitlementType(h.UByte.frombyte(e[t]));throw"Invalid source. Expected: Int8Array"},e.entitlement=function(e,t){if(e instanceof Int8Array){var n=new f.messages.control.StreamEntitlement;return n.symbol=this.symbol(e,t),n.marketdatatype=this.marketdatatype(e,t+d.SYMBOL_LENGTH),n.entitlement=this.entitlementtype(e,t+d.SYMBOL_LENGTH+d.MARKETDATATYPE_LENGTH),n}throw"Invalid source. Expected: Int8Array"},e}();y["default"]=T}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},b("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],b("timers").setImmediate,b("timers").clearImmediate,"/lib/qitch/Qitch.js","/lib/qitch")},{"../streamer-api":108,"./Bytes":20,"./DataOperations":21,"./EnumValueTranslator":22,"./QitchConstants":26,_process:131,"bignumber.js":118,buffer:121,jsbi:128,timers:152}],26:[function(M,e,D){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";D.__esModule=!0,D.BLOCK_HEADER_LENGTH=D.BLOCK_HEADER_SEQUENCE_OFFSET=D.BLOCK_HEADER_RESERVED_OFFSET=D.BLOCK_HEADER_MESSAGECOUNT_OFFSET=D.BLOCK_HEADER_LENGTH_OFFSET=D.MESSAGE_HEADER_LENGTH=D.MESSAGE_HEADER_TYPE_OFFSET=D.MESSAGE_HEADER_LENGTH_OFFSET=D.NOTE_LENGTH=D.ENTITLEMENT_LENGTH=D.ENTITLEMENTTYPE_LENGTH=D.MARKETDATATYPE_LENGTH=D.CONFLATION_LENGTH=D.MIMETYPE_LENGTH=D.ACTION_LENGTH=D.BOOLEAN_LENGTH=D.VERSION_LENGTH=D.SERVER_INSTANCE_LENGTH=D.REASON_LENGTH=D.ORDER_REFERENCE_LENGTH=D.PRICE_DIVISOR=D.RANGEINDICATOR_LENGTH=D.INSTRUMENTTYPE_LENGTH=D.SYMBOL_LENGTH=D.CURRENCYID_LENGTH=D.EXCODE_LENGTH=D.TICK_LENGTH=D.IMBALANCETYPE_LENGTH=D.ORDERSIDE_LENGTH=D.ORDERID_LENGTH=D.MMID_LENGTH=D.LOCATECODE_LENGTH=D.TIMESTAMP_LENGTH=D.DOUBLE_LENGTH=D.LONG_LENGTH=D.INT_LENGTH=D.SHORT_LENGTH=D.ASCIICHAR_LENGTH=D.BYTE_LENGTH=D.CONFLATION_NULL=D.TIMESTAMP_NULL=D.ASCIICHAR_NULL=D.ASCII_NULL=undefined;var f,d=M("jsbi"),p=(f=d)&&f.__esModule?f:{"default":f};D.ASCII_NULL=0,D.ASCIICHAR_NULL="0",D.TIMESTAMP_NULL=p["default"].BigInt("-9223372036854775808"),D.CONFLATION_NULL=-1;var h=D.BYTE_LENGTH=1,m=D.ASCIICHAR_LENGTH=1,E=D.SHORT_LENGTH=2,_=D.INT_LENGTH=4,g=D.LONG_LENGTH=8,T=(D.DOUBLE_LENGTH=8,D.TIMESTAMP_LENGTH=8,D.LOCATECODE_LENGTH=_,D.MMID_LENGTH=4),b=D.ORDERID_LENGTH=g,y=(D.ORDERSIDE_LENGTH=m,D.IMBALANCETYPE_LENGTH=m,D.TICK_LENGTH=m,D.EXCODE_LENGTH=5),S=(D.CURRENCYID_LENGTH=3,D.SYMBOL_LENGTH=26),v=(D.INSTRUMENTTYPE_LENGTH=m,D.RANGEINDICATOR_LENGTH=h,D.PRICE_DIVISOR=1e8,D.ORDER_REFERENCE_LENGTH=y+S+T+b,D.REASON_LENGTH=40,D.SERVER_INSTANCE_LENGTH=1,D.VERSION_LENGTH=8,D.BOOLEAN_LENGTH=1,D.ACTION_LENGTH=m,D.MIMETYPE_LENGTH=20,D.CONFLATION_LENGTH=_,D.MARKETDATATYPE_LENGTH=h),O=D.ENTITLEMENTTYPE_LENGTH=h,w=(D.ENTITLEMENT_LENGTH=S+v+O,D.NOTE_LENGTH=50,D.MESSAGE_HEADER_LENGTH_OFFSET=0),I=D.MESSAGE_HEADER_TYPE_OFFSET=w+E,N=(D.MESSAGE_HEADER_LENGTH=I+h,D.BLOCK_HEADER_LENGTH_OFFSET=0),A=D.BLOCK_HEADER_MESSAGECOUNT_OFFSET=N+E,F=D.BLOCK_HEADER_RESERVED_OFFSET=A+h,C=D.BLOCK_HEADER_SEQUENCE_OFFSET=F+h;D.BLOCK_HEADER_LENGTH=C+_}).call(this,M("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},M("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],M("timers").setImmediate,M("timers").clearImmediate,"/lib/qitch/QitchConstants.js","/lib/qitch")},{_process:131,buffer:121,jsbi:128,timers:152}],27:[function(y,e,S){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";S.__esModule=!0,S.LENGTH=S.MAX_ENTITLEMENTS_PER_SUBSCRIPTION_OFFSET=S.REJECT_EXCESSIVE_CONNECTION_OFFSET=S.CONFLATION_OFFSET=S.SERVER_INSTANCE_OFFSET=S.FLOW_CONTROL_CHECK_INTERVAL_OFFSET=S.VERSION_OFFSET=S.REQUEST_ID_OFFSET=S.REASON_OFFSET=S.CODE_OFFSET=S.TYPEID=undefined;var f=y("../QitchConstants"),d=(S.TYPEID=105,S.CODE_OFFSET=0),p=S.REASON_OFFSET=d+f.INT_LENGTH,h=S.REQUEST_ID_OFFSET=p+f.REASON_LENGTH,m=S.VERSION_OFFSET=h+f.INT_LENGTH,E=S.FLOW_CONTROL_CHECK_INTERVAL_OFFSET=m+f.VERSION_LENGTH,_=S.SERVER_INSTANCE_OFFSET=E+f.INT_LENGTH,g=S.CONFLATION_OFFSET=_+f.SERVER_INSTANCE_LENGTH,T=S.REJECT_EXCESSIVE_CONNECTION_OFFSET=g+f.INT_LENGTH,b=S.MAX_ENTITLEMENTS_PER_SUBSCRIPTION_OFFSET=T+f.BOOLEAN_LENGTH;S.LENGTH=b+f.INT_LENGTH}).call(this,y("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],y("timers").setImmediate,y("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/ConnectResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],28:[function(h,e,m){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";m.__esModule=!0,m.LENGTH=m.REASON_OFFSET=m.CODE_OFFSET=m.TYPEID=undefined;var f=h("../QitchConstants"),d=(m.TYPEID=106,m.CODE_OFFSET=0),p=m.REASON_OFFSET=d+f.INT_LENGTH;m.LENGTH=p+f.REASON_LENGTH}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/ConnectionCloseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],29:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0,g.FIXED_LENGTH=g.EXCODE_OFFSET=g.CONFLATION_OFFSET=g.MIMETYPE_OFFSET=g.ACTION_OFFSET=g.REQUEST_ID_OFFSET=g.TYPEID=undefined;var f=_("../QitchConstants"),d=(g.TYPEID=114,g.REQUEST_ID_OFFSET=0),p=g.ACTION_OFFSET=d+f.INT_LENGTH,h=g.MIMETYPE_OFFSET=p+f.ACTION_LENGTH,m=g.CONFLATION_OFFSET=h+f.MIMETYPE_LENGTH,E=g.EXCODE_OFFSET=m+f.CONFLATION_LENGTH;g.FIXED_LENGTH=E+f.EXCODE_LENGTH}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/ExchangeSubscribeMessageDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],30:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0,E.LENGTH=E.REQUEST_ID_OFFSET=E.REASON_OFFSET=E.CODE_OFFSET=E.TYPEID=undefined;var f=m("../QitchConstants"),d=(E.TYPEID=115,E.CODE_OFFSET=0),p=E.REASON_OFFSET=d+f.INT_LENGTH,h=E.REQUEST_ID_OFFSET=p+f.REASON_LENGTH;E.LENGTH=h+f.INT_LENGTH}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/ExchangeSubscribeResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],31:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0,E.LENGTH=E.REQUEST_ID_OFFSET=E.REASON_OFFSET=E.CODE_OFFSET=E.TYPEID=undefined;var f=m("../QitchConstants"),d=(E.TYPEID=116,E.CODE_OFFSET=0),p=E.REASON_OFFSET=d+f.INT_LENGTH,h=E.REQUEST_ID_OFFSET=p+f.REASON_LENGTH;E.LENGTH=h+f.INT_LENGTH}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/ExchangeUnsubResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],32:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,h.LENGTH=h.SEQUENCE_NUMBER_OFFSET=h.TYPEID=undefined;var f=p("../QitchConstants"),d=(h.TYPEID=107,h.SEQUENCE_NUMBER_OFFSET=0);h.LENGTH=d+f.INT_LENGTH}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/FlowMessageDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],33:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,h.LENGTH=h.TIMESTAMP_OFFSET=h.TYPEID=undefined;var f=p("../QitchConstants"),d=(h.TYPEID=101,h.TIMESTAMP_OFFSET=0);h.LENGTH=d+f.TIMESTAMP_LENGTH}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/HeartbeatDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],34:[function(h,e,m){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";m.__esModule=!0,m.LENGTH=m.REQUEST_ID_OFFSET=m.TIMESTAMP_OFFSET=m.TYPEID=undefined;var f=h("../QitchConstants"),d=(m.TYPEID=110,m.TIMESTAMP_OFFSET=0),p=m.REQUEST_ID_OFFSET=d+f.TIMESTAMP_LENGTH;m.LENGTH=p+f.INT_LENGTH}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/InitialDataSentDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],35:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,h.LENGTH=h.TIMESTAMP_OFFSET=h.TYPEID=undefined;var f=p("../QitchConstants"),d=(h.TYPEID=112,h.TIMESTAMP_OFFSET=0);h.LENGTH=d+f.TIMESTAMP_LENGTH}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/ResubscribeMessageDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],36:[function(h,e,m){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";m.__esModule=!0,m.LENGTH=m.MAX_EXCEED_OFFSET=m.TIMES_EXCEED_OFFSET=m.TYPEID=undefined;var f=h("../QitchConstants"),d=(m.TYPEID=111,m.TIMES_EXCEED_OFFSET=0),p=m.MAX_EXCEED_OFFSET=d+f.INT_LENGTH;m.LENGTH=p+f.INT_LENGTH}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/SlowConnectionDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],37:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,h.LENGTH=h.REQUEST_ID_OFFSET=h.TYPEID=undefined;var f=p("../QitchConstants"),d=(h.TYPEID=108,h.REQUEST_ID_OFFSET=0);h.LENGTH=d+f.INT_LENGTH}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/StatsMessageDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],38:[function(y,e,S){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";S.__esModule=!0,S.LENGTH=S.NUMBER_OF_AVAILABLE_CONNECTIONS=S.NUMBER_OF_OPENED_CONNECTIONS=S.NUMBER_OF_AVAILABLE_L2_OFFSET=S.NUMBER_OF_SUBSCRIBED_L2_OFFSET=S.NUMBER_OF_AVAILABLE_L1_OFFSET=S.NUMBER_OF_SUBSCRIBED_L1_OFFSET=S.REQUEST_ID_OFFSET=S.REASON_OFFSET=S.CODE_OFFSET=S.TYPEID=undefined;var f=y("../QitchConstants"),d=(S.TYPEID=109,S.CODE_OFFSET=0),p=S.REASON_OFFSET=d+f.INT_LENGTH,h=S.REQUEST_ID_OFFSET=p+f.REASON_LENGTH,m=S.NUMBER_OF_SUBSCRIBED_L1_OFFSET=h+f.INT_LENGTH,E=S.NUMBER_OF_AVAILABLE_L1_OFFSET=m+f.INT_LENGTH,_=S.NUMBER_OF_SUBSCRIBED_L2_OFFSET=E+f.INT_LENGTH,g=S.NUMBER_OF_AVAILABLE_L2_OFFSET=_+f.INT_LENGTH,T=S.NUMBER_OF_OPENED_CONNECTIONS=g+f.INT_LENGTH,b=S.NUMBER_OF_AVAILABLE_CONNECTIONS=T+f.INT_LENGTH;S.LENGTH=b+f.INT_LENGTH}).call(this,y("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],y("timers").setImmediate,y("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/StatsResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],39:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0,_.FIXED_LENGTH=_.MIMETYPE_OFFSET=_.OPERATION_OFFSET=_.REQUEST_ID_OFFSET=_.FIXED_OPERATION_LENGTH=_.TYPEID=undefined;var f=E("../QitchConstants"),d=(_.TYPEID=117,_.FIXED_OPERATION_LENGTH=11),p=_.REQUEST_ID_OFFSET=0,h=_.OPERATION_OFFSET=p+f.INT_LENGTH,m=_.MIMETYPE_OFFSET=h+d;_.FIXED_LENGTH=m+f.MIMETYPE_LENGTH}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/SubUnsubAlertMessageDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],40:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0,g.LENGTH=g.OPERATION_OFFSET=g.REQUEST_ID_OFFSET=g.REASON_OFFSET=g.CODE_OFFSET=g.FIXED_OPERATION_LENGTH=g.TYPEID=undefined;var f=_("../QitchConstants"),d=(g.TYPEID=118,g.FIXED_OPERATION_LENGTH=12),p=g.CODE_OFFSET=0,h=g.REASON_OFFSET=p+f.INT_LENGTH,m=g.REQUEST_ID_OFFSET=h+f.REASON_LENGTH,E=g.OPERATION_OFFSET=m+f.INT_LENGTH;g.LENGTH=E+d}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/SubUnsubAlertResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],41:[function(T,e,b){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";b.__esModule=!0,b.FIXED_LENGTH=b.NUMBER_OF_TYPES_OFFSET=b.NUMBER_OF_SYMBOLS_OFFSET=b.CONFLATION_OFFSET=b.SKIP_HEAVY_INITIAL_LOAD_OFFSET=b.MIMETYPE_OFFSET=b.ACTION_OFFSET=b.REQUEST_ID_OFFSET=b.TYPEID=undefined;var f=T("../QitchConstants"),d=(b.TYPEID=102,b.REQUEST_ID_OFFSET=0),p=b.ACTION_OFFSET=d+f.INT_LENGTH,h=b.MIMETYPE_OFFSET=p+f.ACTION_LENGTH,m=b.SKIP_HEAVY_INITIAL_LOAD_OFFSET=h+f.MIMETYPE_LENGTH,E=b.CONFLATION_OFFSET=m+f.BOOLEAN_LENGTH,_=b.NUMBER_OF_SYMBOLS_OFFSET=E+f.CONFLATION_LENGTH,g=b.NUMBER_OF_TYPES_OFFSET=_+f.INT_LENGTH;b.FIXED_LENGTH=g+f.BYTE_LENGTH}).call(this,T("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},T("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],T("timers").setImmediate,T("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/SubscribeMessageDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],42:[function(g,e,T){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";T.__esModule=!0,T.FIXED_LENGTH=T.NUMBER_OF_INVALID_SYMBOLS_OFFSET=T.NUMBER_OF_REJECTED_SYMBOLS_OFFSET=T.NUMBER_OF_ENTITLEMENTS_OFFSET=T.REQUEST_ID_OFFSET=T.REASON_OFFSET=T.CODE_OFFSET=T.TYPEID=undefined;var f=g("../QitchConstants"),d=(T.TYPEID=103,T.CODE_OFFSET=0),p=T.REASON_OFFSET=d+f.INT_LENGTH,h=T.REQUEST_ID_OFFSET=p+f.REASON_LENGTH,m=T.NUMBER_OF_ENTITLEMENTS_OFFSET=h+f.INT_LENGTH,E=T.NUMBER_OF_REJECTED_SYMBOLS_OFFSET=m+f.INT_LENGTH,_=T.NUMBER_OF_INVALID_SYMBOLS_OFFSET=E+f.INT_LENGTH;T.FIXED_LENGTH=_+f.INT_LENGTH}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],g("timers").setImmediate,g("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/SubscribeResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],43:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0,_.FIXED_LENGTH=_.NUMBER_OF_UNSUBSCRIBED_ENTITLEMENTS_OFFSET=_.REQUEST_ID_OFFSET=_.REASON_OFFSET=_.CODE_OFFSET=_.TYPEID=undefined;var f=E("../QitchConstants"),d=(_.TYPEID=104,_.CODE_OFFSET=0),p=_.REASON_OFFSET=d+f.INT_LENGTH,h=_.REQUEST_ID_OFFSET=p+f.REASON_LENGTH,m=_.NUMBER_OF_UNSUBSCRIBED_ENTITLEMENTS_OFFSET=h+f.INT_LENGTH;_.FIXED_LENGTH=m+f.INT_LENGTH}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/controlMessageDefinition/UnsubscribeResponseDef.js","/lib/qitch/controlMessageDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],44:[function(v,e,O){(function(t,n,r,i,o,s,a,u,l,c,f){"use strict";O.__esModule=!0;var d=E(v("../Qitch")),p=E(v("../MessageHeader")),h=E(v("../BlockHeader")),m=v("../QitchConstants");function E(e){return e&&e.__esModule?e:{"default":e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=function(){function n(e,t){if(_(this,n),null==e)throw"Decoders cannot be null";this.buffer=new ArrayBuffer(t),this.bufferView=new Int8Array(this.buffer),this.bufferPosition=0,this.bufferCapacity=t,this.decodeblockheader=new b(this),this.decodemessageheader=new y(this),this.decodemessage=new S(e,this),this.state=new T,this.state.current=this.decodeblockheader,this.docompact=!1,this.doflip=!1}return n.prototype.messagecount=function(){return this.state.messagecount},n.prototype.blocksequencenumber=function(){return this.state.blocksequencenumber},n.prototype.add=function(e,t,n){var r=0;if(null!=e){if(this.docompact){var i=this.bufferPosition<=this.bufferLimit?this.bufferLimit-this.bufferPosition:0;d["default"].copyArray(this.bufferView,this.bufferPosition,this.bufferView,0,i),this.bufferPosition=i,this.bufferLimit=this.bufferCapacity,this.docompact=!1}n+this.bufferPosition>this.bufferView.length?(r=n-(this.bufferView.length-this.bufferPosition),d["default"].copyArray(e,t,this.bufferView,this.bufferPosition,n-r),this.messagelength=this.bufferView.length,this.bufferPosition=this.bufferView.length):(d["default"].copyArray(e,t,this.bufferView,this.bufferPosition,n),this.messagelength=n,this.bufferPosition=this.bufferPosition+this.messagelength),this.doflip=!0}return r},n.prototype.decode=function(){this.doflip&&(this.bufferLimit=this.bufferPosition,this.bufferPosition=0,this.doflip=!1),this.state.current===this.decodeblockheader?(this.state.blocklength=-1,this.state.messagecount=-1,this.state.blocksequencenumber=-1,this.state.messagelength=-1,this.state.messagetype=-1):this.state.current===this.decodemessageheader&&(this.state.messagelength=-1,this.state.messagetype=-1);var e=0;try{do{if(-1!==(e=this.state.current.decode(this.state,this.bufferView,this.bufferLimit,this.bufferPosition))&&(this.state.previous=this.state.current,this.state.current=this.state.next,this.state.next=null,this.bufferPosition=e),null!=this.state.result&&e>=this.messagelength)break}while(0<=e)}catch(n){throw this.state.current=this.decodeblockheader,this.bufferPosition=0,this.bufferLimit=this.bufferCapacity,n}var t=this.state.result;return this.state.result=null,this.docompact=!0,t},n}(),T=function e(){_(this,e),this.previous=null,this.current=null,this.next=null,this.blocklength=0,this.messagecount=0,this.blocksequencenumber=0,this.messagelength=0,this.messagetype=0,this.result=null},b=function(){function t(e){_(this,t),this.blockDecoder=e}return t.prototype.decode=function(e,t,n,r){return n-r<m.BLOCK_HEADER_LENGTH?-1:(e.blocklength=h["default"].lengthGetValue(t,r),e.messagecount=h["default"].messageCountGetValue(t,r),e.blocksequencenumber=h["default"].sequenceGetValue(t,r),0<e.messagecount?e.next=this.blockDecoder.decodemessageheader:e.next=this.blockDecoder.decodeblockheader,r+m.BLOCK_HEADER_LENGTH)},t}(),y=function(){function t(e){_(this,t),this.blockDecoder=e}return t.prototype.decode=function(e,t,n,r){return n-r<m.MESSAGE_HEADER_LENGTH?-1:(e.messagelength=p["default"].lengthGetValue(t,r),e.messagetype=p["default"].typeGetValue(t,r),e.next=this.blockDecoder.decodemessage,r)},t}(),S=function(){function n(e,t){_(this,n),this.decoders=e,this.blockDecoder=t}return n.prototype.decode=function(e,t,n,r){if(n-r<e.messagelength+m.MESSAGE_HEADER_LENGTH)return-1;var i=this.decoders.decode(t,r);return null!=i&&(e.result||(e.result=[]),i.messagecount=e.messagecount,i.blocksequencenumber=e.blocksequencenumber,e.result.push(i)),e.messagecount--,0<e.messagecount?e.next=this.blockDecoder.decodemessageheader:e.next=this.blockDecoder.decodeblockheader,r+m.MESSAGE_HEADER_LENGTH+e.messagelength},n}();O["default"]=g}).call(this,v("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],v("timers").setImmediate,v("timers").clearImmediate,"/lib/qitch/decoder/BlockDecoder.js","/lib/qitch/decoder")},{"../BlockHeader":19,"../MessageHeader":24,"../Qitch":25,"../QitchConstants":26,_process:131,buffer:121,timers:152}],45:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=E("../MessageHeader"),p=(f=d)&&f.__esModule?f:{"default":f},h=E("../QitchConstants");var m=function(){function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),null===e)throw"Decoders cannot be null";this.decoders=new Map;var t=void 0;for(t=0;t<e.length;t++)this.decoders.set(e[t].type(),e[t])}return n.prototype.decode=function(e,t){if(null==e)throw"The source cannot be null";if(0===e.length)return null;var n=p["default"].typeGetValue(e,t),r=this.decoders.get(n);if(null==r)return null;var i=p["default"].lengthGetValue(e,t);this._check(e,t,i);var o=new Int8Array(e.buffer,h.MESSAGE_HEADER_LENGTH+t,i);return r.decode(o,0)},n.prototype._check=function(e,t,n){var r=e.length-t,i=h.MESSAGE_HEADER_LENGTH+n;if(r<i)throw"Not enough data available. Available: "+r+" Required: "+i},n}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/decoder/MessageDecoder.js","/lib/qitch/decoder")},{"../MessageHeader":24,"../QitchConstants":26,_process:131,buffer:121,timers:152}],46:[function(J,e,Z){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";Z.__esModule=!0,Z.MessageBlock=Z.BinaryMessage=undefined;var f=V(J("./BlockDecoder")),d=V(J("./MessageDecoder")),p=J("../../message.js"),h=V(J("./dataDecoder/TradeDecoder")),m=V(J("./dataDecoder/SymbolInfoDecoder")),E=V(J("./dataDecoder/PricedataDecoder")),_=V(J("./dataDecoder/SymbolStatusDecoder")),g=V(J("./dataDecoder/QuoteDecoder")),T=V(J("./dataDecoder/DerivativeInfoDecoder")),b=V(J("./dataDecoder/IVGreeksDecoder")),y=V(J("./dataDecoder/LastSaleDecoder")),S=V(J("./dataDecoder/LimitUpLimitDownDecoder")),v=V(J("./dataDecoder/ImbalanceStatusDecoder")),O=V(J("./dataDecoder/NethousePositionDecoder")),w=V(J("./dataDecoder/IntervalDecoder")),I=V(J("./dataDecoder/MMQuoteDecoder")),N=V(J("./dataDecoder/PurgeBookDecoder")),A=V(J("./dataDecoder/BookDeleteDecoder")),F=V(J("./dataDecoder/BookOrderDecoder")),C=V(J("../../SMessage")),M=V(J("./controlMessageDecoder/HeartbeatDecoder")),D=V(J("./controlMessageDecoder/InitialDataSentDecoder")),L=V(J("./controlMessageDecoder/ConnectResponseDecoder")),R=V(J("./controlMessageDecoder/StatsResponseDecoder")),B=V(J("./controlMessageDecoder/SubscribeResponseDecoder")),U=V(J("./controlMessageDecoder/UnsubscribeResponseDecoder")),k=V(J("./controlMessageDecoder/SlowConnectionDecoder")),P=V(J("./controlMessageDecoder/ConnectionCloseDecoder")),H=V(J("./controlMessageDecoder/ResubscribeMessageDecoder")),G=V(J("./controlMessageDecoder/ExchangeSubscribeResponseDecoder")),x=V(J("./controlMessageDecoder/ExchangeUnsubResponseDecoder")),j=V(J("./dataDecoder/AlertDecoder")),q=V(J("./controlMessageDecoder/SubUnsubAlertResponseDecoder"));function V(e){return e&&e.__esModule?e:{"default":e}}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var X=function(){function n(e){K(this,n);var t=[new M["default"],new B["default"],new U["default"],new L["default"],new P["default"],new R["default"],new k["default"],new D["default"],new H["default"],new q["default"],new m["default"],new h["default"],new E["default"],new _["default"],new g["default"],new T["default"],new b["default"],new y["default"],new S["default"],new v["default"],new O["default"],new w["default"],new I["default"],new N["default"],new A["default"],new F["default"],new G["default"],new x["default"],new j["default"]];this.decoder=new f["default"](new d["default"](t),e)}return n.prototype.decode=function(e){for(var t=e.length,n=[],r=0;0<t;){var i=t-this.decoder.add(e,r,t);r+=i,t-=i;var o=this.decoder.decode();if(null!=o)if(1===o.length&&1===o[0].messagecount)n.push(this._messageImpl(o[0]));else if(1<o.length)for(var s=0;s<o.length;s++)1<o[s].messagecount?(n.push(this._messageBlockImpl(o.slice(s+1,s+o[s].messagecount))),s+=o[s].messagecount+1):n.push(this._messageImpl(o[s]));else{for(var a=[],u=0;null!=o;)a[u++]=o,o=this.decoder.decode();n.push(this._messageBlockImpl(a))}}return n},n.prototype._messageBlockImpl=function(e){if(null==e||!(e instanceof Array)||0===e.length)return null;var t=new Array(e.length),n=void 0;for(n=0;n<e.length;n++)t[n]=this._messageImpl(e[n]);var r=new z;return r.sequencenumber=this.decoder.blocksequencenumber(),r.timestamp=(new Date).getMilliseconds(),r.encoding=p.Encodings.NONE_CHAR,r.mimetype=p.MimeTypes.QITCH_CHAR,r.messages=t,r},n.prototype._messageImpl=function(e){var t=new W;return t.sequencenumber=e.blocksequencenumber,t.timestamp=(new Date).getTime(),t.encoding=p.Encodings.NONE_CHAR,t.mimetype=p.MimeTypes.QITCH_CHAR,t.decodedPayload=e,t.id=e.requestId,t},n}(),W=Z.BinaryMessage=function(t){function n(){K(this,n);var e=Y(this,t.call(this));return e.type="1",e.decodedPayload=null,e}return Q(n,t),n}(C["default"]),z=Z.MessageBlock=function(t){function n(){K(this,n);var e=Y(this,t.call(this));return e.type="B",e.messages=null,e}return Q(n,t),n}(C["default"]);Z["default"]=X}).call(this,J("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},J("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],J("timers").setImmediate,J("timers").clearImmediate,"/lib/qitch/decoder/QitchDecoder.js","/lib/qitch/decoder")},{"../../SMessage":5,"../../message.js":17,"./BlockDecoder":44,"./MessageDecoder":45,"./controlMessageDecoder/ConnectResponseDecoder":47,"./controlMessageDecoder/ConnectionCloseDecoder":48,"./controlMessageDecoder/ExchangeSubscribeResponseDecoder":49,"./controlMessageDecoder/ExchangeUnsubResponseDecoder":50,"./controlMessageDecoder/HeartbeatDecoder":51,"./controlMessageDecoder/InitialDataSentDecoder":52,"./controlMessageDecoder/ResubscribeMessageDecoder":53,"./controlMessageDecoder/SlowConnectionDecoder":54,"./controlMessageDecoder/StatsResponseDecoder":55,"./controlMessageDecoder/SubUnsubAlertResponseDecoder":56,"./controlMessageDecoder/SubscribeResponseDecoder":57,"./controlMessageDecoder/UnsubscribeResponseDecoder":58,"./dataDecoder/AlertDecoder":59,"./dataDecoder/BookDeleteDecoder":60,"./dataDecoder/BookOrderDecoder":61,"./dataDecoder/DerivativeInfoDecoder":62,"./dataDecoder/IVGreeksDecoder":63,"./dataDecoder/ImbalanceStatusDecoder":64,"./dataDecoder/IntervalDecoder":65,"./dataDecoder/LastSaleDecoder":66,"./dataDecoder/LimitUpLimitDownDecoder":67,"./dataDecoder/MMQuoteDecoder":68,"./dataDecoder/NethousePositionDecoder":69,"./dataDecoder/PricedataDecoder":70,"./dataDecoder/PurgeBookDecoder":71,"./dataDecoder/QuoteDecoder":72,"./dataDecoder/SymbolInfoDecoder":73,"./dataDecoder/SymbolStatusDecoder":74,"./dataDecoder/TradeDecoder":75,_process:131,buffer:121,timers:152}],47:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/ConnectResponseDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.ConnectResponse;return n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET),n.version=m["default"].version(e,t+d.VERSION_OFFSET),n.flowControlCheckInterval=m["default"].int32(e,t+d.FLOW_CONTROL_CHECK_INTERVAL_OFFSET),n.serverInstance=m["default"].serverInstance(e,t+d.SERVER_INSTANCE_OFFSET),n.conflationMs=m["default"].int32(e,t+d.CONFLATION_OFFSET),n.rejectExcessiveConnection=m["default"].bool(e,t+d.REJECT_EXCESSIVE_CONNECTION_OFFSET),n.maxEntitlementsPerSubscription=m["default"].int32(e,t+d.MAX_ENTITLEMENTS_PER_SUBSCRIPTION_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/ConnectResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/ConnectResponseDef":27,_process:131,buffer:121,timers:152}],48:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/ConnectionCloseDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.ConnectionClose;return n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/ConnectionCloseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/ConnectionCloseDef":28,_process:131,buffer:121,timers:152}],49:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/ExchangeSubscribeResponseDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.ExchangeSubscribeResponse;return n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/ExchangeSubscribeResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/ExchangeSubscribeResponseDef":30,_process:131,buffer:121,timers:152}],50:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/ExchangeUnsubResponseDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.ExchangeUnsubscribeResponse;return n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/ExchangeUnsubResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/ExchangeUnsubResponseDef":31,_process:131,buffer:121,timers:152}],51:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/HeartbeatDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.Heartbeat;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/HeartbeatDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/HeartbeatDef":33,_process:131,buffer:121,timers:152}],52:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/InitialDataSentDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.InitialDataSent;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/InitialDataSentDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/InitialDataSentDef":34,_process:131,buffer:121,timers:152}],53:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/ResubscribeMessageDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.ResubscribeMessage;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/ResubscribeMessageDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/ResubscribeMessageDef":35,_process:131,buffer:121,timers:152}],54:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/SlowConnectionDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.SlowConnection;return n.timesExceeded=m["default"].int32(e,t+d.TIMES_EXCEED_OFFSET),n.maxExceed=m["default"].int32(e,t+d.MAX_EXCEED_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/SlowConnectionDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/SlowConnectionDef":36,_process:131,buffer:121,timers:152}],55:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/StatsResponseDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.StatsResponse;return n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET),n.numberOfSubscribedSymbolsL1=m["default"].int32(e,t+d.NUMBER_OF_SUBSCRIBED_L1_OFFSET),n.numberOfAvailableSymbolsL1=m["default"].int32(e,t+d.NUMBER_OF_AVAILABLE_L1_OFFSET),n.numberOfSubscribedSymbolsL2=m["default"].int32(e,t+d.NUMBER_OF_SUBSCRIBED_L2_OFFSET),n.numberOfAvailableSymbolsL2=m["default"].int32(e,t+d.NUMBER_OF_AVAILABLE_L2_OFFSET),n.numberOfOpenedConnections=m["default"].int32(e,t+d.NUMBER_OF_OPENED_CONNECTIONS),n.numberOfAvailableConnections=m["default"].int32(e,t+d.NUMBER_OF_AVAILABLE_CONNECTIONS),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/StatsResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/StatsResponseDef":38,_process:131,buffer:121,timers:152}],56:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/SubUnsubAlertResponseDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.AlertSubUnsubResponse;return n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET),n.operation=m["default"].asciiString(e,t+d.OPERATION_OFFSET,d.FIXED_OPERATION_LENGTH),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/SubUnsubAlertResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../controlMessageDefinition/SubUnsubAlertResponseDef":40,_process:131,buffer:121,timers:152}],57:[function(g,e,T){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";T.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(g("../../controlMessageDefinition/SubscribeResponseDef")),p=g("../../../streamer-api"),h=g("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f},E=g("../../QitchConstants");var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.control.SubscribeResponse;n.code=m["default"].int32(e,t+d.CODE_OFFSET),n.reason=m["default"].reason(e,t+d.REASON_OFFSET),n.requestId=m["default"].int32(e,t+d.REQUEST_ID_OFFSET);var r=m["default"].int32(e,t+d.NUMBER_OF_ENTITLEMENTS_OFFSET),i=m["default"].int32(e,t+d.NUMBER_OF_REJECTED_SYMBOLS_OFFSET),o=m["default"].int32(e,t+d.NUMBER_OF_INVALID_SYMBOLS_OFFSET);return n.entitlements=this._decodeEntitlements(e,t+d.FIXED_LENGTH,r),n.rejectedsymbols=this._decodeSymbolList(e,t+d.FIXED_LENGTH+r*E.ENTITLEMENT_LENGTH,i),n.invalidsymbols=this._decodeSymbolList(e,t+d.FIXED_LENGTH+r*E.ENTITLEMENT_LENGTH+i*E.SYMBOL_LENGTH,o),n},e.prototype._decodeEntitlements=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(m["default"].entitlement(e,t+i*E.ENTITLEMENT_LENGTH));return r},e.prototype._decodeSymbolList=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(m["default"].symbol(e,t+i*E.SYMBOL_LENGTH));return r},e}();T["default"]=_}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],g("timers").setImmediate,g("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/SubscribeResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../QitchConstants":26,"../../controlMessageDefinition/SubscribeResponseDef":42,_process:131,buffer:121,timers:152}],58:[function(g,e,T){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";T.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(g("../../controlMessageDefinition/UnsubscribeResponseDef")),p=g("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f},m=g("../../QitchConstants"),E=g("../../../streamer-api");var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new E.messages.control.UnsubscribeResponse;n.code=h["default"].int32(e,t+d.CODE_OFFSET),n.reason=h["default"].reason(e,t+d.REASON_OFFSET),n.requestId=h["default"].int32(e,t+d.REQUEST_ID_OFFSET);var r=h["default"].int32(e,t+d.NUMBER_OF_UNSUBSCRIBED_ENTITLEMENTS_OFFSET);return n.unsubscribed=this._decodeEntitlements(e,t+d.FIXED_LENGTH,r),n},e.prototype._decodeEntitlements=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(h["default"].entitlement(e,t+i*m.ENTITLEMENT_LENGTH));return r},e}();T["default"]=_}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],g("timers").setImmediate,g("timers").clearImmediate,"/lib/qitch/decoder/controlMessageDecoder/UnsubscribeResponseDecoder.js","/lib/qitch/decoder/controlMessageDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../QitchConstants":26,"../../controlMessageDefinition/UnsubscribeResponseDef":43,_process:131,buffer:121,timers:152}],59:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/AlertDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.Alert;return n.symbol=m["default"].symbol(e,t+d.SYMBOL_OFFSET),n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.instrumentType=m["default"].instrumenttype(e,t+d.INSTRUMENTTYPE_OFFSET),n.alertId=m["default"].int64(e,t+d.ALERT_ID_OFFSET),n.triggerValue=m["default"].dec8double(e,t+d.TRIGGER_VALUE_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/AlertDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/AlertDef":82,_process:131,buffer:121,timers:152}],60:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/BookDeleteDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.BookDelete;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.orderReference=m["default"].orderreference(e,t+d.ORDER_REFERENCE_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/BookDeleteDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/BookDeleteDef":83,_process:131,buffer:121,timers:152}],61:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/BookOrderDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.BookOrder;n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.marketMakerID=m["default"].mmid(e,t+d.MMID_OFFSET),n.orderID=m["default"].orderIdLegacy(e,t+d.ORDERID_OFFSET),n.orderSide=m["default"].orderside(e,t+d.SIDE_OFFSET),n.price=m["default"].dec8double(e,t+d.PRICE_OFFSET),n.size=m["default"].int32(e,t+d.SIZE_OFFSET),n.lastUpdate=m["default"].timestamp(e,t+d.LASTUPDATE_OFFSET);var r=m["default"].int32(e,t+d.FLAGS_OFFSET);return n.flags=r,n.display=d.BookOrderFlags.isDisplay(r),n.orderChangeType=m["default"].bookOrderChangeType(e,t+d.CHANGE_TYPE_OFFSET),n.orderReference=m["default"].orderreference(e,t+d.ORDER_REFERENCE_OFFSET),n.excode=m["default"].excode(e,t+d.EXCODE_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/BookOrderDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/BookOrderDef":84,_process:131,buffer:121,timers:152}],62:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/DerivativeInfoDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.DerivativeInfo;return n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.rootSymbol=m["default"].symbol(e,t+d.ROOTSYMBOL_OFFSET),n.expiration=m["default"].timestamp(e,t+d.EXPIRATION_OFFSET),n.delivery=m["default"].timestamp(e,t+d.DELIVERY_OFFSET),n.openInterest=m["default"].int64(e,t+d.OPENINTEREST_OFFSET),n.contractSize=m["default"].int32(e,t+d.CONTRACTSIZE_OFFSET),n.callPutIndicator=m["default"].asciichar(e,t+d.CALLPUTINDICATOR_OFFSET),n.minTickSize=m["default"].dec8double(e,t+d.MINTICKSIZE_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/DerivativeInfoDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/DerivativeInfoDef":85,_process:131,buffer:121,timers:152}],63:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/IVGreeksDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.IVGreeks;return n.locateCode=m["default"].locatecode(e,t+d.LOCATECODE_OFFSET),n.lastCalculation=m["default"].timestamp(e,t+d.LAST_CALCULATION_OFFSET),n.delta=m["default"].dec8double(e,t+d.DELTA_OFFSET),n.gamma=m["default"].dec8double(e,t+d.GAMMA_OFFSET),n.vega=m["default"].dec8double(e,t+d.VEGA_OFFSET),n.rho=m["default"].dec8double(e,t+d.RHO_OFFSET),n.theta=m["default"].dec8double(e,t+d.THETA_OFFSET),n.midIV=m["default"].dec8double(e,t+d.IMPLIED_VOLATILITY_OFFSET),n.midIVChange=m["default"].dec8double(e,t+d.IMPLIED_VOLATILITY_CHANGE_OFFSET),n.bidIV=m["default"].dec8double(e,t+d.BID_IMPLIED_VOLATILITY_OFFSET),n.askIV=m["default"].dec8double(e,t+d.ASK_IMPLIED_VOLATILITY_OFFSET),n.mark=m["default"].dec8double(e,t+d.MARK_OFFSET),n.intrinsicValue=m["default"].dec8double(e,t+d.INTRINSIC_VALUE_OFFSET),n.extrinsicValue=m["default"].dec8double(e,t+d.EXTRINSIC_VALUE_OFFSET),n.previousMark=m["default"].dec8double(e,t+d.PREVIOUS_MARK_OFFSET),n.markChange=m["default"].dec8double(e,t+d.MARK_CHANGE_OFFSET),n.markChangePercent=m["default"].dec8double(e,t+d.MARK_CHANGE_PERCENT_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/IVGreeksDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/IVGreeksDef":86,_process:131,buffer:121,timers:152}],64:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/ImbalanceStatusDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.ImbalanceStatus;return n.locateCode=m["default"].locatecode(e,t+d.LOCATECODE_OFFSET),n.imbalanceType=m["default"].imbalancetype(e,t+d.IMBALANCE_TYPE_OFFSET),n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.referencePrice=m["default"].dec8double(e,t+d.REFERENCEPRICE_OFFSET),n.size=m["default"].int64(e,t+d.SIZE_OFFSET),n.side=m["default"].orderside(e,t+d.ORDERSIDE_OFFSET),n.pairedVolume=m["default"].int32(e,t+d.PAIREDVOLUME_OFFSET),n.nearIndicativePrice=m["default"].dec8double(e,t+d.NEARINDICATIVEPRICE_OFFSET),n.farIndicativePrice=m["default"].dec8double(e,t+d.FARINDICATIVEPRICE_OFFSET),n.priceVariation=m["default"].dec8double(e,t+d.PRICEVARIATION_OFFSET),n.symbol=m["default"].symbol(e,t+d.SYMBOL_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/ImbalanceStatusDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/ImbalanceStatusDef":87,_process:131,buffer:121,timers:152}],65:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/IntervalDef")),d=_("../../../streamer-api"),p=m(_("../../Qitch")),h=(m(_("jsbi")),m(_("bignumber.js")));function m(e){return e&&e.__esModule?e:{"default":e}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return f.TYPEID},e.prototype.decode=function(e,t){var n=new d.messages.market.Interval;return n.timestamp=p["default"].timestamp(e,t+f.TIMESTAMP_OFFSET),n.locateCode=p["default"].locatecode(e,t+f.SYMBOL_OFFSET),n.open=p["default"].dec8double(e,t+f.OPEN_OFFSET),n.low=p["default"].dec8double(e,t+f.LOW_OFFSET),n.high=p["default"].dec8double(e,t+f.HIGH_OFFSET),n.last=p["default"].dec8double(e,t+f.LAST_OFFSET),n.volume=p["default"].dec8double(e,t+f.LONGDECIMALVOLUME_OFFSET),n.startTime=p["default"].timestamp(e,t+f.STARTTIME_OFFSET),n.openTime=p["default"].timestamp(e,t+f.OPENTIME_OFFSET),n.lastTime=p["default"].timestamp(e,t+f.LASTTIME_OFFSET),n.tradeValue=p["default"].int64(e,t+f.TRADEVALUE_OFFSET),n.vwap=this._vwap(n),n.periodMs=p["default"].int32(e,t+f.PERIODMS_OFFSET),n},e.prototype._vwap=function(e){return null!=e.tradeValue&&null!=e.volume&&0!==e.volume.toNumber()?new h["default"](e.tradeValue.toString()).dividedBy(e.volume):null},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/IntervalDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/IntervalDef":88,_process:131,"bignumber.js":118,buffer:121,jsbi:128,timers:152}],66:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/LastSaleDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.LastSale;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.last=m["default"].dec8double(e,t+d.LAST_OFFSET),n.previousClose=m["default"].dec8double(e,t+d.PREVCLOSE_OFFSET),n.accumulatedVolume=m["default"].int64(e,t+d.ACCUMULATEDVOLUME_OFFSET),n.tick=m["default"].tick(e,t+d.TICK_OFFSET),n.change=this._change(n),n.percentChange=this._percentChange(n),n.lastTradeExcode=m["default"].excode(e,t+d.LASTTRADE_EXCODE_OFFSET),n},e.prototype._change=function(e){return null!=e.last&&null!=e.previousClose?e.last.minus(e.previousClose):null},e.prototype._percentChange=function(e){return null==e.last||null==e.previousClose||e.previousClose.isEqualTo(0)?null:(e.last-e.previousClose)/e.previousClose*100},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/LastSaleDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/LastSaleDef":89,_process:131,buffer:121,timers:152}],67:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/LimitUpLimitDownDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.LimitUpLimitDown;n.locateCode=m["default"].int32(e,t+d.LOCATECODE_OFFSET),n.lowerLimit=m["default"].dec8double(e,t+d.LOWERLIMIT_OFFSET),n.effectiveTime=m["default"].timestamp(e,t+d.EFFECTIVETIME_OFFSET),n.upperLimit=m["default"].dec8double(e,t+d.UPPERLIMIT_OFFSET);var r=m["default"].sbyte(e,t+d.PRICEBANDINDICATOR_OFFSET);return n.bidNotExecutable=d.LimitUpLimitDownFlags.isBidNotExecutable(r),n.askNotExecutable=d.LimitUpLimitDownFlags.isAskNotExecutable(r),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/LimitUpLimitDownDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/LimitUpLimitDownDef":90,_process:131,buffer:121,timers:152}],68:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/MMQuoteDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.MMQuote;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.bidPrice=m["default"].dec8double(e,t+d.BIDPRICE_OFFSET),n.bidSize=m["default"].dec8double(e,t+d.DECIMALBIDSIZE_OFFSET),n.askPrice=m["default"].dec8double(e,t+d.ASKPRICE_OFFSET),n.askSize=m["default"].dec8double(e,t+d.DECIMALASKSIZE_OFFSET),n.marketMakerID=m["default"].mmid(e,t+d.MMID_OFFSET),n.indicator=m["default"].asciichar(e,t+d.INDICATOR_OFFSET),n.bidChange=m["default"].dec8double(e,t+d.BIDCHANGE_OFFSET),n.askChange=m["default"].dec8double(e,t+d.ASKCHANGE_OFFSET),n.sharesPerSizeUnit=m["default"].int32(e,t+d.SHARESPERSIZEUNIT_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/MMQuoteDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/MMQuoteDef":91,_process:131,buffer:121,timers:152}],69:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/NethousePositionDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.NethousePosition;return n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.marketMakerID=m["default"].mmid(e,t+d.MMID_OFFSET),n.buyValue=m["default"].dec8double(e,t+d.BUYVALUE_OFFSET),n.buyVolume=m["default"].int64(e,t+d.BUYVOLUME_OFFSET),n.sellValue=m["default"].dec8double(e,t+d.SELLVALUE_OFFSET),n.sellVolume=m["default"].int64(e,t+d.SELLVOLUME_OFFSET),n.buyBlockValue=m["default"].dec8double(e,t+d.BUYBLOCKVALUE_OFFSET),n.buyBlockVolume=m["default"].int64(e,t+d.BUYBLOCKVOLUME_OFFSET),n.sellBlockValue=m["default"].dec8double(e,t+d.SELLBLOCKVALUE_OFFSET),n.sellBlockVolume=m["default"].int64(e,t+d.SELLBLOCKVOLUME_OFFSET),n.buyTransactions=m["default"].int32(e,t+d.BUYTRANSACTIONS_OFFSET),n.sellTransactions=m["default"].int32(e,t+d.SELLTRANSACTIONS_OFFSET),n.buyBlockTransactions=m["default"].int32(e,t+d.BUYBLOCKTRANSACTIONS_OFFSET),n.sellBlockTransactions=m["default"].int32(e,t+d.SELLBLOCKTRANSACTIONS_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/NethousePositionDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/NethousePositionDef":92,_process:131,buffer:121,timers:152}],70:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/PricedataDef")),p=_("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f},m=_("../../../streamer-api.js");var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new m.messages.market.PriceData;n.timestamp=h["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.locateCode=h["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.last=h["default"].dec8double(e,t+d.LAST_OFFSET),n.previousClose=h["default"].dec8double(e,t+d.PREVCLOSE_OFFSET),n.open=h["default"].dec8double(e,t+d.OPEN_OFFSET),n.high=h["default"].dec8double(e,t+d.HIGH_OFFSET),n.low=h["default"].dec8double(e,t+d.LOW_OFFSET),n.accumulatedVolume=h["default"].dec8double(e,t+d.DECIMALACCUMULATEDVOLUME_OFFSET),n.lastTradeTime=h["default"].timestamp(e,t+d.LASTTRADETIME_OFFSET),n.tick=h["default"].tick(e,t+d.TICK_OFFSET),n.lastTradeSize=h["default"].dec8double(e,t+d.DECIMALLASTTRADESIZE_OFFSET),n.close=h["default"].dec8double(e,t+d.CLOSE_OFFSET),n.tradeCount=h["default"].int64(e,t+d.TRADECOUNT_OFFSET),n.accumulatedPrice=null,n.accumulatedTradeValue=h["default"].dec8double(e,t+d.ACCUMULATEDTRADEVALUE_OFFSET),n.change=this._change(n),n.percentChange=this._percentChange(n);var r=h["default"].sbyte(e,t+d.FLAGS_OFFSET);return n.annualHigh=d.PricedataFlags.isAnnualHigh(r),n.annualLow=d.PricedataFlags.isAnnualLow(r),n.vwap=h["default"].dec8double(e,t+d.VWAP_OFFSET),n.twap=h["default"].dec8double(e,t+d.TWAP_OFFSET),n.preMarketTradeTime=h["default"].timestamp(e,t+d.PREMARKETTRADETIME_OFFSET),n.preMarketLast=h["default"].dec8double(e,t+d.PREMARKETLASTPRICE_OFFSET),n.preMarketVolume=h["default"].dec8double(e,t+d.DECIMALPREMARKETVOLUME_OFFSET),n.preMarketChange=h["default"].dec8double(e,t+d.PREMARKETCHANGE_OFFSET),n.preMarketPercentChange=this._premarketPercentChange(n),n.postMarketTradeTime=h["default"].timestamp(e,t+d.POSTMARKETTRADETIME_OFFSET),n.postMarketLast=h["default"].dec8double(e,t+d.POSTMARKETLASTPRICE_OFFSET),n.postMarketVolume=h["default"].dec8double(e,t+d.DECIMALPOSTMARKETVOLUME_OFFSET),n.postMarketChange=h["default"].dec8double(e,t+d.POSTMARKETCHANGE_OFFSET),n.postMarketPercentChange=this._postmarketPercentChange(n),n.lastTradeExcode=h["default"].excode(e,t+d.LASTTRADEEXCODE_OFFSET),n.currencyID=h["default"].currencyid(e,t+d.CURRENCYID_OFFSET),n},e.prototype._change=function(e){return null!=e.last&&null!=e.previousClose?e.last.minus(e.previousClose):null},e.prototype._percentChange=function(e){return null==e.last||null==e.previousClose||e.previousClose.isEqualTo(0)?null:e.last.minus(e.previousClose).dividedBy(e.previousClose).multipliedBy(100)},e.prototype._premarketPercentChange=function(e){if(null!=e.preMarketChange){if(null!=e.close&&!e.close.isEqualTo(0))return e.preMarketChange.minus(e.close).dividedBy(e.close).multipliedBy(100);if(null!=e.previousClose&&!e.previousClose.isEqualTo(0))return e.preMarketChange.minus(e.previousClose).dividedBy(e.previousClose).multipliedBy(100)}return null},e.prototype._postmarketPercentChange=function(e){return null==e.postMarketLast||null==e.last||e.last.isEqualTo(0)?null:e.postMarketLast.minus(e.last).dividedBy(e.last).multipliedBy(100)},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/PricedataDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api.js":108,"../../Qitch":25,"../../marketDataDefinition/PricedataDef":93,_process:131,buffer:121,timers:152}],71:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/PurgeBookDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.PurgeBook;return n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/PurgeBookDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/PurgeBookDef":94,_process:131,buffer:121,timers:152}],72:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/QuoteDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.Quote;return n.locateCode=m["default"].locatecode(e,t+d.SYMBOL_OFFSET),n.timestamp=m["default"].timestamp(e,t+d.TIMESTAMP_OFFSET),n.askCondition=m["default"].asciichar(e,t+d.ASKCONDITION_OFFSET),n.askExcode=m["default"].excode(e,t+d.ASKEXCODE_OFFSET),n.askPrice=m["default"].dec8double(e,t+d.ASKPRICE_OFFSET),n.askSize=m["default"].dec8double(e,t+d.DECIMALASKSIZE_OFFSET),n.bidCondition=m["default"].asciichar(e,t+d.BIDCONDITION_OFFSET),n.bidExcode=m["default"].excode(e,t+d.BIDEXCODE_OFFSET),n.bidPrice=m["default"].dec8double(e,t+d.BIDPRICE_OFFSET),n.bidSize=m["default"].dec8double(e,t+d.DECIMALBIDSIZE_OFFSET),n.indicator=m["default"].asciichar(e,t+d.INDICATOR_OFFSET),n.sharesPerSizeUnit=m["default"].int32(e,t+d.SHARESPERSIZEUNIT_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/QuoteDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/QuoteDef":95,_process:131,buffer:121,timers:152}],73:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/SymbolInfoDef")),p=_("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f},m=_("../../../streamer-api.js");var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new m.messages.market.SymbolInfo;return n.symbol=h["default"].symbol(e,t+d.SYMBOL_OFFSET),n.locateCode=h["default"].locatecode(e,t+d.LOCATECODE_OFFSET),n.excode=h["default"].excode(e,t+d.EXCODE_OFFSET),n.instrumentType=h["default"].instrumenttype(e,t+d.INSTRUMENTTYPE_OFFSET),n.currencyId=h["default"].currencyid(e,t+d.CURRENCYID_OFFSET),n.haltStatus=h["default"].sbyte(e,t+d.HALTSTATUS_OFFSET),n.haltIndicator=h["default"].sbyte(e,t+d.HALTINDICATOR_OFFSET),n.regSHOStatus=h["default"].asciichar(e,t+d.REGSHOSTATUS_OFFSET),n.pqe=0<h["default"].sbyte(e,t+d.PQE_OFFSET),n.caveatEmptor=0<h["default"].sbyte(e,t+d.CAVEATEMPTOR_OFFSET),n.boardLotSize=h["default"].int32(e,t+d.BOARDLOTSIZE_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/SymbolInfoDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api.js":108,"../../Qitch":25,"../../marketDataDefinition/SymbolInfoDef":96,_process:131,buffer:121,timers:152}],74:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/SymbolStatusDef")),p=_("../../../streamer-api"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.decode=function(e,t){var n=new p.messages.market.SymbolStatus;return n.locateCode=m["default"].locatecode(e,t+d.LOCATE_CODE_OFFSET),n.haltStatus=m["default"].sbyte(e,t+d.HALTSTATUS_OFFSET),n.haltIndicator=m["default"].sbyte(e,t+d.HALTINDICATOR_OFFSET),n.regSHOStatus=m["default"].asciichar(e,t+d.REGSHOSTATUS_OFFSET),n.closingCalculatedPrice=m["default"].dec8double(e,t+d.CLOSINGPRICE_OFFSET),n.effectiveTime=m["default"].timestamp(e,t+d.EFFECTIVETIME_OFFSET),n.openingTime=m["default"].timestamp(e,t+d.OPENINGTIME_OFFSET),n.note=m["default"].note(e,t+d.NOTE_OFFSET),n.symbol=m["default"].symbol(e,t+d.SYMBOL_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/SymbolStatusDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api":108,"../../Qitch":25,"../../marketDataDefinition/SymbolStatusDef":97,_process:131,buffer:121,timers:152}],75:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=_("../../Qitch"),p=(f=d)&&f.__esModule?f:{"default":f},h=_("../../../streamer-api.js"),m=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../marketDataDefinition/TradeDef"));var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return m.TYPEID},e.prototype.decode=function(e,t){var n=new h.messages.market.Trade;return n.timestamp=p["default"].timestamp(e,t+m.TIMESTAMP_OFFSET),n.locateCode=p["default"].locatecode(e,t+m.SYMBOL_OFFSET),n.price=p["default"].dec8double(e,t+m.PRICE_OFFSET),n.size=p["default"].dec8double(e,t+m.DECIMALSIZE_OFFSET),n.indicator=p["default"].asciichar(e,t+m.INDICATOR_OFFSET),n.tick=p["default"].tick(e,t+m.TICK_OFFSET),n.accumulatedVolume=p["default"].int64(e,t+m.ACCUMULATEDVOLUME_OFFSET),n.sequenceNumber=p["default"].int32(e,t+m.SEQUENCENUMBER_OFFSET),n.flags=p["default"].int32(e,t+m.FLAGS_OFFSET),n.buyerID=p["default"].mmid(e,t+m.BUYERMMID_OFFSET),n.sellerID=p["default"].mmid(e,t+m.SELLERMMID_OFFSET),n.rangeIndicator=p["default"].rangeindicator(e,t+m.RANGEINDICATOR_OFFSET),n.matchID=p["default"].int64(e,t+m.MATCHID_OFFSET),n.vwap=p["default"].dec8double(e,t+m.VWAP_OFFSET),n.excode=p["default"].excode(e,t+m.EXCODE_OFFSET),n},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/decoder/dataDecoder/TradeDecoder.js","/lib/qitch/decoder/dataDecoder")},{"../../../streamer-api.js":108,"../../Qitch":25,"../../marketDataDefinition/TradeDef":98,_process:131,buffer:121,timers:152}],76:[function(I,e,N){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";N.__esModule=!0;var f=I("../../streamer-api"),d=S(I("../../SMessage")),p=I("../QitchConstants"),h=S(I("../BlockHeader")),m=I("../../streamer-utils"),E=S(I("../MessageHeader")),_=S(I("./controlMessageEncoder/StatsMessageEncoder")),g=S(I("./controlMessageEncoder/SubscribeMessageEncoder")),T=S(I("./controlMessageEncoder/FlowMessageEncoder")),b=S(I("./controlMessageEncoder/ExchangeSubscribeMessageEncoder")),y=S(I("./controlMessageEncoder/SubUnsubAlertMessageEncoder"));function S(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var O=function(){function e(){v(this,e),this.encoder=new w}return e.prototype.encode=function(e,t){if(null==e)throw"Argument cannot be null.";if(!e instanceof d["default"])throw"Wrong message type";var n=this.encoder.length(e.payload),r=p.BLOCK_HEADER_LENGTH+n,i=new ArrayBuffer(t+r),o=new Int8Array(i);return h["default"].lengthToBytes(o,t,n),h["default"].messageCountToBytes(o,t,1),h["default"].reservedToBytes(o,t,0),h["default"].sequenceToBytes(o,t,e.sequencenumber),this.encoder.encode(o,t+p.BLOCK_HEADER_LENGTH,e.payload)},e}(),w=function(){function e(){v(this,e),this[f.messages.MessageTypeNames.ctrl.STATS]=new _["default"],this[f.messages.MessageTypeNames.ctrl.FLOW]=new T["default"],this[f.messages.MessageTypeNames.ctrl.SUBSCRIBE]=new g["default"],this[f.messages.MessageTypeNames.ctrl.EXCHANGE_SUBSCRIBE]=new b["default"],this[f.messages.MessageTypeNames.ctrl.ALERTS_SUBUNSUB]=new y["default"]}return e.prototype.length=function(e){var t=this[(0,m.messagetype)(e)];return null!==t?t.length(e)+p.MESSAGE_HEADER_LENGTH:0},e.prototype.encode=function(e,t,n){var r=this[(0,m.messagetype)(n)];return null!==r?(E["default"].lengthGetBytes(e,t,r.length(n)),E["default"].typeGetBytes(e,t,r.type()),r.encode(e,t+p.MESSAGE_HEADER_LENGTH,n)):e},e}();N["default"]=O}).call(this,I("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},I("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],I("timers").setImmediate,I("timers").clearImmediate,"/lib/qitch/encoder/QitchEncoder.js","/lib/qitch/encoder")},{"../../SMessage":5,"../../streamer-api":108,"../../streamer-utils":110,"../BlockHeader":19,"../MessageHeader":24,"../QitchConstants":26,"./controlMessageEncoder/ExchangeSubscribeMessageEncoder":77,"./controlMessageEncoder/FlowMessageEncoder":78,"./controlMessageEncoder/StatsMessageEncoder":79,"./controlMessageEncoder/SubUnsubAlertMessageEncoder":80,"./controlMessageEncoder/SubscribeMessageEncoder":81,_process:131,buffer:121,timers:152}],77:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(E("../../controlMessageDefinition/ExchangeSubscribeMessageDef")),p=E("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f};var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.length=function(e){return d.FIXED_LENGTH},e.prototype.encode=function(e,t,n){return h["default"].putInt32(e,t+d.REQUEST_ID_OFFSET,n.id),h["default"].putAction(e,t+d.ACTION_OFFSET,n.action),h["default"].putMimetype(e,t+d.MIMETYPE_OFFSET,n.mimetype),h["default"].putConflation(e,t+d.CONFLATION_OFFSET,n.conflation),h["default"].putExcode(e,t+d.EXCODE_OFFSET,n.exchange),e},e}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/encoder/controlMessageEncoder/ExchangeSubscribeMessageEncoder.js","/lib/qitch/encoder/controlMessageEncoder")},{"../../Qitch":25,"../../controlMessageDefinition/ExchangeSubscribeMessageDef":29,_process:131,buffer:121,timers:152}],78:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(E("../../controlMessageDefinition/FlowMessageDef")),p=E("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f};var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.length=function(e){return d.LENGTH},e.prototype.encode=function(e,t,n){return h["default"].putInt32(e,t+d.SEQUENCE_NUMBER_OFFSET,n.sequence),e},e}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/encoder/controlMessageEncoder/FlowMessageEncoder.js","/lib/qitch/encoder/controlMessageEncoder")},{"../../Qitch":25,"../../controlMessageDefinition/FlowMessageDef":32,_process:131,buffer:121,timers:152}],79:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(E("../../controlMessageDefinition/StatsMessageDef")),p=E("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f};var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.length=function(e){return d.LENGTH},e.prototype.encode=function(e,t,n){return h["default"].putInt32(e,t+d.REQUEST_ID_OFFSET,n.sequenceNumber),e},e}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/encoder/controlMessageEncoder/StatsMessageEncoder.js","/lib/qitch/encoder/controlMessageEncoder")},{"../../Qitch":25,"../../controlMessageDefinition/StatsMessageDef":37,_process:131,buffer:121,timers:152}],80:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(E("../../controlMessageDefinition/SubUnsubAlertMessageDef")),p=E("../../Qitch"),h=(f=p)&&f.__esModule?f:{"default":f};var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.length=function(e){return d.FIXED_LENGTH},e.prototype.encode=function(e,t,n){return h["default"].putInt32(e,t+d.REQUEST_ID_OFFSET,n.id),h["default"].putAsciiString(e,t+d.OPERATION_OFFSET,n.operation,d.FIXED_OPERATION_LENGTH),h["default"].putMimetype(e,t+d.MIMETYPE_OFFSET,n.mimetype),e},e}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/qitch/encoder/controlMessageEncoder/SubUnsubAlertMessageEncoder.js","/lib/qitch/encoder/controlMessageEncoder")},{"../../Qitch":25,"../../controlMessageDefinition/SubUnsubAlertMessageDef":39,_process:131,buffer:121,timers:152}],81:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f,d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../../controlMessageDefinition/SubscribeMessageDef")),p=_("../../QitchConstants"),h=_("../../Qitch"),m=(f=h)&&f.__esModule?f:{"default":f};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.type=function(){return d.TYPEID},e.prototype.length=function(e){var t=p.SYMBOL_LENGTH*e.symbols.length,n=p.MARKETDATATYPE_LENGTH*e.types.length;return d.FIXED_LENGTH+t+n},e.prototype.encode=function(e,t,n){var r=p.SYMBOL_LENGTH*n.symbols.length;return m["default"].putInt32(e,t+d.REQUEST_ID_OFFSET,n.id),m["default"].putAction(e,t+d.ACTION_OFFSET,n.action),m["default"].putMimetype(e,t+d.MIMETYPE_OFFSET,n.mimetype),m["default"].putBool(e,t+d.SKIP_HEAVY_INITIAL_LOAD_OFFSET,n.skipHeavyInitialLoad),m["default"].putConflation(e,t+d.CONFLATION_OFFSET,n.conflation),m["default"].putInt32(e,t+d.NUMBER_OF_SYMBOLS_OFFSET,n.symbols.length),m["default"].putByte(e,t+d.NUMBER_OF_TYPES_OFFSET,n.types.length),this._encodeSymbols(n,t+d.FIXED_LENGTH,e),this._encodeMarketdataTypes(n,t+d.FIXED_LENGTH+r,e),e},e.prototype._encodeSymbols=function(e,t,n){for(var r=0;r<e.symbols.length;r++)m["default"].putSymbol(n,t+r*p.SYMBOL_LENGTH,e.symbols[r])},e.prototype._encodeMarketdataTypes=function(e,t,n){for(var r=0;r<e.types.length;r++)m["default"].putMarketdatatype(n,t+r*p.MARKETDATATYPE_LENGTH,e.types[r])},e}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/encoder/controlMessageEncoder/SubscribeMessageEncoder.js","/lib/qitch/encoder/controlMessageEncoder")},{"../../Qitch":25,"../../QitchConstants":26,"../../controlMessageDefinition/SubscribeMessageDef":41,_process:131,buffer:121,timers:152}],82:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0,g.LENGTH=g.TRIGGER_VALUE_OFFSET=g.ALERT_ID_OFFSET=g.INSTRUMENTTYPE_OFFSET=g.TIMESTAMP_OFFSET=g.SYMBOL_OFFSET=g.TYPEID=undefined;var f=_("../QitchConstants"),d=(g.TYPEID=17,g.SYMBOL_OFFSET=0),p=g.TIMESTAMP_OFFSET=d+f.SYMBOL_LENGTH,h=g.INSTRUMENTTYPE_OFFSET=p+f.TIMESTAMP_LENGTH,m=g.ALERT_ID_OFFSET=h+f.INSTRUMENTTYPE_LENGTH,E=g.TRIGGER_VALUE_OFFSET=m+f.LONG_LENGTH;g.LENGTH=E+f.DOUBLE_LENGTH}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/qitch/marketDataDefinition/AlertDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],83:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0,E.LENGTH=E.ORDER_REFERENCE_OFFSET=E.SYMBOL_OFFSET=E.TIMESTAMP_OFFSET=E.TYPEID=undefined;var f=m("../QitchConstants"),d=(E.TYPEID=5,E.TIMESTAMP_OFFSET=0),p=E.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=E.ORDER_REFERENCE_OFFSET=p+f.LOCATECODE_LENGTH;E.LENGTH=h+f.ORDER_REFERENCE_LENGTH}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/qitch/marketDataDefinition/BookDeleteDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],84:[function(w,e,I){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";I.__esModule=!0,I.BookOrderFlags=I.LENGTH=I.EXCODE_OFFSET=I.ORDER_REFERENCE_OFFSET=I.CHANGE_TYPE_OFFSET=I.FLAGS_OFFSET=I.LASTUPDATE_OFFSET=I.SIZE_OFFSET=I.PRICE_OFFSET=I.SIDE_OFFSET=I.ORDERID_OFFSET=I.MMID_OFFSET=I.SYMBOL_OFFSET=I.TIMESTAMP_OFFSET=I.TYPEID=undefined;var f=w("../QitchConstants");I.TYPEID=4;var d=I.TIMESTAMP_OFFSET=0,p=I.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=I.MMID_OFFSET=p+f.LOCATECODE_LENGTH,m=I.ORDERID_OFFSET=h+f.MMID_LENGTH,E=I.SIDE_OFFSET=m+f.ORDERID_LENGTH,_=I.PRICE_OFFSET=E+f.ORDERSIDE_LENGTH,g=I.SIZE_OFFSET=_+f.DOUBLE_LENGTH,T=I.LASTUPDATE_OFFSET=g+f.INT_LENGTH,b=I.FLAGS_OFFSET=T+f.TIMESTAMP_LENGTH,y=I.CHANGE_TYPE_OFFSET=b+f.INT_LENGTH,S=I.ORDER_REFERENCE_OFFSET=y+f.ASCIICHAR_LENGTH,v=I.EXCODE_OFFSET=S+f.ORDER_REFERENCE_LENGTH,O=(I.LENGTH=v+f.EXCODE_LENGTH,I.BookOrderFlags=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isLotsOf=function(e){return 0<(e&t.prototype.LOTSOF_MASK)},t.isAllOrNone=function(e){return 0<(e&t.prototype.ALLORNONE_MASK)},t.isMinimumFillVolume=function(e){return 0<(e&t.prototype.MINIMUMFILLVOLUME_MASK)},t.isNonResident=function(e){return 0<(e&t.prototype.NONRESIDENT_MASK)},t.isCashSettlement=function(e){return 0<(e&t.prototype.CASHSETTLEMENT_MASK)},t.isCashTodaySettlement=function(e){return 0<(e&t.prototype.CASHTODAYSETTLEMENT_MASK)},t.isDelayedDateSettlement=function(e){return 0<(e&t.prototype.DELAYEDDATESETTLEMENT_MASK)},t.isDerivativeRelatedSettlement=function(e){return 0<(e&t.prototype.DERIVATIVERELATEDSETTLEMENT_MASK)},t.isNonNetSettlement=function(e){return 0<(e&t.prototype.NONNETSETTLEMENT_MASK)},t.isMarketOrder=function(e){return 0<(e&t.prototype.MARKETORDER_MASK)},t.isFirmQuote=function(e){return 0<(e&t.prototype.FIRMQUOTE_MASK)},t.isDisplay=function(e){return 0<(e&t.prototype.DISPLAY_MASK)},t.isMarketPrice=function(e){return 0<(e&t.prototype.PRICE_MARKET_MASK)},t.isOpeningPrice=function(e){return 0<(e&t.prototype.PRICE_OPENING_MASK)},t.isPriceMustBeFilled=function(e){return 0<(e&t.prototype.PRICE_MUSTBEFILLED_MASK)},t.isFutureSettlement=function(e){return 0<(e&t.prototype.FUTURESETTLEMENT_MASK)},t.isNextDaySettlement=function(e){return 0<(e&t.prototype.NEXTDAYSETTLEMENT_MASK)},t}());O.prototype.LOTSOF_MASK=1,O.prototype.ALLORNONE_MASK=2,O.prototype.MINIMUMFILLVOLUME_MASK=4,O.prototype.NONRESIDENT_MASK=8,O.prototype.CASHSETTLEMENT_MASK=16,O.prototype.CASHTODAYSETTLEMENT_MASK=32,O.prototype.DELAYEDDATESETTLEMENT_MASK=64,O.prototype.DERIVATIVERELATEDSETTLEMENT_MASK=128,O.prototype.NONNETSETTLEMENT_MASK=256,O.prototype.MARKETORDER_MASK=512,O.prototype.FIRMQUOTE_MASK=1024,O.prototype.DISPLAY_MASK=16777216,O.prototype.PRICE_MARKET_MASK=268435456,O.prototype.PRICE_OPENING_MASK=536870912,O.prototype.PRICE_MUSTBEFILLED_MASK=1073741824,O.prototype.FUTURESETTLEMENT_MASK=2048,O.prototype.NEXTDAYSETTLEMENT_MASK=4096}).call(this,w("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},w("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],w("timers").setImmediate,w("timers").clearImmediate,"/lib/qitch/marketDataDefinition/BookOrderDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],85:[function(b,e,y){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";y.__esModule=!0,y.LENGTH=y.MINTICKSIZE_OFFSET=y.CALLPUTINDICATOR_OFFSET=y.CONTRACTSIZE_OFFSET=y.OPENINTEREST_OFFSET=y.DELIVERY_OFFSET=y.EXPIRATION_OFFSET=y.ROOTSYMBOL_OFFSET=y.SYMBOL_OFFSET=y.TYPEID=undefined;var f=b("../QitchConstants"),d=(y.TYPEID=12,y.SYMBOL_OFFSET=0),p=y.ROOTSYMBOL_OFFSET=d+f.LOCATECODE_LENGTH,h=y.EXPIRATION_OFFSET=p+f.SYMBOL_LENGTH,m=y.DELIVERY_OFFSET=h+f.TIMESTAMP_LENGTH,E=y.OPENINTEREST_OFFSET=m+f.TIMESTAMP_LENGTH,_=y.CONTRACTSIZE_OFFSET=E+f.LONG_LENGTH,g=y.CALLPUTINDICATOR_OFFSET=_+f.INT_LENGTH,T=y.MINTICKSIZE_OFFSET=g+f.ASCIICHAR_LENGTH;y.LENGTH=T+f.DOUBLE_LENGTH}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},b("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],b("timers").setImmediate,b("timers").clearImmediate,"/lib/qitch/marketDataDefinition/DerivativeInfoDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],86:[function(F,e,C){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";C.__esModule=!0,C.LENGTH=C.MARK_CHANGE_PERCENT_OFFSET=C.MARK_CHANGE_OFFSET=C.PREVIOUS_MARK_OFFSET=C.EXTRINSIC_VALUE_OFFSET=C.INTRINSIC_VALUE_OFFSET=C.MARK_OFFSET=C.LAST_CALCULATION_OFFSET=C.ASK_IMPLIED_VOLATILITY_OFFSET=C.BID_IMPLIED_VOLATILITY_OFFSET=C.IMPLIED_VOLATILITY_CHANGE_OFFSET=C.IMPLIED_VOLATILITY_OFFSET=C.THETA_OFFSET=C.RHO_OFFSET=C.VEGA_OFFSET=C.GAMMA_OFFSET=C.DELTA_OFFSET=C.LOCATECODE_OFFSET=C.TYPEID=undefined;var f=F("../QitchConstants"),d=(C.TYPEID=15,C.LOCATECODE_OFFSET=0),p=C.DELTA_OFFSET=d+f.INT_LENGTH,h=C.GAMMA_OFFSET=p+f.DOUBLE_LENGTH,m=C.VEGA_OFFSET=h+f.DOUBLE_LENGTH,E=C.RHO_OFFSET=m+f.DOUBLE_LENGTH,_=C.THETA_OFFSET=E+f.DOUBLE_LENGTH,g=C.IMPLIED_VOLATILITY_OFFSET=_+f.DOUBLE_LENGTH,T=C.IMPLIED_VOLATILITY_CHANGE_OFFSET=g+f.DOUBLE_LENGTH,b=C.BID_IMPLIED_VOLATILITY_OFFSET=T+f.DOUBLE_LENGTH,y=C.ASK_IMPLIED_VOLATILITY_OFFSET=b+f.DOUBLE_LENGTH,S=C.LAST_CALCULATION_OFFSET=y+f.DOUBLE_LENGTH,v=C.MARK_OFFSET=S+f.TIMESTAMP_LENGTH,O=C.INTRINSIC_VALUE_OFFSET=v+f.DOUBLE_LENGTH,w=C.EXTRINSIC_VALUE_OFFSET=O+f.DOUBLE_LENGTH,I=C.PREVIOUS_MARK_OFFSET=w+f.DOUBLE_LENGTH,N=C.MARK_CHANGE_OFFSET=I+f.DOUBLE_LENGTH,A=C.MARK_CHANGE_PERCENT_OFFSET=N+f.DOUBLE_LENGTH;C.LENGTH=A+f.DOUBLE_LENGTH}).call(this,F("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},F("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],F("timers").setImmediate,F("timers").clearImmediate,"/lib/qitch/marketDataDefinition/IVGreeksDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],87:[function(v,e,O){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";O.__esModule=!0,O.LENGTH=O.SYMBOL_OFFSET=O.PRICEVARIATION_OFFSET=O.FARINDICATIVEPRICE_OFFSET=O.NEARINDICATIVEPRICE_OFFSET=O.PAIREDVOLUME_OFFSET=O.ORDERSIDE_OFFSET=O.SIZE_OFFSET=O.REFERENCEPRICE_OFFSET=O.TIMESTAMP_OFFSET=O.IMBALANCE_TYPE_OFFSET=O.LOCATECODE_OFFSET=O.TYPEID=undefined;var f=v("../QitchConstants"),d=(O.TYPEID=16,O.LOCATECODE_OFFSET=0),p=O.IMBALANCE_TYPE_OFFSET=d+f.LOCATECODE_LENGTH,h=O.TIMESTAMP_OFFSET=p+f.IMBALANCETYPE_LENGTH,m=O.REFERENCEPRICE_OFFSET=h+f.TIMESTAMP_LENGTH,E=O.SIZE_OFFSET=m+f.DOUBLE_LENGTH,_=O.ORDERSIDE_OFFSET=E+f.LONG_LENGTH,g=O.PAIREDVOLUME_OFFSET=_+f.ORDERSIDE_LENGTH,T=O.NEARINDICATIVEPRICE_OFFSET=g+f.INT_LENGTH,b=O.FARINDICATIVEPRICE_OFFSET=T+f.DOUBLE_LENGTH,y=O.PRICEVARIATION_OFFSET=b+f.DOUBLE_LENGTH,S=O.SYMBOL_OFFSET=y+f.DOUBLE_LENGTH;O.LENGTH=S+f.SYMBOL_LENGTH}).call(this,v("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],v("timers").setImmediate,v("timers").clearImmediate,"/lib/qitch/marketDataDefinition/ImbalanceStatusDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],88:[function(w,e,I){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";I.__esModule=!0,I.LENGTH=I.PERIODMS_OFFSET=I.LONGDECIMALVOLUME_OFFSET=I.TRADEVALUE_OFFSET=I.LASTTIME_OFFSET=I.OPENTIME_OFFSET=I.STARTTIME_OFFSET=I.VOLUME_OFFSET=I.LAST_OFFSET=I.HIGH_OFFSET=I.LOW_OFFSET=I.OPEN_OFFSET=I.SYMBOL_OFFSET=I.TIMESTAMP_OFFSET=I.TYPEID=undefined;var f=w("../QitchConstants"),d=(I.TYPEID=8,I.TIMESTAMP_OFFSET=0),p=I.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=I.OPEN_OFFSET=p+f.LOCATECODE_LENGTH,m=I.LOW_OFFSET=h+f.DOUBLE_LENGTH,E=I.HIGH_OFFSET=m+f.DOUBLE_LENGTH,_=I.LAST_OFFSET=E+f.DOUBLE_LENGTH,g=I.VOLUME_OFFSET=_+f.DOUBLE_LENGTH,T=I.STARTTIME_OFFSET=g+f.LONG_LENGTH,b=I.OPENTIME_OFFSET=T+f.TIMESTAMP_LENGTH,y=I.LASTTIME_OFFSET=b+f.TIMESTAMP_LENGTH,S=I.TRADEVALUE_OFFSET=y+f.TIMESTAMP_LENGTH,v=I.LONGDECIMALVOLUME_OFFSET=S+f.LONG_LENGTH,O=I.PERIODMS_OFFSET=v+f.DOUBLE_LENGTH;I.LENGTH=O+f.INT_LENGTH}).call(this,w("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},w("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],w("timers").setImmediate,w("timers").clearImmediate,"/lib/qitch/marketDataDefinition/IntervalDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],89:[function(T,e,b){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";b.__esModule=!0,b.LENGTH=b.LASTTRADE_EXCODE_OFFSET=b.TICK_OFFSET=b.ACCUMULATEDVOLUME_OFFSET=b.PREVCLOSE_OFFSET=b.LAST_OFFSET=b.SYMBOL_OFFSET=b.TIMESTAMP_OFFSET=b.TYPEID=undefined;var f=T("../QitchConstants"),d=(b.TYPEID=13,b.TIMESTAMP_OFFSET=0),p=b.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=b.LAST_OFFSET=p+f.LOCATECODE_LENGTH,m=b.PREVCLOSE_OFFSET=h+f.DOUBLE_LENGTH,E=b.ACCUMULATEDVOLUME_OFFSET=m+f.DOUBLE_LENGTH,_=b.TICK_OFFSET=E+f.LONG_LENGTH,g=b.LASTTRADE_EXCODE_OFFSET=_+f.TICK_LENGTH;b.LENGTH=g+f.EXCODE_LENGTH}).call(this,T("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},T("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],T("timers").setImmediate,T("timers").clearImmediate,"/lib/qitch/marketDataDefinition/LastSaleDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],90:[function(g,e,T){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";T.__esModule=!0,T.LimitUpLimitDownFlags=T.LENGTH=T.UPPERLIMIT_OFFSET=T.LOWERLIMIT_OFFSET=T.EFFECTIVETIME_OFFSET=T.PRICEBANDINDICATOR_OFFSET=T.LOCATECODE_OFFSET=T.TYPEID=undefined;var f=g("../QitchConstants");T.TYPEID=14;var d=T.LOCATECODE_OFFSET=0,p=T.PRICEBANDINDICATOR_OFFSET=d+f.INT_LENGTH,h=T.EFFECTIVETIME_OFFSET=p+f.BYTE_LENGTH,m=T.LOWERLIMIT_OFFSET=h+f.TIMESTAMP_LENGTH,E=T.UPPERLIMIT_OFFSET=m+f.DOUBLE_LENGTH,_=(T.LENGTH=E+f.DOUBLE_LENGTH,T.LimitUpLimitDownFlags=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isBidNotExecutable=function(e){return 0<(e&t.prototype.BID_NOT_EXECUTABLE)},t.isAskNotExecutable=function(e){return 0<(e&t.prototype.ASK_NOT_EXECUTABLE)},t}());_.prototype.BID_NOT_EXECUTABLE=1,_.prototype.ASK_NOT_EXECUTABLE=2}).call(this,g("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],g("timers").setImmediate,g("timers").clearImmediate,"/lib/qitch/marketDataDefinition/LimitUpLimitDownDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],91:[function(w,e,I){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";I.__esModule=!0,I.LENGTH=I.DECIMALASKSIZE_OFFSET=I.DECIMALBIDSIZE_OFFSET=I.SHARESPERSIZEUNIT_OFFSET=I.ASKCHANGE_OFFSET=I.BIDCHANGE_OFFSET=I.INDICATOR_OFFSET=I.MMID_OFFSET=I.ASKSIZE_OFFSET=I.ASKPRICE_OFFSET=I.BIDSIZE_OFFSET=I.BIDPRICE_OFFSET=I.SYMBOL_OFFSET=I.TIMESTAMP_OFFSET=I.TYPEID=undefined;var f=w("../QitchConstants"),d=(I.TYPEID=7,I.TIMESTAMP_OFFSET=0),p=I.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=I.BIDPRICE_OFFSET=p+f.LOCATECODE_LENGTH,m=I.BIDSIZE_OFFSET=h+f.DOUBLE_LENGTH,E=I.ASKPRICE_OFFSET=m+f.INT_LENGTH,_=I.ASKSIZE_OFFSET=E+f.DOUBLE_LENGTH,g=I.MMID_OFFSET=_+f.INT_LENGTH,T=I.INDICATOR_OFFSET=g+f.MMID_LENGTH,b=I.BIDCHANGE_OFFSET=T+f.ASCIICHAR_LENGTH,y=I.ASKCHANGE_OFFSET=b+f.DOUBLE_LENGTH,S=I.SHARESPERSIZEUNIT_OFFSET=y+f.DOUBLE_LENGTH,v=I.DECIMALBIDSIZE_OFFSET=S+f.INT_LENGTH,O=I.DECIMALASKSIZE_OFFSET=v+f.DOUBLE_LENGTH;I.LENGTH=O+f.DOUBLE_LENGTH}).call(this,w("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},w("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],w("timers").setImmediate,w("timers").clearImmediate,"/lib/qitch/marketDataDefinition/MMQuoteDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],92:[function(N,e,A){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";A.__esModule=!0,A.LENGTH=A.SELLBLOCKTRANSACTIONS_OFFSET=A.BUYBLOCKTRANSACTIONS_OFFSET=A.SELLTRANSACTIONS_OFFSET=A.BUYTRANSACTIONS_OFFSET=A.SELLBLOCKVOLUME_OFFSET=A.SELLBLOCKVALUE_OFFSET=A.BUYBLOCKVOLUME_OFFSET=A.BUYBLOCKVALUE_OFFSET=A.SELLVOLUME_OFFSET=A.SELLVALUE_OFFSET=A.BUYVOLUME_OFFSET=A.BUYVALUE_OFFSET=A.MMID_OFFSET=A.SYMBOL_OFFSET=A.TIMESTAMP_OFFSET=A.TYPEID=undefined;var f=N("../QitchConstants"),d=(A.TYPEID=9,A.TIMESTAMP_OFFSET=0),p=A.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=A.MMID_OFFSET=p+f.LOCATECODE_LENGTH,m=A.BUYVALUE_OFFSET=h+f.MMID_LENGTH,E=A.BUYVOLUME_OFFSET=m+f.DOUBLE_LENGTH,_=A.SELLVALUE_OFFSET=E+f.LONG_LENGTH,g=A.SELLVOLUME_OFFSET=_+f.DOUBLE_LENGTH,T=A.BUYBLOCKVALUE_OFFSET=g+f.LONG_LENGTH,b=A.BUYBLOCKVOLUME_OFFSET=T+f.DOUBLE_LENGTH,y=A.SELLBLOCKVALUE_OFFSET=b+f.LONG_LENGTH,S=A.SELLBLOCKVOLUME_OFFSET=y+f.DOUBLE_LENGTH,v=A.BUYTRANSACTIONS_OFFSET=S+f.LONG_LENGTH,O=A.SELLTRANSACTIONS_OFFSET=v+f.INT_LENGTH,w=A.BUYBLOCKTRANSACTIONS_OFFSET=O+f.INT_LENGTH,I=A.SELLBLOCKTRANSACTIONS_OFFSET=w+f.INT_LENGTH;A.LENGTH=I+f.INT_LENGTH}).call(this,N("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},N("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],N("timers").setImmediate,N("timers").clearImmediate,"/lib/qitch/marketDataDefinition/NethousePositionDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],93:[function(V,e,Y){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";Y.__esModule=!0,Y.PricedataFlags=Y.LENGTH=Y.CURRENCYID_OFFSET=Y.DECIMALLASTTRADESIZE_OFFSET=Y.DECIMALPOSTMARKETVOLUME_OFFSET=Y.DECIMALPREMARKETVOLUME_OFFSET=Y.DECIMALACCUMULATEDVOLUME_OFFSET=Y.LASTTRADEEXCODE_OFFSET=Y.POSTMARKETCHANGE_OFFSET=Y.POSTMARKETVOLUME_OFFSET=Y.POSTMARKETLASTPRICE_OFFSET=Y.POSTMARKETTRADETIME_OFFSET=Y.PREMARKETCHANGE_OFFSET=Y.PREMARKETVOLUME_OFFSET=Y.PREMARKETLASTPRICE_OFFSET=Y.PREMARKETTRADETIME_OFFSET=Y.TWAP_OFFSET=Y.VWAP_OFFSET=Y.FLAGS_OFFSET=Y.ACCUMULATEDTRADEVALUE_OFFSET=Y.TRADECOUNT_OFFSET=Y.CLOSE_OFFSET=Y.LASTTRADESIZE_OFFSET=Y.TICK_OFFSET=Y.LASTTRADETIME_OFFSET=Y.ACCUMULATEDVOLUME_OFFSET=Y.LOW_OFFSET=Y.HIGH_OFFSET=Y.OPEN_OFFSET=Y.PREVCLOSE_OFFSET=Y.LAST_OFFSET=Y.SYMBOL_OFFSET=Y.TIMESTAMP_OFFSET=Y.TYPEID=undefined;var f=V("../QitchConstants");Y.TYPEID=2;var d=Y.TIMESTAMP_OFFSET=0,p=Y.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=Y.LAST_OFFSET=p+f.LOCATECODE_LENGTH,m=Y.PREVCLOSE_OFFSET=h+f.DOUBLE_LENGTH,E=Y.OPEN_OFFSET=m+f.DOUBLE_LENGTH,_=Y.HIGH_OFFSET=E+f.DOUBLE_LENGTH,g=Y.LOW_OFFSET=_+f.DOUBLE_LENGTH,T=Y.ACCUMULATEDVOLUME_OFFSET=g+f.DOUBLE_LENGTH,b=Y.LASTTRADETIME_OFFSET=T+f.LONG_LENGTH,y=Y.TICK_OFFSET=b+f.TIMESTAMP_LENGTH,S=Y.LASTTRADESIZE_OFFSET=y+f.TICK_LENGTH,v=Y.CLOSE_OFFSET=S+f.INT_LENGTH,O=Y.TRADECOUNT_OFFSET=v+f.DOUBLE_LENGTH,w=Y.ACCUMULATEDTRADEVALUE_OFFSET=O+f.LONG_LENGTH,I=Y.FLAGS_OFFSET=w+f.DOUBLE_LENGTH,N=Y.VWAP_OFFSET=I+1,A=Y.TWAP_OFFSET=N+f.DOUBLE_LENGTH,F=Y.PREMARKETTRADETIME_OFFSET=A+f.TIMESTAMP_LENGTH,C=Y.PREMARKETLASTPRICE_OFFSET=F+f.DOUBLE_LENGTH,M=Y.PREMARKETVOLUME_OFFSET=C+f.LONG_LENGTH,D=Y.PREMARKETCHANGE_OFFSET=M+f.DOUBLE_LENGTH,L=Y.POSTMARKETTRADETIME_OFFSET=D+f.TIMESTAMP_LENGTH,R=Y.POSTMARKETLASTPRICE_OFFSET=L+f.DOUBLE_LENGTH,B=Y.POSTMARKETVOLUME_OFFSET=R+f.LONG_LENGTH,U=Y.POSTMARKETCHANGE_OFFSET=B+f.DOUBLE_LENGTH,k=Y.LASTTRADEEXCODE_OFFSET=U+f.DOUBLE_LENGTH,P=Y.DECIMALACCUMULATEDVOLUME_OFFSET=k+f.EXCODE_LENGTH,H=Y.DECIMALPREMARKETVOLUME_OFFSET=P+f.DOUBLE_LENGTH,G=Y.DECIMALPOSTMARKETVOLUME_OFFSET=H+f.DOUBLE_LENGTH,x=Y.DECIMALLASTTRADESIZE_OFFSET=G+f.DOUBLE_LENGTH,j=Y.CURRENCYID_OFFSET=x+f.DOUBLE_LENGTH,q=(Y.LENGTH=j+f.CURRENCYID_LENGTH,Y.PricedataFlags=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isAnnualHigh=function(e){return 0<(e&t.prototype.ANNUALHIGH_MASK)},t.isAnnualLow=function(e){return 0<(e&t.prototype.ANNUALLOW_MASK)},t}());q.prototype.ANNUALHIGH_MASK=1,q.prototype.ANNUALLOW_MASK=2}).call(this,V("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},V("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],V("timers").setImmediate,V("timers").clearImmediate,"/lib/qitch/marketDataDefinition/PricedataDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],94:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,h.LENGTH=h.SYMBOL_OFFSET=h.TYPEID=undefined;var f=p("../QitchConstants"),d=(h.TYPEID=6,h.SYMBOL_OFFSET=0);h.LENGTH=d+f.LOCATECODE_LENGTH}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/qitch/marketDataDefinition/PurgeBookDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],95:[function(I,e,N){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";N.__esModule=!0,N.LENGTH=N.DECIMALBIDSIZE_OFFSET=N.DECIMALASKSIZE_OFFSET=N.SHARESPERSIZEUNIT_OFFSET=N.INDICATOR_OFFSET=N.BIDSIZE_OFFSET=N.BIDPRICE_OFFSET=N.BIDEXCODE_OFFSET=N.BIDCONDITION_OFFSET=N.ASKSIZE_OFFSET=N.ASKPRICE_OFFSET=N.ASKEXCODE_OFFSET=N.ASKCONDITION_OFFSET=N.SYMBOL_OFFSET=N.TIMESTAMP_OFFSET=N.TYPEID=undefined;var f=I("../QitchConstants"),d=(N.TYPEID=1,N.TIMESTAMP_OFFSET=0),p=N.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=N.ASKCONDITION_OFFSET=p+f.LOCATECODE_LENGTH,m=N.ASKEXCODE_OFFSET=h+f.ASCIICHAR_LENGTH,E=N.ASKPRICE_OFFSET=m+f.EXCODE_LENGTH,_=N.ASKSIZE_OFFSET=E+f.DOUBLE_LENGTH,g=N.BIDCONDITION_OFFSET=_+f.INT_LENGTH,T=N.BIDEXCODE_OFFSET=g+f.ASCIICHAR_LENGTH,b=N.BIDPRICE_OFFSET=T+f.EXCODE_LENGTH,y=N.BIDSIZE_OFFSET=b+f.DOUBLE_LENGTH,S=N.INDICATOR_OFFSET=y+f.INT_LENGTH,v=N.SHARESPERSIZEUNIT_OFFSET=S+f.ASCIICHAR_LENGTH,O=N.DECIMALASKSIZE_OFFSET=v+f.INT_LENGTH,w=N.DECIMALBIDSIZE_OFFSET=O+f.DOUBLE_LENGTH;N.LENGTH=w+f.DOUBLE_LENGTH}).call(this,I("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},I("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],I("timers").setImmediate,I("timers").clearImmediate,"/lib/qitch/marketDataDefinition/QuoteDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],96:[function(v,e,O){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";O.__esModule=!0,O.LENGTH=O.BOARDLOTSIZE_OFFSET=O.CAVEATEMPTOR_OFFSET=O.PQE_OFFSET=O.REGSHOSTATUS_OFFSET=O.HALTINDICATOR_OFFSET=O.HALTSTATUS_OFFSET=O.CURRENCYID_OFFSET=O.INSTRUMENTTYPE_OFFSET=O.EXCODE_OFFSET=O.LOCATECODE_OFFSET=O.SYMBOL_OFFSET=O.TYPEID=undefined;var f=v("../QitchConstants"),d=(O.TYPEID=10,O.SYMBOL_OFFSET=0),p=O.LOCATECODE_OFFSET=d+f.SYMBOL_LENGTH,h=O.EXCODE_OFFSET=p+f.LOCATECODE_LENGTH,m=O.INSTRUMENTTYPE_OFFSET=h+f.EXCODE_LENGTH,E=O.CURRENCYID_OFFSET=m+f.INSTRUMENTTYPE_LENGTH,_=O.HALTSTATUS_OFFSET=E+f.CURRENCYID_LENGTH,g=O.HALTINDICATOR_OFFSET=_+f.BYTE_LENGTH,T=O.REGSHOSTATUS_OFFSET=g+f.BYTE_LENGTH,b=O.PQE_OFFSET=T+f.ASCIICHAR_LENGTH,y=O.CAVEATEMPTOR_OFFSET=b+f.BYTE_LENGTH,S=O.BOARDLOTSIZE_OFFSET=y+f.BYTE_LENGTH;O.LENGTH=S+f.INT_LENGTH}).call(this,v("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],v("timers").setImmediate,v("timers").clearImmediate,"/lib/qitch/marketDataDefinition/SymbolInfoDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],97:[function(y,e,S){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";S.__esModule=!0,S.LENGTH=S.SYMBOL_OFFSET=S.NOTE_OFFSET=S.OPENINGTIME_OFFSET=S.EFFECTIVETIME_OFFSET=S.CLOSINGPRICE_OFFSET=S.REGSHOSTATUS_OFFSET=S.HALTINDICATOR_OFFSET=S.HALTSTATUS_OFFSET=S.LOCATE_CODE_OFFSET=S.TYPEID=undefined;var f=y("../QitchConstants"),d=(S.TYPEID=11,S.LOCATE_CODE_OFFSET=0),p=S.HALTSTATUS_OFFSET=d+f.LOCATECODE_LENGTH,h=S.HALTINDICATOR_OFFSET=p+f.BYTE_LENGTH,m=S.REGSHOSTATUS_OFFSET=h+f.BYTE_LENGTH,E=S.CLOSINGPRICE_OFFSET=m+f.ASCIICHAR_LENGTH,_=S.EFFECTIVETIME_OFFSET=E+f.DOUBLE_LENGTH,g=S.OPENINGTIME_OFFSET=_+f.TIMESTAMP_LENGTH,T=S.NOTE_OFFSET=g+f.TIMESTAMP_LENGTH,b=S.SYMBOL_OFFSET=T+f.NOTE_LENGTH;S.LENGTH=b+f.SYMBOL_LENGTH}).call(this,y("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],y("timers").setImmediate,y("timers").clearImmediate,"/lib/qitch/marketDataDefinition/SymbolStatusDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],98:[function(F,e,C){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";C.__esModule=!0,C.TradeFlags=C.LENGTH=C.DECIMALSIZE_OFFSET=C.EXCODE_OFFSET=C.VWAP_OFFSET=C.MATCHID_OFFSET=C.RANGEINDICATOR_OFFSET=C.SELLERMMID_OFFSET=C.BUYERMMID_OFFSET=C.FLAGS_OFFSET=C.SEQUENCENUMBER_OFFSET=C.ACCUMULATEDVOLUME_OFFSET=C.TICK_OFFSET=C.INDICATOR_OFFSET=C.SIZE_OFFSET=C.PRICE_OFFSET=C.SYMBOL_OFFSET=C.TIMESTAMP_OFFSET=C.TYPEID=undefined;var f=F("../QitchConstants");C.TYPEID=3;var d=C.TIMESTAMP_OFFSET=0,p=C.SYMBOL_OFFSET=d+f.TIMESTAMP_LENGTH,h=C.PRICE_OFFSET=p+f.LOCATECODE_LENGTH,m=C.SIZE_OFFSET=h+f.DOUBLE_LENGTH,E=C.INDICATOR_OFFSET=m+f.INT_LENGTH,_=C.TICK_OFFSET=E+f.ASCIICHAR_LENGTH,g=C.ACCUMULATEDVOLUME_OFFSET=_+f.TICK_LENGTH,T=C.SEQUENCENUMBER_OFFSET=g+f.LONG_LENGTH,b=C.FLAGS_OFFSET=T+f.INT_LENGTH,y=C.BUYERMMID_OFFSET=b+f.INT_LENGTH,S=C.SELLERMMID_OFFSET=y+f.MMID_LENGTH,v=C.RANGEINDICATOR_OFFSET=S+f.MMID_LENGTH,O=C.MATCHID_OFFSET=v+f.RANGEINDICATOR_LENGTH,w=C.VWAP_OFFSET=O+f.LONG_LENGTH,I=C.EXCODE_OFFSET=w+f.DOUBLE_LENGTH,N=C.DECIMALSIZE_OFFSET=I+f.EXCODE_LENGTH,A=(C.LENGTH=N+f.DOUBLE_LENGTH,C.TradeFlags=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isOpen=function(e){return 0<(e&t.prototype.OPEN_MASK)},t.isHigh=function(e){return 0<(e&t.prototype.HIGH_MASK)},t.isLow=function(e){return 0<(e&t.prototype.LOW_MASK)},t.isClose=function(e){return 0<(e&t.prototype.CLOSE_MASK)},t.isUpdateVolume=function(e){return 0<(e&t.prototype.UPDATEVOLUME_MASK)},t.isCancel=function(e){return 0<(e&t.prototype.CANCEL_MASK)},t.isFromBook=function(e){return 0<(e&t.prototype.FROMBOOK_MASK)},t.isATrade=function(e){return 0<(e&t.prototype.ISATRADE_MASK)},t.isIncrementVolume=function(e){return 0<(e&t.prototype.INCREMENTVOLUME_MASK)},t.isUpdateAfterHours=function(e){return 0<(e&t.prototype.UPDATEAFTERHOURS_MASK)},t.isUpdateLast=function(e){return 0<(e&t.prototype.UPDATELAST_MASK)},t.isAfterHoursTrade=function(e){return 0<(e&t.prototype.AFTERHOURSTRADE)},t.isIgnoreHighLow=function(e){return 0<(e&t.prototype.IGNOREHIGHLOW_MASK)},t.isParticipantOnly=function(e){return 0<(e&t.prototype.PARTICIPANTONLY_MAKS)},t.isBlockTrade=function(e){return 0<(e&t.prototype.BLOCKTRADE_MASK)},t.isIgnoreOpen=function(e){return 0<(e&t.prototype.IGNOREOPEN_MASK)},t.isTradeThroughExempt=function(e){return 0<(e&t.prototype.TRADETHROUGHEXEMPT)},t.isCorrection=function(e){return e&t.prototype.CORRECTION_MASK},t.isOutOfSequence=function(e){return e&t.prototype.OUTOFSEQUENCE_MASK},t}());A.prototype.OPEN_MASK=1048576,A.prototype.HIGH_MASK=2097152,A.prototype.LOW_MASK=4194304,A.prototype.CLOSE_MASK=8388608,A.prototype.UPDATEVOLUME_MASK=16777216,A.prototype.CANCEL_MASK=33554432,A.prototype.FROMBOOK_MASK=67108864,A.prototype.ISATRADE_MASK=65536,A.prototype.INCREMENTVOLUME_MASK=131072,A.prototype.UPDATEAFTERHOURS_MASK=262144,A.prototype.UPDATELAST_MASK=524288,A.prototype.AFTERHOURSTRADE=4096,A.prototype.IGNOREHIGHLOW_MASK=8192,A.prototype.PARTICIPANTONLY_MAKS=16384,A.prototype.BLOCKTRADE_MASK=32768,A.prototype.IGNOREOPEN_MASK=256,A.prototype.TRADETHROUGHEXEMPT=512,A.prototype.CORRECTION_MASK=134217728,A.prototype.OUTOFSEQUENCE_MASK=1024}).call(this,F("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},F("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],F("timers").setImmediate,F("timers").clearImmediate,"/lib/qitch/marketDataDefinition/TradeDef.js","/lib/qitch/marketDataDefinition")},{"../QitchConstants":26,_process:131,buffer:121,timers:152}],99:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0;var f,d=m("./v1/SMessageDecoder_1.js"),p=(f=d)&&f.__esModule?f:{"default":f};var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._1=new p["default"]}return e.prototype.decode=function(e){if(null==e)throw"Argument cannot be null.";if(0==e.length)throw"Argument cannot be empty string.";var t=e.charAt(0),n=this["_"+t];if(null!=n)return n.decode(e);throw"Unsupported message type '"+t+"'."},e}();E["default"]=h}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/serialization/SMessageDecoder.js","/lib/serialization")},{"./v1/SMessageDecoder_1.js":101,_process:131,buffer:121,timers:152}],100:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0;var f,d=m("./v1/SMessageEncoder_1.js"),p=(f=d)&&f.__esModule?f:{"default":f};var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._1=new p["default"]}return e.prototype.encode=function(e){if(null==e)throw"Argument cannot be null.";var t=this["_"+e.type];if(null!=t)return t.encode(e);throw"Unsupported message type '"+e.type+"'."},e}();E["default"]=h}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/serialization/SMessageEncoder.js","/lib/serialization")},{"./v1/SMessageEncoder_1.js":102,_process:131,buffer:121,timers:152}],101:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0;var f=p(m("../../SMessage.js")),d=p(m("./codec.js"));function p(e){return e&&e.__esModule?e:{"default":e}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.decode=function(e){if(null==e)throw"Argument cannot be null.";if(0==e.length)throw"Argument cannot be empty string.";var t=new f["default"];t.type=d["default"].TYPE;var n=Number(e.substr(d["default"].HEADERLENGTH_OFFSET,d["default"].USHORT_LENGTH_CHAR));t.sequencenumber=Number(e.substr(d["default"].SEQUENCENUMBER_OFFSET,d["default"].LONG_LENGTH_CHAR)),t.timestamp=Number(e.substr(d["default"].TIMESTAMP_OFFSET,d["default"].LONG_LENGTH_CHAR)),t.id=Number(e.substr(d["default"].ID_OFFSET,d["default"].USHORT_LENGTH_CHAR)),t.encoding=e.charAt(d["default"].ENCODING_OFFSET),t.mimetype=e.charAt(d["default"].MIMETYPE_OFFSET);var r=Number(e.substr(d["default"].PAYLOADLENGTH_OFFSET,d["default"].UINT_LENGTH_CHAR));return t.payload=e.substr(n,r),t},e}();E["default"]=h}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/serialization/v1/SMessageDecoder_1.js","/lib/serialization/v1")},{"../../SMessage.js":5,"./codec.js":103,_process:131,buffer:121,timers:152}],102:[function(E,e,_){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";_.__esModule=!0;var f,d=E("../../message.js"),p=E("./codec.js"),h=(f=p)&&f.__esModule?f:{"default":f};var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.encode=function(e){if(null==e)throw"Argument cannot be null.";var t=h["default"].TYPE;return t+=(0,d.lpad)(h["default"].HEADER_LENGTH_CHAR,h["default"].USHORT_LENGTH_CHAR),t+=(0,d.lpad)(e.sequencenumber,h["default"].LONG_LENGTH_CHAR),t+=(0,d.lpad)(e.timestamp,h["default"].LONG_LENGTH_CHAR),t+=(0,d.lpad)(e.id,h["default"].USHORT_LENGTH_CHAR),t+=e.encoding,t+=e.mimetype,t+=(0,d.lpad)(null!=e.payload?e.payload.length:0,h["default"].UINT_LENGTH_CHAR),null!=e.payload&&(t+=e.payload),t},e}();_["default"]=m}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/lib/serialization/v1/SMessageEncoder_1.js","/lib/serialization/v1")},{"../../message.js":17,"./codec.js":103,_process:131,buffer:121,timers:152}],103:[function(e,t,f){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";f.__esModule=!0,f["default"]=new function(){this.TYPE="1",this.USHORT_LENGTH_CHAR=5,this.USHORT_MIN=0,this.USHORT_MAX=65535,this.UINT_LENGTH_CHAR=10,this.UINT_MIN=0,this.UINT_MAX=4294967295,this.LONG_LENGTH_CHAR=20,this.LONG_MIN=Number.MIN_SAFE_INTEGER,this.LONG_MAX=Number.MAX_SAFE_INTEGER,this.TYPE_OFFSET=0,this.HEADERLENGTH_OFFSET=this.TYPE_OFFSET+1,this.SEQUENCENUMBER_OFFSET=this.HEADERLENGTH_OFFSET+this.USHORT_LENGTH_CHAR,this.TIMESTAMP_OFFSET=this.SEQUENCENUMBER_OFFSET+this.LONG_LENGTH_CHAR,this.ID_OFFSET=this.TIMESTAMP_OFFSET+this.LONG_LENGTH_CHAR,this.ENCODING_OFFSET=this.ID_OFFSET+this.USHORT_LENGTH_CHAR,this.MIMETYPE_OFFSET=this.ENCODING_OFFSET+1,this.PAYLOADLENGTH_OFFSET=this.MIMETYPE_OFFSET+1,this.HEADER_LENGTH_CHAR=this.PAYLOADLENGTH_OFFSET+this.UINT_LENGTH_CHAR}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/serialization/v1/codec.js","/lib/serialization/v1")},{_process:131,buffer:121,timers:152}],104:[function(e,t,f){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";
/*
   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0

   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)
   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)
 */
/*
   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0

   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)
   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)
 */
(function(){var T,r,E,l,o={}.hasOwnProperty,s=[].slice;T={LF:"\n",NULL:"\0"},E=function(){var s;function g(e,t,n){this.command=e,this.headers=null!=t?t:{},this.body=null!=n?n:""}return g.prototype.toString=function(){var e,t,n,r,i;for(t in(n=!(e=[this.command])===this.headers["content-length"])&&delete this.headers["content-length"],i=this.headers)o.call(i,t)&&(r=i[t],e.push(t+":"+r));return this.body&&!n&&e.push("content-length:"+g.sizeOfUTF8(this.body)),e.push(T.LF+this.body),e.join(T.LF)},g.sizeOfUTF8=function(e){return e?encodeURI(e).match(/%..|./g).length:0},s=function(e){var t,n,r,i,o,s,a,u,l,c,f,d,p,h,m,E,_;for(i=e.search(RegExp(""+T.LF+T.LF)),r=(o=e.substring(0,i).split(T.LF)).shift(),s={},d=function(e){return e.replace(/^\s+|\s+$/g,"")},p=0,m=(E=o.reverse()).length;p<m;p++)u=(c=E[p]).indexOf(":"),s[d(c.substring(0,u))]=d(c.substring(u+1));if(t="",f=i+2,s["content-length"])l=parseInt(s["content-length"]),t=(""+e).substring(f,f+l);else for(n=null,a=h=f,_=e.length;(f<=_?h<_:_<h)&&(n=e.charAt(a))!==T.NULL;a=f<=_?++h:--h)t+=n;return new g(r,s,t)},g.unmarshall=function(i){var o;return function(){var e,t,n,r;for(r=[],e=0,t=(n=i.split(RegExp(""+T.NULL+T.LF+"*"))).length;e<t;e++)0<(null!=(o=n[e])?o.length:void 0)&&r.push(s(o));return r}()},g.marshall=function(e,t,n){return new g(e,t,n).toString()+T.NULL},g}(),r=function(){var m;function e(e){this.ws=e,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}return e.prototype.debug=function(e){var t;return"undefined"!=typeof window&&null!==window&&null!=(t=window.console)?t.log(e):void 0},m=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(e,t,n){var r;for(r=E.marshall(e,t,n),"function"==typeof this.debug&&this.debug(">>> "+r);;){if(!(r.length>this.maxWebSocketFrameSize))return this.ws.send(r);this.ws.send(r.substring(0,this.maxWebSocketFrameSize)),r=r.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+r.length)}},e.prototype._setupHeartbeat=function(i){var e,t,n,o,r,s,a,u;if((r=i.version)===l.VERSIONS.V1_1||r===l.VERSIONS.V1_2)return t=(s=function(){var e,t,n,r;for(r=[],e=0,t=(n=i["heart-beat"].split(",")).length;e<t;e++)o=n[e],r.push(parseInt(o));return r}())[0],e=s[1],0!==this.heartbeat.outgoing&&0!==e&&(n=Math.max(this.heartbeat.outgoing,e),"function"==typeof this.debug&&this.debug("send PING every "+n+"ms"),this.pinger=l.setInterval(n,(a=this,function(){return a.ws.send(T.LF),"function"==typeof a.debug?a.debug(">>> PING"):void 0}))),0!==this.heartbeat.incoming&&0!==t?(n=Math.max(this.heartbeat.incoming,t),"function"==typeof this.debug&&this.debug("check PONG every "+n+"ms"),this.ponger=l.setInterval(n,(u=this,function(){var e;if(e=m()-u.serverActivity,2*n<e)return"function"==typeof u.debug&&u.debug("did not receive server activity for the last "+e+"ms"),u.ws.close()}))):void 0},e.prototype._parseConnect=function(){var e,t,n,r;switch(r={},(e=1<=arguments.length?s.call(arguments,0):[]).length){case 2:r=e[0],t=e[1];break;case 3:e[1]instanceof Function?(r=e[0],t=e[1],n=e[2]):(r.login=e[0],r.passcode=e[1],t=e[2]);break;case 4:r.login=e[0],r.passcode=e[1],t=e[2],n=e[3];break;default:r.login=e[0],r.passcode=e[1],t=e[2],n=e[3],r.host=e[4]}return[r,t,n]},e.prototype.connect=function(){var e,p,t,n,h,r,i;return e=1<=arguments.length?s.call(arguments,0):[],n=this._parseConnect.apply(this,e),t=n[0],this.connectCallback=n[1],p=n[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=(h=this,function(e){var r,i,t,n,o,s,a,u,l,c,f,d;if(n="undefined"!=typeof ArrayBuffer&&e.data instanceof ArrayBuffer?(r=new Uint8Array(e.data),"function"==typeof h.debug&&h.debug("--- got data length: "+r.length),function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)i=r[e],n.push(String.fromCharCode(i));return n}().join("")):e.data,h.serverActivity=m(),n!==T.LF){for("function"==typeof h.debug&&h.debug("<<< "+n),d=[],l=0,c=(f=E.unmarshall(n)).length;l<c;l++)switch((o=f[l]).command){case"CONNECTED":"function"==typeof h.debug&&h.debug("connected to server "+o.headers.server),h.connected=!0,h._setupHeartbeat(o.headers),d.push("function"==typeof h.connectCallback?h.connectCallback(o):void 0);break;case"MESSAGE":u=o.headers.subscription,(a=h.subscriptions[u]||h.onreceive)?(t=h,s=o.headers["message-id"],o.ack=function(e){return null==e&&(e={}),t.ack(s,u,e)},o.nack=function(e){return null==e&&(e={}),t.nack(s,u,e)},d.push(a(o))):d.push("function"==typeof h.debug?h.debug("Unhandled received MESSAGE: "+o):void 0);break;case"RECEIPT":d.push("function"==typeof h.onreceipt?h.onreceipt(o):void 0);break;case"ERROR":d.push("function"==typeof p?p(o):void 0);break;default:d.push("function"==typeof h.debug?h.debug("Unhandled frame: "+o):void 0)}return d}"function"==typeof h.debug&&h.debug("<<< PONG")}),this.ws.onclose=(r=this,function(){var e;return e="Whoops! Lost connection to "+r.ws.url,"function"==typeof r.debug&&r.debug(e),r._cleanUp(),"function"==typeof p?p(e):void 0}),this.ws.onopen=(i=this,function(){return"function"==typeof i.debug&&i.debug("Web Socket Opened..."),t["accept-version"]=l.VERSIONS.supportedVersions(),t["heart-beat"]=[i.heartbeat.outgoing,i.heartbeat.incoming].join(","),i._transmit("CONNECT",t)})},e.prototype.disconnect=function(e,t){return null==t&&(t={}),this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof e?e():void 0},e.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&l.clearInterval(this.pinger),this.ponger)return l.clearInterval(this.ponger)},e.prototype.send=function(e,t,n){return null==t&&(t={}),null==n&&(n=""),t.destination=e,this._transmit("SEND",t,n)},e.prototype.subscribe=function(e,t,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},e.prototype.unsubscribe=function(e){return delete this.subscriptions[e],this._transmit("UNSUBSCRIBE",{id:e})},e.prototype.begin=function(e){var t,n;return n=e||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),t=this,{id:n,commit:function(){return t.commit(n)},abort:function(){return t.abort(n)}}},e.prototype.commit=function(e){return this._transmit("COMMIT",{transaction:e})},e.prototype.abort=function(e){return this._transmit("ABORT",{transaction:e})},e.prototype.ack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("ACK",n)},e.prototype.nack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("NACK",n)},e}(),l={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(e,t){var n;return null==t&&(t=["v10.stomp","v11.stomp"]),n=new(l.WebSocketClass||WebSocket)(e,t),new r(n)},over:function(e){return new r(e)},Frame:E},null!=f&&(f.Stomp=l),"undefined"!=typeof window&&null!==window?(l.setInterval=function(e,t){return window.setInterval(t,e)},l.clearInterval=function(e){return window.clearInterval(e)},window.Stomp=l):f||(self.Stomp=l)}).call(undefined)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/stomp.js/lib/stomp.js","/lib/stomp.js/lib")},{_process:131,buffer:121,timers:152}],105:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f=_("../logging.js"),d=m(_("../EventSupport.js")),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(_("../streamer-events.js")),h=m(_("../http.js"));function m(e){return e&&e.__esModule?e:{"default":e}}var E=function(){function o(e,t,n){var r=3<arguments.length&&arguments[3]!==undefined?arguments[3]:3,i=arguments[4];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.openSocket=t,this.createTransmitter=e,this.log=(0,f.asLogger)(n),this.events=new d["default"](this),this.currentConn="",this.maxReconnectAttempts=r,this.maxReconnectsTotal=3,this.isFirstConnection=!0,this.pingUrl=i}return o.prototype.open=function(){var n=this,e={send:function(e){return n.socket.send(e)}};this.isFirstConnection&&(this.on("reopen",function(e){var t=n.currentConn;n.currentConn=e.connectionId,n.events.fire("reconnect",p.event("Reconnection success",{previousConnectionId:t,currentConnectionId:n.currentConn}))}),this.transmitter=this.createTransmitter(e),this.transmitter.on("message",function(e){n.events.fire("message",e)})),this.socket=this.openSocket(function(e){return n.request=e,n.reconnect=!1,{onOpen:function(e){if("CONNECTED"===e.command){n.isConnectionUp=!0;var t=p.event("open",{connectionId:e.headers["user-name"]});n.log.info(t),n.events.fire("open",t),n.isFirstConnection||(n.maxReconnectsTotal--,n.events.fire("reopen",t)),n.currentConn=e.headers["user-name"]}},onError:function(e){n.isConnectionUp=!1,n.isServerUp(function(e,t){null!==e?(n.reconnect=!1,n.log.warn("Connection lost, Streamer Server isn't Up")):(n.reconnect=!0,n.log.warn("Connection lost, Streamer Server is Up"))})},onClose:function(){n.isConnectionUp=!1},onMessage:function(e){var t=JSON.parse(e.body);t.code!==undefined&&(401!=t.code&&403!=t.code||(n.log.info("Unable to reconnect with code: "+t.code+", reason: "+t.reason),n.reconnect=!1,n.isConnectionUp=!1)),n.transmitter.onMessage(e.body)}}},this.currentConn)},o.prototype.close=function(){if(this.socket)try{this.socket.close(),this.socket=null,this.reconnect&&this.tryReopen()}catch(e){this.events.fire("error",p.error("Error closing",{reason:e.message,cause:e,code:-3}))}},o.prototype.tryReopen=function(){var t=this;if(this.isConnectionUp||this.maxReconnectsTotal<=0)this.log.error("Connection is already open or max reconnects was reached, won't try to reconnect");else{this.isFirstConnection=!1;var n=this.maxReconnectAttempts;setTimeout(function e(){if(n<=0)return t.reconnect=!1,t.log.error("Error while reconnecting. No attempts left."),void(t.maxReconnectAttempts=0);!t.isConnectionUp&&t.reconnect&&(t.log.info("Attempting reconnect. Attempts left: "+n),t.reopen(n),n--,setTimeout(e,500))},500)}},o.prototype.reopen=function(e){try{this.open()}catch(t){this.log.warn("There was an error while reopening attempt #"+e),this.events.fire("error",t)}},o.prototype.send=function(e){try{this.transmitter.send(e)}catch(t){this.events.fire("error",p.error("Error sending message",{reason:t.message,cause:t,code:-4}))}},o.prototype.isReconnect=function(){return this.request["x-Stream-isReconnect"]},o.prototype.setReconnect=function(e){this.reconnect=e},o.prototype.setServer=function(e){this.request["X-Stream-Instance"]=e},o.prototype.isClosed=function(){return null==this.socket},o.prototype.isServerUp=function(t){(0,h["default"])({url:this.pingUrl,success:function(e){return t(null,e)},type:"GET",failure:t})},o.prototype.setConnectionUp=function(e){this.isConnectionUp=e},o.prototype.on=function(e,t){return this.events.on(e,t)},o}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/stomp/StompConnection.js","/lib/stomp")},{"../EventSupport.js":2,"../http.js":14,"../logging.js":16,"../streamer-events.js":109,_process:131,buffer:121,timers:152}],106:[function(T,e,b){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";b.__esModule=!0,T("../polyfills.js");var f=T("../streamer-api.js"),d=T("../streamer-utils.js"),p=T("../logging.js"),O=T("../utils.js"),h=_(T("../UShortId.js")),m=_(T("../EventSupport.js")),E=T("../formatting.js"),w=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}}(T("../streamer-events.js"));function _(e){return e&&e.__esModule?e:{"default":e}}var g=function(){function i(e,t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.events=new m["default"],this.streamingService=e,this.format=t,this.log=(0,p.asLogger)(n),this.conn=e.createStompConnection(),this.conn.on("message",function(e){r._handlejsonmsg(e)}).on("close",function(e){r.doClose(e)}).on("error",function(e){r.pendingConnection&&r.pendingConnection(e),r.events.fire("error",e)}).on("reconnect",function(e){r.reconnectSuccess(e)}),this.requestid=new h["default"],this.pendingsubscriptions={},this.pendingUnsubscriptions={},this.pendingExchangeSubscriptions={},this.pendingExchangeUnsubscriptions={},this.pendingNewsSubscriptions={},this.pendingNewsUnsubscriptions={},this.pendingAlertSubscription={},this.pendingTradeSubscription={},this.pendingTradeUnsubscription={},this.on("error",function(e){r.log.warn(e)})}return i.prototype.openStomp=function(e){try{this.pendingConnection=e,this.conn.open()}catch(t){e&&e(t)}},i.prototype.reconnectSuccess=function(e){this.events.fire("reconnectSuccess",e),this.log.info("Successfull reconnection. Previous Id: "+e.previousConnectionId+" Current Id = "+e.currentConnectionId)},i.prototype.on=function(e,t){return this.events.on(e,t)},i.prototype.subscribe=function(e,t,n,r){var i=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()}),t=Array.isArray(t)?t:[t].map(function(e){return e.toUpperCase()});var o=n&&"function"!=typeof n?n:null,s=r||(n&&"function"==typeof n?n:null);if(this.isClosed()){var a=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",a),void(s&&s(a))}var u={ids:[],types:t,mimetype:this.format,callback:s,result:{subscribed:[],rejected:[],unentitled:[],invalidSymbols:[]}};0!==e.length&&0!==t.length?this._prepareSubscriptionRequests(e,u,f.messages.control.Action.SUBSCRIBE,o).forEach(function(e){var t=i.requestid.next();u.ids.push(t),i.pendingsubscriptions[t]=u,e.id=t,i.send(e)}):s(null,u.result)},i.prototype.subscribeExchange=function(e,t,n){var r=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()});var i=t&&"function"!=typeof t?t:null,o=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var s=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",s),void(o&&o(s))}var a={callback:o,mimetype:this.format,id:[],result:{subscribed:[],rejected:[]}};0===e.length&&o(null,a.result),this.prepareExchangeSubscriptionRequest(e,a,f.messages.control.Action.SUBSCRIBE,i).forEach(function(e){var t=r.requestid.next();a.id.push(t),a.exchange=e.exchange,a.conflation=e.conflation,r.pendingExchangeSubscriptions[t]=a,e.id=t,r.send(e)})},i.prototype.subscribeNews=function(e,t,n){var r=t&&"function"!=typeof t?t:null,i=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var o=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",o),void(i&&i(o))}var s={callback:i,mimetype:this.format,id:[],result:{newsFilters:[],rejectedNewsFilters:[],unentitledNewsFilters:[]}};0===e.length&&i(null,s.result);var a=this.buildNewsSubscribeRequest(e,s,f.messages.control.Action.SUBSCRIBE,r),u=this.requestid.next();this.pendingNewsSubscriptions[u]=s,a.id=u,this.send(a)},i.prototype.subUnsubAlerts=function(e,t,n){var r=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var i=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",i)}else{var o={id:[],mimetype:this.format,callback:r,result:{operation:""}},s=this.buildAlertsSubUnsubRequest(e,o),a=this.requestid.next();o.id.push(a),this.pendingAlertSubscription[a]=o,s.id=a,this.send(s)}},i.prototype.subscribeTrade=function(e,t,n){var r=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var i=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",i)}else{var o={id:[],mimetype:this.format,callback:r,result:{notificationType:""}},s=this.buildTradeSubscribeRequest(e,o,f.messages.control.Action.SUBSCRIBE),a=this.requestid.next();o.id.push(a),this.pendingTradeSubscription[a]=o,s.id=a,this.send(s)}},i.prototype.getSessionStats=function(){if(this.isClosed()){var e=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",e)}else{var t=new f.messages.control.StatsMessage;this.send(t)}},i.prototype.cmdFilterRefreshNews=function(e){var t=e||(optsOrCallback&&"function"==typeof optsOrCallback?optsOrCallback:null);if(this.isClosed()){var n=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",n),void(t&&t(n))}var r={callback:t,mimetype:this.format},i=this.buildNewsCommandRequest(r,"NEWSCMDFILTERREFRESH");this.send(i)},i.prototype.cmdFilterNews=function(e){var t=e||(optsOrCallback&&"function"==typeof optsOrCallback?optsOrCallback:null);if(this.isClosed()){var n=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",n),void(t&&t(n))}var r={callback:t,mimetype:this.format},i=this.buildNewsCommandRequest(r,"NEWSCMDFILTER");this.send(i)},i.prototype.unsubscribe=function(e,t,n,r){var i=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()}),t=Array.isArray(t)?t:[t].map(function(e){return e.toUpperCase()});var o=n&&"function"!=typeof n?n:null,s=r||(n&&"function"==typeof n?n:null);if(this.isClosed()){var a=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",a),void(s&&s(a))}var u={ids:[],types:t,mimetype:this.format,callback:s,result:{unsubscribed:[]}};0!==e.length&&0!==t.length||s&&s(null,u.result),this._prepareSubscriptionRequests(e,u,f.messages.control.Action.UNSUBSCRIBE,o).forEach(function(e){var t=i.requestid.next();u.ids.push(t),i.pendingUnsubscriptions[t]=u,e.id=t,i.send(e)})},i.prototype.unsubscribeExchange=function(e,t,n){var r=this;e=(Array.isArray(e)?e:[e]).map(function(e){return e.toUpperCase()});var i=t&&"function"!=typeof t?t:null,o=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var s=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",s),void(o&&o(s))}var a={callback:o,mimetype:this.format,id:[],result:{subscribed:[],rejected:[]}};0===e.length&&o(null,a.result),this.prepareExchangeSubscriptionRequest(e,a,f.messages.control.Action.UNSUBSCRIBE,i).forEach(function(e){var t=r.requestid.next();a.id.push(t),a.exchange=e.exchange,a.conflation=e.conflation,r.pendingExchangeUnsubscriptions[t]=a,e.id=t,r.send(e)})},i.prototype.unsubscribeNews=function(e,t,n){e=Array.isArray(e)?e:[e];var r=t&&"function"!=typeof t?t:null,i=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var o=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});return this.events.fire("error",o),void(i&&i(o))}var s={callback:i,mimetype:this.format,id:[],result:{unsubscribed:[]}};0===e.length&&i&&i(null,s.result);var a=this.buildNewsSubscribeRequest(e,s,f.messages.control.Action.UNSUBSCRIBE,r),u=this.requestid.next();s.id.push(u),this.pendingNewsUnsubscriptions[u]=s,a.id=u,this.send(a)},i.prototype.unsubscribeTrade=function(e,t,n){var r=n||(t&&"function"==typeof t?t:null);if(this.isClosed()){var i=w.error("Stream is disconnected",{code:-1,reason:"Already disconnected"});this.events.fire("error",i)}else{var o={id:[],mimetype:this.format,callback:r,result:{notificationType:""}},s=this.buildTradeSubscribeRequest(e,o,f.messages.control.Action.UNSUBSCRIBE),a=this.requestid.next();o.id.push(a),this.pendingTradeUnsubscription[a]=o,s.id=a,this.send(s)}},i.prototype._handlejsonmsg=function(e){(0,d.iscontrolmessage)(e)?this.handlectrlmsg(e):(0,d.isdatamessage)(e)?this._handledatamsg(e):this.events.fire("error",e)},i.prototype._prepareSubscriptionRequests=function(e,t,n,r){for(var i=0,o=-1,s=e.length,a=t.types.includes("ORDERBOOK"),u=[],l=0;l<s;l++)((i=this._getUpdatedNumberOfEntitlements(t.types.length,i,e[l],a))>=this.maxEntitlementsPerSubscription||l===s-1)&&(u.push(this._buildRequest(e.slice(o+1,l+1),t,n,r)),o=l,i=0);return u},i.prototype._buildRequest=function(e,t,n,r){var i=new f.messages.control.SubscribeMessage;return i.action=n,i.symbols=e,i.types=t.types,i.mimetype=t.mimetype,r&&r.skipHeavyInitialLoad&&(i.skipHeavyInitialLoad=!0),r&&(i.conflation=r.conflation),i},i.prototype.prepareExchangeSubscriptionRequest=function(e,t,n,r){for(var i=[],o=e.length,s=0;s<o;s++)i.push(this.buildExchangeRequest(e[s],t,n,r));return i},i.prototype.buildExchangeRequest=function(e,t,n,r){var i=new f.messages.control.ExchangeSubscribeMessage;return i.action=n,i.exchange=e,i.mimetype=t.mimetype,r&&(i.conflation=r.conflation),i},i.prototype.buildNewsSubscribeRequest=function(e,t,n,r){var i=new f.messages.control.NewsSubscribeMessage;return i.action=n,i.newsFilters=e,i.mimetype=t.mimetype,r&&r.skipHeavyInitialLoad&&(i.skipHeavyInitialLoad=r.skipHeavyInitialLoad),i},i.prototype.buildAlertsSubUnsubRequest=function(e,t){var n=new f.messages.control.AlertsSubUnsubMessage;return n.operation=e,n.mimetype=t.mimetype,n},i.prototype.buildTradeSubscribeRequest=function(e,t,n){var r=new f.messages.control.TradeSubscribeMessage;return r.action=n,r.notificationType=e,r.mimetype=t.mimetype,r},i.prototype.buildNewsCommandRequest=function(e,t){var n=new f.messages.control.NewsCommandMessage;return n.newsAction=t,n.mimetype=e.mimetype,n},i.prototype._getUpdatedNumberOfEntitlements=function(e,t,n,r){var i=t;return r&&n.endsWith(":CC")?i+=14*e:i+=e,i},i.prototype.handlectrlmsg=function(e){switch(this.log.debug(E.msgfmt.fmt(e)),(0,d.messagetype)(e)){case f.messages.MessageTypeNames.ctrl.HEARTBEAT:this.onHeartbeat(e);break;case f.messages.MessageTypeNames.ctrl.SUBSCRIBE_RESPONSE:this.onSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.EXCHANGE_RESPONSE:this.onExchangeSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_SUBSCRIBE_RESPONSE:this.onNewsSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.ALERTS_SUBUNSUB_RESPONSE:this.onAlertsSubUnsubResponse(e);break;case f.messages.MessageTypeNames.ctrl.TRADE_SUBSCRIBE_RESPONSE:this.onTradeSubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.UNSUBSCRIBE_RESPONSE:this.onUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.EXCHANGE_UNSUBSCRIBE_RESPONSE:this.onExchangeUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_UNSUBSCRIBE_RESPONSE:this.onNewsUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_CMD_FILTER_REFRESH_RESPONSE:this.onNewsCmdFilterRefreshResponse(e);break;case f.messages.MessageTypeNames.ctrl.NEWS_CMD_FILTER_RESPONSE:this.onNewsCmdFilterResponse(e);break;case f.messages.MessageTypeNames.ctrl.TRADE_UNSUBSCRIBE_RESPONSE:this.onTradeUnsubscribeResponse(e);break;case f.messages.MessageTypeNames.ctrl.CONNECT_RESPONSE:this.onConnectResponse(e);break;case f.messages.MessageTypeNames.ctrl.CONNECTION_CLOSE:this.onConnectionClose(e);break;case f.messages.MessageTypeNames.ctrl.SLOW_CONNECTION:this.onSlowConnection(e);break;case f.messages.MessageTypeNames.ctrl.STATS_RESPONSE:this.onStatsResponse(e);break;case f.messages.MessageTypeNames.ctrl.INITIAL_DATA_SENT:this.onInitialDataSent(e);break;case f.messages.MessageTypeNames.ctrl.RESUBSCRIBE_MESSAGE:this.onResubscribeMessage(e);break;case f.messages.MessageTypeNames.ctrl.OPEN_FLOW:this.onOpenFlow(e);break;case f.messages.MessageTypeNames.ctrl.RECONNECT_RESPONSE:this.onReconnectMessage(e);break;case f.messages.MessageTypeNames.ctrl.MISSED_DATA_SENT:this.onMissedDataSent(e)}},i.prototype.onHeartbeat=function(e){},i.prototype.onSubscribeResponse=function(e){var t=this.pendingsubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.ids,e.__id),delete this.pendingsubscriptions[e.__id],200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;if(e.entitlements){var o=e.entitlements,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u,c=l,f=c.symbol,d=c.marketdatatype,p=c.entitlement;l={symbol:f,type:d},"NA"!==p?(this.log.debug("SUBSCRIBED <"+f+", "+d+">"),l.entitlement=p,i.subscribed.push(l)):(this.log.warn("NOT ENTITLED <"+f+","+d+">"),i.unentitled.push(l))}}if(e.rejectedSymbols){var h=e.rejectedSymbols,m=Array.isArray(h),E=0;for(h=m?h:h[Symbol.iterator]();;){var _;if(m){if(E>=h.length)break;_=h[E++]}else{if((E=h.next()).done)break;_=E.value}f=_;this.log.warn("REJECTED "+f),i.rejected.push(f)}}if(e.invalidSymbols){var g=e.invalidSymbols,T=Array.isArray(g),b=0;for(g=T?g:g[Symbol.iterator]();;){var y,S;if(T){if(b>=g.length)break;S=g[b++]}else{if((b=g.next()).done)break;S=b.value}var v=S;this.log.warn("INVALID SYMBOL "+v),(y=i.invalidSymbols).push.apply(y,e.invalidSymbols)}}0!==t.ids.length||t.failed||n&&n(null,t.result)},i.prototype.onExchangeSubscribeResponse=function(e){var t=this.pendingExchangeSubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingExchangeSubscriptions[e.__id],console.log(e),200!=e.code){var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}0===t.id.length&&n&&n(null,t)},i.prototype.onNewsSubscribeResponse=function(e){var t=this.pendingNewsSubscriptions[e.__id],n=t.callback;(0,O.removeFromArray)(t.id,e.__id),delete this.pendingNewsSubscriptions[e.__id];var r=t.result;if(console.log(e),200!=e.code){var i=w.error("Error subscribing to news",{code:e.code,reason:e.reason});return this.events.fire("error",i),void(n&&t.callback(i))}if(e.newsFilters){var o=e.newsFilters,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u;r.newsFilters.push(l)}}if(e.rejectedNewsFilters){var c=e.rejectedNewsFilters,f=Array.isArray(c),d=0;for(c=f?c:c[Symbol.iterator]();;){var p;if(f){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p;r.rejectedNewsFilters.push(h)}}if(e.unentitledNewsFilters){var m=e.unentitledNewsFilters,E=Array.isArray(m),_=0;for(m=E?m:m[Symbol.iterator]();;){var g;if(E){if(_>=m.length)break;g=m[_++]}else{if((_=m.next()).done)break;g=_.value}var T=g;r.unentitledNewsFilters.push(T)}}0===t.id.length&&n&&n(null,t.result)},i.prototype.onAlertsSubUnsubResponse=function(e){var t=this.pendingAlertSubscription[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingAlertSubscription[e.__id],console.log(e),200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;e.operation&&(this.log.debug("Alerts "+e.operation),i.operation=e.operation),0===t.id.length&&n&&n(null,t.result)},i.prototype.onTradeSubscribeResponse=function(e){var t=this.pendingTradeSubscription[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingTradeSubscription[e.__id],console.log(e),200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error subscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;e.notificationType&&(this.log.debug("Trade "+e.notificationType),i.notificationType=e.notificationType),0===t.id.length&&n&&n(null,t.result)},i.prototype.onNewsUnsubscribeResponse=function(e){var t=this.pendingNewsUnsubscriptions[e.__id],n=t.callback;(0,O.removeFromArray)(t.id,e.__id),delete this.pendingNewsUnsubscriptions[e.__id],console.log("msg",e);var r=t.result;if(200!=e.code&&!t.failed){t.failed=!0;var i=w.error("Error unsubscribing to news",{code:e.code,reason:e.reason});return this.events.fire("error",i),void(n&&t.callback(i))}if(e.newsFilters){var o=e.newsFilters,s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var l=u;r.unsubscribed.push(l)}}0===t.id.length&&n&&n(null,t.result)},i.prototype.onTradeUnsubscribeResponse=function(e){var t=this.pendingTradeUnsubscription[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingTradeUnsubscription[e.__id],console.log(e),200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error unsubscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}var i=t.result;e.notificationType&&(this.log.debug("Trade "+e.notificationType),i.notificationType=e.notificationType),0===t.id.length&&n&&n(null,t.result)},i.prototype.onNewsCmdFilterRefreshResponse=function(e){if(console.log("msg",e),200==e.code)this.events.fire("msg",e);else{var t=w.error("Error Refreshing News Filters",{code:e.code,reason:e.reason});this.events.fire("error",t)}},i.prototype.onNewsCmdFilterResponse=function(e){if(console.log("msg",e),200==e.code)this.events.fire("filter status",e);else{var t=w.error("Error Getting News Filters Status",{code:e.code,reason:e.reason});this.events.fire("error",t)}},i.prototype.onUnsubscribeResponse=function(e){var t=this.pendingUnsubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.ids,e.__id),delete this.pendingUnsubscriptions[e.__id],200!=e.code&&!t.failed){t.failed=!0;var r=w.error("Error unsubscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&n(r))}for(var i=0;i<e.unsubscribed.length;++i){var o=t.result,s=e.unsubscribed[i],a=s.symbol,u=s.marketdatatype;this.log.debug("UNSUBSCRIBED <"+a+", "+u+">"),o.unsubscribed.push({symbol:a,type:u})}0!==t.ids.length||t.failed||n&&n(null,t.result)},i.prototype.onExchangeUnsubscribeResponse=function(e){var t=this.pendingExchangeUnsubscriptions[e.__id],n=t.callback;if((0,O.removeFromArray)(t.id,e.__id),delete this.pendingExchangeUnsubscriptions[e.__id],console.log(e),200!=e.code){var r=w.error("Error unsubscribing",{code:e.code,reason:e.reason});return this.events.fire("error",r),void(n&&t.callback(r))}0===t.id.length&&n&&n(null,t)},i.prototype.onReconnectMessage=function(e){450===e.code&&(this.events.fire("slow","Reconnection recieved a slow code: "+e.code),this._isSlowConnection=!0,this.conn.setReconnect=!1),this.events.fire("reconnectMessage",e),console.log(e)},i.prototype.onConnectResponse=function(e){if(200!==e.code){var t=w.error("Connection failed",{code:e.code,reason:e.reason});return this.events.fire("error",t),this.pendingConnection&&this.pendingConnection(t),void this.doClose(t)}if(this._serverversion=e.version,this.maxEntitlementsPerSubscription=e.maxEntitlementsPerSubscription,this.isClosed()){var n=w.error("Connection was already closed",{code:-1,reason:"Already disconnected"});return this.events.fire("error",n),void(this.pendingConnection&&this.pendingConnection(n))}this.conn.setServer(e.serverInstance),this.pendingConnection&&this.pendingConnection(null,this)},i.prototype.onConnectionClose=function(e){this.doClose(w.close({reason:e.reason,code:e.code}))},i.prototype.onSlowConnection=function(e){this.log.debug(E.msgfmt.fmt(e)),this.events.fire("slow",e)},i.prototype.onStatsResponse=function(e){if(200==e.code)this.events.fire("stats",e);else{var t=w.error("Error getting stats",{code:e.code,reason:e.reason});this.events.fire("error",t)}},i.prototype.onInitialDataSent=function(e){this.log.debug(E.msgfmt.fmt(e)),this.events.fire("initialDataSent",e)},i.prototype.onResubscribeMessage=function(e){this.log.debug(E.msgfmt.fmt(e)),this.events.fire("resubscribeMessage",e)},i.prototype.onMissedDataSent=function(e){this.log.debug(E.msgfmt.fmt(e)),this.events.fire("missedDataSent",e)},i.prototype.onOpenFlow=function(e){this.conn.send(e)},i.prototype._handledatamsg=function(e){this.events.fire("message",e)},i.prototype.send=function(e){this.conn&&this.conn.send(e)},i.prototype.doClose=function(e){if(!this.isClosed()){var t=this.conn;this.conn=null,t.close(),this.events.fire("close",e),t.isReconnect()&&(this.events=new m["default"],this.conn=t)}},i.prototype.performReconnect=function(e){if(null!=this.conn&&this.conn.isReconnect()){if(this.conn.isConnectionUp)return void this.log.warn("Connection is not closed and won't try reconnect.");this.conn.setReconnect(!0),this.conn.tryReopen(),e&&e()}else this.log.warn("Reconnect flag is set to false")},i.prototype.close=function(e){this.doClose(w.close({reason:"Manually closed",code:200})),e&&e()},i.prototype.isClosed=function(){return null==this.conn},i}();b["default"]=g}).call(this,T("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},T("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],T("timers").setImmediate,T("timers").clearImmediate,"/lib/stomp/StompStream.js","/lib/stomp")},{"../EventSupport.js":2,"../UShortId.js":9,"../formatting.js":13,"../logging.js":16,"../polyfills.js":18,"../streamer-api.js":108,"../streamer-events.js":109,"../streamer-utils.js":110,"../utils.js":115,_process:131,buffer:121,timers:152}],107:[function(v,e,O){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";O.__esModule=!0,v("../polyfills.js");var f=v("../logging.js"),d=v("../streamer-api.js"),p=v("../message.js"),h=_(v("../transmission/JsonStompTransmitter.js")),m=_(v("./StompConnection.js")),E=_(v("./StompStream.js"));function _(e){return e&&e.__esModule?e:{"default":e}}var g="/ping/v1",T="/version/v1",b="/stream/connect",y="",S=function(){function o(e,t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.http=e,this.stompJs=t,this.log=(0,f.asLogger)(n),this.config=r||{},this.maxReconnectAttempts=this.config.maxReconnectAttempts,this.format=this.config.format,"application/json"===this.config.format&&(this.createTransmitter=function(e){return new h["default"](e,i.log)})}return o.prototype.openStompSocket=function(t,e){y="";var n={"X-Stream-Version":d.VERSION,"X-Stream-Lib":d.LIBRARY_NAME};this.addToHeaderParams("X-Stream-Version",d.VERSION),this.addToHeaderParams("X-Stream-Lib",d.LIBRARY_NAME);var r=this.config.conflation;null!=r&&""!==r&&(n["X-Stream-Conflation"]=r,this.addToHeaderParams("X-Stream-Conflation",r)),null!=e&&""!==e&&(n["X-Stream-Previous-Connection-Id"]=e,this.addToHeaderParams("X-Stream-Previous-Connection-Id",e));var i=this.config.rejectExcessiveConnection;null!=i&&""!==i&&(n["X-Stream-Reject"]=i,this.addToHeaderParams("X-Stream-Reject",i)),"application/json"!==this.config.format&&this.config.format!==p.MimeTypes.QITCH||(n["X-Stream-Format"]=this.format,this.addToHeaderParams("X-Stream-Format",this.format)),"true"===this.config.updatesOnly&&(n["X-Stream-UpdatesOnly"]=!0,this.addToHeaderParams("X-Stream-UpdatesOnly",!0));var o=this.config.isReconnect;null!=o&&""!==o&&(n["x-Stream-isReconnect"]=o,this.addToHeaderParams("x-Stream-isReconnect",o));var s=this.config.alwaysReconnect;null!=s&&""!==s&&(n["x-Stream-isAlwaysReopen"]=s,this.addToHeaderParams("x-Stream-isAlwaysReopen",s)),"ALL"===this.config.isMissedData?(n["X-Stream-isReceiveAllMissedData"]=!0,this.addToHeaderParams("X-Stream-isReceiveAllMissedData",!0)):"LATEST"===this.config.isMissedData&&(n["X-Stream-isReceiveLatestMissedData"]=!0,this.addToHeaderParams("X-Stream-isReceiveLatestMissedData",!0));var a=this.config.stompWmid;null!=a&&(n.wmid=a,this.addToHeaderParams("wmid",a)),Object.assign(n,this.config.credentials.getHeaders());var u=this.config.url+b+y,l=this.stompJs.Stomp.client(u),c=new d.messages.control.AuthenticationMessage;return this.config.credentials.sid!==undefined?(c.authenticationMethod="sid",c.authorization=this.config.credentials.sid):this.config.credentials.wmid!==undefined&&this.config.credentials.token!==undefined?(c.authenticationMethod="enterprise",c.wmid=this.config.credentials.wmid,c.authorization=this.config.credentials.token):this.config.credentials.wmid!==undefined?(c.authenticationMethod="wmid",c.authorization=this.config.credentials.wmid):this.config.credentials.data_token!==undefined&&(c.authenticationMethod="datatool",c.authorization=this.config.credentials.data_token),null!=this.config.conflation&&""!==this.config.conflation&&(c.conflation=this.config.conflation),null!=this.config.rejectExcessiveConnection&&""!==this.config.rejectExcessiveConnection&&(c.rejectExcessiveConnection=this.config.rejectExcessiveConnection),l.connect(n,function(e){l.subscribe("/user/queue/messages",function(e){t(n).onMessage(e)}),t(n).onOpen(e),l.send("/stream/message",n,JSON.stringify(c))},function(e){t(n).onError(e)}),{send:function(e){l.send("/stream/message",n,e)},close:function(){l.disconnect(function(){t(n).onClose()})}}},o.prototype.createStompConnection=function(){var n=this;return new m["default"](function(e){return n.createTransmitter(e)},function(e,t){return n.openStompSocket(e,t)},this.log,this.maxReconnectAttempts,this.config.host+g)},o.prototype.openStompStream=function(e){new E["default"](this,this.format,this.log).openStomp(e)},o.prototype.ping=function(t){this.http({url:this.config.host+g,success:function(e){return t(null,e)},type:"GET",failure:t})},o.prototype.getVersion=function(t){this.http({url:this.config.host+T,success:function(e){return t(null,e)},type:"GET",failure:t})},o.prototype.addToHeaderParams=function(e,t){y=""===y?y+"?"+e+"="+t:y+"&"+e+"="+t},o}();O["default"]=S}).call(this,v("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],v("timers").setImmediate,v("timers").clearImmediate,"/lib/stomp/StompStreamingService.js","/lib/stomp")},{"../logging.js":16,"../message.js":17,"../polyfills.js":18,"../streamer-api.js":108,"../transmission/JsonStompTransmitter.js":111,"./StompConnection.js":105,"./StompStream.js":106,_process:131,buffer:121,timers:152}],108:[function(e,t,d){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";d.__esModule=!0;d.LIBRARY_NAME="JavaScript",d.VERSION="2.38.0";var f=d.messages={};f.control={},f.market={},f.JSON_TYPE_PROPERTY="@T",f.MessageTypeNames={ctrl:{HEARTBEAT:"C1",SUBSCRIBE:"C2",SUBSCRIBE_RESPONSE:"C3",UNSUBSCRIBE_RESPONSE:"C4",CONNECT_RESPONSE:"C5",CONNECTION_CLOSE:"C6",FLOW:"C7",SLOW_CONNECTION:"C8",INITIAL_DATA_SENT:"C9",RESUBSCRIBE_MESSAGE:"C10",STATS:"C12",STATS_RESPONSE:"C13",EXCHANGE_SUBSCRIBE:"C14",EXCHANGE_RESPONSE:"C15",EXCHANGE_UNSUBSCRIBE_RESPONSE:"C16",NEWS_SUBSCRIBE:"C17",NEWS_SUBSCRIBE_RESPONSE:"C18",ALERTS_SUBUNSUB:"C19",ALERTS_SUBUNSUB_RESPONSE:"C20",TRADE_SUBSCRIBE:"C21",TRADE_SUBSCRIBE_RESPONSE:"C22",NEWS_UNSUBSCRIBE_RESPONSE:"C23",NEWS_COMMAND:"C24",NEWS_CMD_FILTER_REFRESH_RESPONSE:"C25",NEWS_CMD_FILTER_RESPONSE:"C26",AUTHENTICATION:"C27",OPEN_FLOW:"C28",RECONNECT_RESPONSE:"C29",TRADE_UNSUBSCRIBE_RESPONSE:"C30",MISSED_DATA_SENT:"C31"},data:{QUOTE:"D1",PRICEDATA:"D2",TRADE:"D3",BOOKORDER:"D4",BOOKDELETE:"D5",PURGEBOOK:"D6",MMQUOTE:"D7",INTERVAL:"D8",NETHOUSEPOSITION:"D9",SYMBOLINFO:"D10",SYMBOLSTATUS:"D11",DERIVATIVEINFO:"D12",LASTSALE:"D13",LIMITUPLIMITDOWN:"D14",IVGREEKS:"D15",IMBALANCESTATUS:"D16",ALERT:"D17",NEWS:"D18",TRADENOTIFICATION:"D19",NEWSCMDFILTER:"D20",NEWSERROR:"D21",DIVIDEND:"D22"}},f.Message=function(){},f.Message.prototype.init=function(e){this[f.JSON_TYPE_PROPERTY]=e},f.control.CtrlMessage=function(){},f.control.CtrlMessage.prototype=new f.Message,f.control.Heartbeat=function(){this.init(f.MessageTypeNames.ctrl.HEARTBEAT),this.timestamp=null},f.control.Heartbeat.prototype=new f.control.CtrlMessage,f.control.StatsMessage=function(){this.init(f.MessageTypeNames.ctrl.STATS)},f.control.StatsMessage.prototype=new f.control.CtrlMessage,f.control.SubscribeMessage=function(){this.init(f.MessageTypeNames.ctrl.SUBSCRIBE),this.action=null,this.symbols=[],this.types=[],this.mimetype=null,this.conflation=null},f.control.SubscribeMessage.prototype=new f.control.CtrlMessage,f.control.ExchangeSubscribeMessage=function(){this.init(f.MessageTypeNames.ctrl.EXCHANGE_SUBSCRIBE),this.action=null,this.exchange=null,this.mimetype=null,this.conflation=null},f.control.ExchangeSubscribeMessage.prototype=new f.control.CtrlMessage,f.control.NewsSubscribeMessage=function(){this.init(f.MessageTypeNames.ctrl.NEWS_SUBSCRIBE),this.action=null,this.newsFilters=null,this.mimetype=null},f.control.NewsSubscribeMessage.prototype=new f.control.CtrlMessage,f.control.NewsCommandMessage=function(){this.init(f.MessageTypeNames.ctrl.NEWS_COMMAND),this.newsAction=null,this.mimetype=null},f.control.NewsCommandMessage.prototype=new f.control.CtrlMessage,f.control.AlertsSubUnsubMessage=function(){this.init(f.MessageTypeNames.ctrl.ALERTS_SUBUNSUB),this.operation=null,this.mimetype=null},f.control.AlertsSubUnsubMessage.prototype=new f.control.CtrlMessage,f.control.TradeSubscribeMessage=function(){this.init(f.MessageTypeNames.ctrl.TRADE_SUBSCRIBE),this.action=null,this.notificationType=null,this.mimetype=null},f.control.TradeSubscribeMessage.prototype=new f.control.CtrlMessage,f.control.BaseResponse=function(){this.code=null,this.reason=null},f.control.BaseResponse.prototype=new f.control.CtrlMessage,f.control.SubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.SUBSCRIBE_RESPONSE),this.entitlements=null,this.invalidsymbols=null,this.rejectedsymbols=null},f.control.SubscribeResponse.prototype=new f.control.BaseResponse,f.control.ExchangeSubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.EXCHANGE_RESPONSE)},f.control.ExchangeSubscribeResponse.prototype=new f.control.BaseResponse,f.control.AlertSubUnsubResponse=function(){this.init(f.MessageTypeNames.ctrl.ALERTS_SUBUNSUB_RESPONSE)},f.control.AlertSubUnsubResponse.prototype=new f.control.BaseResponse,f.control.TradeSubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.TRADE_SUBSCRIBE_RESPONSE)},f.control.TradeSubscribeResponse.prototype=new f.control.BaseResponse,f.control.UnsubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.UNSUBSCRIBE_RESPONSE),this.unsubscribed=null},f.control.UnsubscribeResponse.prototype=new f.control.BaseResponse,f.control.ExchangeUnsubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.EXCHANGE_UNSUBSCRIBE_RESPONSE)},f.control.ExchangeUnsubscribeResponse.prototype=new f.control.BaseResponse,f.control.NewsUnsubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.NEWS_UNSUBSCRIBE_RESPONSE),this.unsubscribed=null},f.control.NewsUnsubscribeResponse.prototype=new f.control.BaseResponse,f.control.TradeUnsubscribeResponse=function(){this.init(f.MessageTypeNames.ctrl.TRADE_UNSUBSCRIBE_RESPONSE)},f.control.TradeUnsubscribeResponse.prototype=new f.control.BaseResponse,f.control.StreamEntitlement=function(){this.symbol=null,this.marketdatatype=null,this.entitlement=null},f.control.ConnectResponse=function(){this.init(f.MessageTypeNames.ctrl.CONNECT_RESPONSE),this.version=null,this.flowControlCheckInterval=null,this.serverInstance=null,this.conflationMs=null},f.control.ConnectResponse.prototype=new f.control.BaseResponse,f.control.ReconnectResponse=function(){undefined.init(f.MessageTypeNames.ctrl.RECONNECT_RESPONSE),undefined.version=null,undefined.flowControlCheckInterval=null,undefined.serverInstance=null,undefined.conflationMs=null,undefined.previousSubscriptions=null},f.control.ConnectionClose=function(){this.init(f.MessageTypeNames.ctrl.CONNECTION_CLOSE),this.code=null,this.reason=null},f.control.ConnectionClose.prototype=new f.control.CtrlMessage,f.control.SlowConnection=function(){this.init(f.MessageTypeNames.ctrl.SLOW_CONNECTION),this.timesExceeded=null,this.maxExceed=null},f.control.SlowConnection.prototype=new f.control.CtrlMessage,f.control.FlowMessage=function(){this.init(f.MessageTypeNames.ctrl.FLOW),this.sequence=null},f.control.FlowMessage.prototype=new f.control.CtrlMessage,f.control.AuthenticationMessage=function(){this.init(f.MessageTypeNames.ctrl.AUTHENTICATION),this.authenticationMethod=null,this.wmid=null,this.authorization=null,this.conflation=150,this.rejectExcessiveConnection=!1},f.control.AuthenticationMessage.prototype=new f.control.CtrlMessage,f.control.StatsResponse=function(){this.init(f.MessageTypeNames.ctrl.STATS_RESPONSE),this.numberOfSubscribedSymbolsL1=null,this.numberOfAvailableSymbolsL1=null,this.numberOfSubscribedSymbolsL2=null,this.numberOfAvailableSymbolsL2=null,this.numberOfOpenedConnections=null,this.numberOfAvailableConnections=null,this.numberOfSubscribedExchanges=null,this.numberOfSubscribedTrades=null},f.control.StatsResponse.prototype=new f.control.BaseResponse,f.control.InitialDataSent=function(){this.init(f.MessageTypeNames.ctrl.INITIAL_DATA_SENT),this.timestamp=null},f.control.InitialDataSent.prototype=new f.control.CtrlMessage,f.control.ResubscribeMessage=function(){this.init(f.MessageTypeNames.ctrl.RESUBSCRIBE_MESSAGE),this.timestamp=null},f.control.ResubscribeMessage.prototype=new f.control.CtrlMessage,f.control.MissedDataSent=function(){this.init(f.MessageTypeNames.ctrl.MISSED_DATA_SENT),this.timestamp=null},f.control.MissedDataSent.prototype=new f.control.CtrlMessage,f.control.StreamEntitlementType={RT:"Realtime",RTO:"Realtime CBOE ONE",RTN:"Realtime NASDAQ",RTB:"Realtime BATS",DL:"Delayed",DLO:"Delayed CBOE One",DLN:"Delayed NASDAQ",NA:"Not Entitled"},f.control.Action={SUBSCRIBE:"SUBSCRIBE",UNSUBSCRIBE:"UNSUBSCRIBE"},f.control.Association={AND:"AND",OR:"OR",NOT:"NOT"},f.control.MarketdataType={QUOTE:"QUOTE",PRICEDATA:"PRICEDATA",TRADE:"TRADE",MMQUOTE:"MMQUOTE",ORDERBOOK:"ORDERBOOK",INTERVAL:"INTERVAL",NETHOUSEPOSITION:"NETHOUSEPOSITION",LASTSALE:"LASTSALE",BOOKORDER:"BOOKORDER",BOOKDELETE:"BOOKDELETE",PURGEBOOK:"PURGEBOOK",LIMITUPLIMITDOWN:"LIMITUPLIMITDOWN",IVGREEKS:"IVGREEKS",IMBALANCESTATUS:"IMBALANCESTATUS"},f.market.SubscriptionTypes={QUOTE:"QUOTE",PRICEDATA:"PRICEDATA",TRADE:"TRADE",MMQUOTE:"MMQUOTE",ORDERBOOK:"ORDERBOOK",INTERVAL:"INTERVAL",NETHOUSEPOSITION:"NETHOUSEPOSITION",LASTSALE:"LASTSALE",LIMITUPLIMITDOWN:"LIMITUPLIMITDOWN",IVGREEKS:"IVGREEKS",IMBALANCESTATUS:"IMBALANCESTATUS"},f.market.MarketDataResponseTypes={QUOTE:"QUOTE",PRICEDATA:"PRICEDATA",TRADE:"TRADE",INTERVAL:"INTERVAL",NETHOUSEPOSITION:"NETHOUSEPOSITION",MMQUOTE:"MMQUOTE",BOOKORDER:"BOOKORDER",PURGEBOOK:"PURGEBOOK",BOOKDELETE:"BOOKDELETE",SYMBOLINFO:"SYMBOLINFO",SYMBOLSTATUS:"SYMBOLSTATUS",DERIVATIVEINFO:"DERIVATIVEINFO",LASTSALE:"LASTSALE",LIMITUPLIMITDOWN:"LIMITUPLIMITDOWN",IVGREEKS:"IVGREEKS",IMBALANCESTATUS:"IMBALANCESTATUS",ALERT:"ALERT",NEWS:"NEWS",TRADENOTIFICATION:"TRADENOTIFICATION",NEWSCMDFILTER:"NEWSCMDFILTER",NEWSERROR:"NEWSERROR",DIVIDEND:"DIVIDEND"},f.control.ResponseCodes={OK_CODE:200,OK_REASON:"OK",BADREQUEST_CODE:400,BADREQUEST_REASON:"Bad Request",UNAUTHORIZED_CODE:401,UNAUTHORIZED_REASON:"Unauthorized",TOOSLOW_CODE:450,TOOSLOW_REASON:"Too slow",DATA_SOURCE_RESET:454,DATA_SOURCE_RESET_REASON:"Data Source Was Reset",CONNECTION_LIMIT_EXCEEDED_CODE:452,CONNECTION_LIMIT_EXCEEDED_REASON:"Connection Limit Exceeded",INTERNALSERVERERROR_CODE:500,INTERNALSERVERERROR_REASON:"Internal Server Error"},f.market.DataMessage=function(){this.messageType=null},f.market.DataMessage.prototype=new f.Message,f.market.Quote=function(){this.init(f.MessageTypeNames.data.QUOTE)},f.market.Quote.prototype=new f.market.DataMessage,f.market.PriceData=function(){this.init(f.MessageTypeNames.data.PRICEDATA)},f.market.PriceData.prototype=new f.market.DataMessage,f.market.Trade=function(){this.init(f.MessageTypeNames.data.TRADE)},f.market.Trade.prototype=new f.market.DataMessage,f.market.MMQuote=function(){this.init(f.MessageTypeNames.data.MMQUOTE)},f.market.MMQuote.prototype=new f.market.DataMessage,f.market.PurgeBook=function(){this.init(f.MessageTypeNames.data.PURGEBOOK)},f.market.PurgeBook.prototype=new f.market.DataMessage,f.market.BookOrder=function(){this.init(f.MessageTypeNames.data.BOOKORDER)},f.market.BookOrder.prototype=new f.market.DataMessage,f.market.BookDelete=function(){this.init(f.MessageTypeNames.data.BOOKDELETE)},f.market.BookDelete.prototype=new f.market.DataMessage,f.market.Interval=function(){this.init(f.MessageTypeNames.data.INTERVAL)},f.market.Interval.prototype=new f.market.DataMessage,f.market.NethousePosition=function(){this.init(f.MessageTypeNames.data.NETHOUSEPOSITION)},f.market.NethousePosition.prototype=new f.market.DataMessage,f.market.SymbolInfo=function(){this.init(f.MessageTypeNames.data.SYMBOLINFO)},f.market.SymbolInfo.prototype=new f.market.DataMessage,f.market.SymbolStatus=function(){this.init(f.MessageTypeNames.data.SYMBOLSTATUS)},f.market.SymbolStatus.prototype=new f.market.DataMessage,f.market.DerivativeInfo=function(){this.init(f.MessageTypeNames.data.DERIVATIVEINFO)},f.market.DerivativeInfo.prototype=new f.market.DataMessage,f.market.IVGreeks=function(){this.init(f.MessageTypeNames.data.IVGREEKS)},f.market.IVGreeks.prototype=new f.market.DataMessage,f.market.LastSale=function(){this.init(f.MessageTypeNames.data.LASTSALE)},f.market.LastSale.prototype=new f.market.DataMessage,f.market.LimitUpLimitDown=function(){this.init(f.MessageTypeNames.data.LIMITUPLIMITDOWN)},f.market.LimitUpLimitDown.prototype=new f.market.DataMessage,f.market.ImbalanceStatus=function(){this.init(f.MessageTypeNames.data.IMBALANCESTATUS)},f.market.ImbalanceStatus.prototype=new f.market.DataMessage,f.market.Alert=function(){this.init(f.MessageTypeNames.data.ALERT)},f.market.Alert.prototype=new f.market.DataMessage,f.market.InstrumentType={1:"CASH",2:"BOND",3:"COMPOSITE",4:"FUTURE",5:"FUTURE_OPTION",6:"FOREX",7:"INDEX",8:"MUTUAL_FUND",9:"MONEY_MARKET_FUND",10:"MARKET_STAT",11:"EQUITY",12:"EQUITY_OPTION",13:"GOVT_BOND",14:"MUNI_BOND",15:"CORP_BOND",16:"ETF",17:"FUTURE_SPREAD",97:"OPTION_ROOT",98:"UNKNOWN",99:"RATE"},f.market.OrderSide={BUYSIDE:"B",SELLSIDE:"S"},f.market.ImbalanceType={0:"NONE",1:"MARKET",2:"MOC",3:"REGULATORY_IMBALANCE",4:"OPENING_IMBALANCE",5:"CLOSING_IMBALANCE",6:"IPO_IMBALANCE",7:"HALT_IMBALANCE",8:"EQUILIBRIUM"},f.market.OrderChangeType={A:"ADD",M:"MODIFY",C:"CANCEL",E:"EXECUTE"}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/streamer-api.js","/lib")},{_process:131,buffer:121,timers:152}],109:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,p("./polyfills");var f=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,e)}return t.prototype.toString=function(){var e=this.type+"{",t=!0;for(var n in this)"type"!==n&&"function"!=typeof this[n]&&(t||(e+=", "),e+=n+": "+JSON.stringify(this[n]),t=!1);return e+="}"},t}(),d=h.event=function(e,t){return new f(Object.assign({type:e},t))};h.error=function(e,t){return d("error",Object.assign({description:e},t))},h.close=function(e){return d("close",e)}}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/streamer-events.js","/lib")},{"./polyfills":18,_process:131,buffer:121,timers:152}],110:[function(p,e,h){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";h.__esModule=!0,h.getMessageName=h.entitlement=h.isvalid=h.iscontrolmessage=h.isdatamessage=h.messagetype=undefined;var f,d=p("./streamer-api.js");h.messagetype=function(e){return null===e?null:e[d.messages.JSON_TYPE_PROPERTY]},h.isdatamessage=function(e){if(null===e)return!1;var t=h.messagetype(e);return null!==t&&t.startsWith("D")},h.iscontrolmessage=function(e){if(null===e)return!1;var t=h.messagetype(e);return null!==t&&t.startsWith("C")},h.isvalid=function(e,t){var n=t.invalidSymbols;if(null==n)return!0;for(var r=0;r<n.length;r++){if(n[r]===e)return!1}return!0},h.entitlement=function(e,t,n){var r=n.entitlements;if(null!=r)for(var i=0;i<r.length;i++){var o=r[i];if(o.symbol===e&&o.marketdatatype===t)return o.entitlement}return null},h.getMessageName=(f={},function(e){var t=e[d.messages.JSON_TYPE_PROPERTY];if(!f[t]){var n=d.messages.MessageTypeNames.ctrl;for(var r in n)if(n[r]===t)return f[t]=r;var i=d.messages.MessageTypeNames.data;for(var o in i)if(i[o]===t)return f[t]=o;return f[t]=t}return f[t]})}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/lib/streamer-utils.js","/lib")},{"./streamer-api.js":108,_process:131,buffer:121,timers:152}],111:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0;var f,d=m("../EventSupport.js"),p=(f=d)&&f.__esModule?f:{"default":f};var h=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.socket=e,this.log=t,this.events=new p["default"](this)}return n.prototype.send=function(e,t){this.socket.send(JSON.stringify(e))},n.prototype.onMessage=function(e){var t=null;try{t=JSON.parse(e)}catch(r){return void this.log.error(r)}var n=t;n.__id=n.requestId,this.events.fire("message",n)},n.prototype.on=function(e,t){return this.events.on(e,t)},n}();E["default"]=h}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/transmission/JsonStompTransmitter.js","/lib/transmission")},{"../EventSupport.js":2,_process:131,buffer:121,timers:152}],112:[function(m,e,E){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";E.__esModule=!0;m("../message.js");var f,d=m("../EventSupport.js"),p=(f=d)&&f.__esModule?f:{"default":f};var h=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.socket=e,this.log=t,this.events=new p["default"](this)}return n.prototype.send=function(e,t){this.socket.push({trackMessageLength:!0,data:JSON.stringify(e)})},n.prototype.onMessage=function(e){var t=null;try{t=JSON.parse(e)}catch(o){return void this.log.error(o)}this.events.fire("sequence",t.seq);for(var n=t.data.length,r=0;r<n;r++){var i=t.data[r];i.__id=i.requestId,this.events.fire("message",i)}},n.prototype.on=function(e,t){return this.events.on(e,t)},n}();E["default"]=h}).call(this,m("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],m("timers").setImmediate,m("timers").clearImmediate,"/lib/transmission/JsonTransmitter.js","/lib/transmission")},{"../EventSupport.js":2,"../message.js":17,_process:131,buffer:121,timers:152}],113:[function(S,e,v){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";v.__esModule=!0;var f=b(S("../EventSupport.js")),d=b(S("../SMessage")),p=S("../qitch/decoder/QitchDecoder"),h=b(p),m=b(S("../qitch/encoder/QitchEncoder")),E=b(S("../UShortId.js")),_=S("../message.js"),g=b(S("../qitch/LocateCodeInjector")),T=S("../utils");function b(e){return e&&e.__esModule?e:{"default":e}}var y=function(){function r(e,t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.socket=e,!(t instanceof m["default"]))throw"Wrong encoder";this.encoder=t,this.log=n,this.events=new f["default"](this),this.decoder=new h["default"](r.prototype.DEFAULT_BUFFERSIZE),this.locateCodeInjector=new g["default"]}return r.prototype.send=function(e,t){var n=new d["default"];n.sequencenumber=e.sequenceNumber,n.timestamp=(new Date).getTime(),n.id=null!=t?t:E["default"].NULL,n.encoding=_.Encodings.NONE_CHAR,n.mimetype=_.MimeTypes.QITCH_CHAR,n.payload=e;var r={trackMessageLength:!1,data:this.encoder.encode(n,0)};this.socket.push(r)},r.prototype.onMessage=function(e){var t=void 0;t=e instanceof ArrayBuffer?e:(0,T.asciiStringToArrayBuffer)(e);var n=null;try{n=this.decoder.decode(new Int8Array(t))}catch(o){return void this.log.error(o)}if(null!=n)for(var r=0;r<n.length;r++)if(n[r]instanceof p.MessageBlock)for(var i=0;i<n[r].messages.length;i++)this._processMessage(n[r].messages[i]);else this._processMessage(n[r]);else this.log.debug("Couldn't decode message. Ignoring unsupported message")},r.prototype.on=function(e,t){return this.events.on(e,t)},r.prototype._processMessage=function(e){this.locateCodeInjector.injectLocateCode(e.decodedPayload),this.events.fire("sequence",e.sequencenumber),e.decodedPayload.__id=e.id,this.events.fire("message",e.decodedPayload)},r}();y.prototype.DEFAULT_BUFFERSIZE=4096,v["default"]=y}).call(this,S("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},S("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],S("timers").setImmediate,S("timers").clearImmediate,"/lib/transmission/QitchTransmitter.js","/lib/transmission")},{"../EventSupport.js":2,"../SMessage":5,"../UShortId.js":9,"../message.js":17,"../qitch/LocateCodeInjector":23,"../qitch/decoder/QitchDecoder":46,"../qitch/encoder/QitchEncoder":76,"../utils":115,_process:131,buffer:121,timers:152}],114:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";g.__esModule=!0;var f=_("../message.js"),d=m(_("../SMessage.js")),p=m(_("../UShortId.js")),h=m(_("../EventSupport.js"));_("../formatting.js");function m(e){return e&&e.__esModule?e:{"default":e}}var E=function(){function i(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.socket=e,this.encoder=t,this.decoder=n,this.log=r,this.events=new h["default"](this)}return i.prototype.send=function(e,t){var n=new d["default"];n.sequencenumber=e.sequenceNumber,n.timestamp=(new Date).getTime(),n.id=null!=t?t:p["default"].NULL,n.encoding=f.Encodings.NONE_CHAR,n.mimetype=f.MimeTypes.JSON_CHAR,n.payload=JSON.stringify(e);var r={trackMessageLength:!0,data:this.encoder.encode(n)};this.socket.push(r)},i.prototype.onMessage=function(e){var t=this.decoder.decode(e);if(this.events.fire("sequence",t.sequencenumber),t.encoding===f.Encodings.NONE_CHAR)if(t.mimetype===f.MimeTypes.JSON_CHAR){var n=null;try{n=JSON.parse(t.payload)}catch(r){return void this.log.error(r)}n.__id=t.id,this.events.fire("message",n)}else this.log.debug("Unhandled mimetype: "+t.mimeType+" - "+t.payload);else this.log.debug("Unhandled encoding: "+t.encoding+" - "+t.payload)},i.prototype.on=function(e,t){return this.events.on(e,t)},i}();g["default"]=E}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/lib/transmission/SMessageTransmitter.js","/lib/transmission")},{"../EventSupport.js":2,"../SMessage.js":5,"../UShortId.js":9,"../formatting.js":13,"../message.js":17,_process:131,buffer:121,timers:152}],115:[function(e,t,d){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";d.__esModule=!0;d.forEachPartition=function(e,t,n){if(e)for(var r=0;r<e.length;r+=t){n(e.slice(r,r+t))}};var f=d.indexOf=function(e,t){for(var n=e.length,r=0;r<n;++r)if(t===e[r])return r;return-1};d.removeFromArray=function(e){for(var t,n,r=arguments.length<=1?0:arguments.length-1;0<r&&e.length;){var i;for(i=1+--r,t=arguments.length<=i?undefined:arguments[i];-1!==(n=f(e,t));)e.splice(n,1)}return e},d.asciiStringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/lib/utils.js","/lib")},{_process:131,buffer:121,timers:152}],116:[function(e,f,t){(function(e,t,n,r,i,o,s,a,u,l,c){f.exports=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/array-equal/index.js","/node_modules/array-equal")},{_process:131,buffer:121,timers:152}],117:[function(e,t,T){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";T.byteLength=function(e){var t=_(e),n=t[0],r=t[1];return 3*(n+r)/4-r},T.toByteArray=function(e){for(var t,n=_(e),r=n[0],i=n[1],o=new p((l=r,c=i,3*(l+c)/4-c)),s=0,a=0<i?r-4:r,u=0;u<a;u+=4)t=d[e.charCodeAt(u)]<<18|d[e.charCodeAt(u+1)]<<12|d[e.charCodeAt(u+2)]<<6|d[e.charCodeAt(u+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;var l,c;2===i&&(t=d[e.charCodeAt(u)]<<2|d[e.charCodeAt(u+1)]>>4,o[s++]=255&t);1===i&&(t=d[e.charCodeAt(u)]<<10|d[e.charCodeAt(u+1)]<<4|d[e.charCodeAt(u+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t);return o},T.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(g(e,o,s<o+16383?s:o+16383));1===r?(t=e[n-1],i.push(f[t>>2]+f[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(f[t>>10]+f[t>>4&63]+f[t<<2&63]+"="));return i.join("")};for(var f=[],d=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,E=h.length;m<E;++m)f[m]=h[m],d[h.charCodeAt(m)]=m;function _(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function g(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(f[(i=r)>>18&63]+f[i>>12&63]+f[i>>6&63]+f[63&i]);return o.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/base64-js/index.js","/node_modules/base64-js")},{_process:131,buffer:121,timers:152}],118:[function(e,f,t){(function(e,t,n,r,i,o,s,a,u,l,c){!function(t){"use strict";
/*
 *      bignumber.js v9.0.0
 *      A JavaScript library for arbitrary-precision arithmetic.
 *      https://github.com/MikeMcl/bignumber.js
 *      Copyright (c) 2019 Michael Mclaughlin <M8ch88l@gmail.com>
 *      MIT Licensed.
 *
 *      BigNumber.prototype methods     |  BigNumber methods
 *                                      |
 *      absoluteValue            abs    |  clone
 *      comparedTo                      |  config               set
 *      decimalPlaces            dp     |      DECIMAL_PLACES
 *      dividedBy                div    |      ROUNDING_MODE
 *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT
 *      exponentiatedBy          pow    |      RANGE
 *      integerValue                    |      CRYPTO
 *      isEqualTo                eq     |      MODULO_MODE
 *      isFinite                        |      POW_PRECISION
 *      isGreaterThan            gt     |      FORMAT
 *      isGreaterThanOrEqualTo   gte    |      ALPHABET
 *      isInteger                       |  isBigNumber
 *      isLessThan               lt     |  maximum              max
 *      isLessThanOrEqualTo      lte    |  minimum              min
 *      isNaN                           |  random
 *      isNegative                      |  sum
 *      isPositive                      |
 *      isZero                          |
 *      minus                           |
 *      modulo                   mod    |
 *      multipliedBy             times  |
 *      negated                         |
 *      plus                            |
 *      precision                sd     |
 *      shiftedBy                       |
 *      squareRoot               sqrt   |
 *      toExponential                   |
 *      toFixed                         |
 *      toFormat                        |
 *      toFraction                      |
 *      toJSON                          |
 *      toNumber                        |
 *      toPrecision                     |
 *      toString                        |
 *      valueOf                         |
 *
 */var n,M=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,D=Math.ceil,L=Math.floor,R="[BigNumber Error] ",B=R+"Number primitive has more than 15 significant digits: ",U=1e14,k=14,P=9007199254740991,H=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],G=1e7,x=1e9;function j(e){var t=0|e;return 0<e||e===t?t:t-1}function q(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=k-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function V(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,u=e.e,l=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=u==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return l<u^n?1:-1;for(a=(u=i.length)<(l=o.length)?u:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return u==l?0:l<u^n?1:-1}function Y(e,t,n,r){if(e<t||n<e||e!==L(e))throw Error(R+(r||"Argument")+("number"==typeof e?e<t||n<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Q(e){var t=e.c.length-1;return j(e.e/k)==t&&e.c[t]%2!=0}function K(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function X(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var g,f,d,n,l,s,a,u,c,p,r=A.prototype={constructor:A,toString:null,valueOf:null},h=new A(1),T=20,b=4,m=-7,E=21,_=-1e7,y=1e7,S=!1,i=1,v=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz";function A(e,t){var n,r,i,o,s,a,u,l,c=this;if(!(c instanceof A))return new A(e,t);if(null==t){if(e&&!0===e._isBigNumber)return c.s=e.s,void(!e.c||e.e>y?c.c=c.e=null:e.e<_?c.c=[c.e=0]:(c.e=e.e,c.c=e.c.slice()));if((a="number"==typeof e)&&0*e==0){if(c.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,s=e;10<=s;s/=10,o++);return void(y<o?c.c=c.e=null:(c.e=o,c.c=[e]))}l=String(e)}else{if(!M.test(l=String(e)))return d(c,l,a);c.s=45==l.charCodeAt(0)?(l=l.slice(1),-1):1}-1<(o=l.indexOf("."))&&(l=l.replace(".","")),0<(s=l.search(/e/i))?(o<0&&(o=s),o+=+l.slice(s+1),l=l.substring(0,s)):o<0&&(o=l.length)}else{if(Y(t,2,w.length,"Base"),10==t)return F(c=new A(e),T+c.e+1,b);if(l=String(e),a="number"==typeof e){if(0*e!=0)return d(c,l,a,t);if(c.s=1/e<0?(l=l.slice(1),-1):1,A.DEBUG&&15<l.replace(/^0\.0*|\./,"").length)throw Error(B+e)}else c.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1;for(n=w.slice(0,t),o=s=0,u=l.length;s<u;s++)if(n.indexOf(r=l.charAt(s))<0){if("."==r){if(o<s){o=u;continue}}else if(!i&&(l==l.toUpperCase()&&(l=l.toLowerCase())||l==l.toLowerCase()&&(l=l.toUpperCase()))){i=!0,s=-1,o=0;continue}return d(c,String(e),a,t)}a=!1,-1<(o=(l=f(l,t,10,c.s)).indexOf("."))?l=l.replace(".",""):o=l.length}for(s=0;48===l.charCodeAt(s);s++);for(u=l.length;48===l.charCodeAt(--u););if(l=l.slice(s,++u)){if(u-=s,a&&A.DEBUG&&15<u&&(P<e||e!==L(e)))throw Error(B+c.s*e);if((o=o-s-1)>y)c.c=c.e=null;else if(o<_)c.c=[c.e=0];else{if(c.e=o,c.c=[],s=(o+1)%k,o<0&&(s+=k),s<u){for(s&&c.c.push(+l.slice(0,s)),u-=k;s<u;)c.c.push(+l.slice(s,s+=k));s=k-(l=l.slice(s)).length}else s-=u;for(;s--;l+="0");c.c.push(+l)}}else c.c=[c.e=0]}function o(e,t,n,r){var i,o,s,a,u;if(null==n?n=b:Y(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)u=q(e.c),u=1==r||2==r&&(s<=m||E<=s)?K(u,s):X(u,s,"0");else if(o=(e=F(new A(e),t,n)).e,a=(u=q(e.c)).length,1==r||2==r&&(t<=o||o<=m)){for(;a<t;u+="0",a++);u=K(u,o)}else if(t-=s,u=X(u,o,"0"),a<o+1){if(0<--t)for(u+=".";t--;u+="0");}else if(0<(t+=o-a))for(o+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function I(e,t){for(var n,r=1,i=new A(e[0]);r<e.length;r++){if(!(n=new A(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function N(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,r++);return(n=r+n*k-1)>y?e.c=e.e=null:n<_?e.c=[e.e=0]:(e.e=n,e.c=t),e}function F(e,t,n,r){var i,o,s,a,u,l,c,f=e.c,d=H;if(f){e:{for(i=1,a=f[0];10<=a;a/=10,i++);if((o=t-i)<0)o+=k,s=t,c=(u=f[l=0])/d[i-s-1]%10|0;else if((l=D((o+1)/k))>=f.length){if(!r)break e;for(;f.length<=l;f.push(0));u=c=0,s=(o%=k)-k+(i=1)}else{for(u=a=f[l],i=1;10<=a;a/=10,i++);c=(s=(o%=k)-k+i)<0?0:u/d[i-s-1]%10|0}if(r=r||t<0||null!=f[l+1]||(s<0?u:u%d[i-s-1]),r=n<4?(c||r)&&(0==n||n==(e.s<0?3:2)):5<c||5==c&&(4==n||r||6==n&&(0<o?0<s?u/d[i-s]:0:f[l-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,r?(t-=e.e+1,f[0]=d[(k-t%k)%k],e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=l,a=1,l--):(f.length=l+1,a=d[k-o],f[l]=0<s?L(u/d[i-s]%d[s])*a:0),r)for(;;){if(0==l){for(o=1,s=f[0];10<=s;s/=10,o++);for(s=f[0]+=a,a=1;10<=s;s/=10,a++);o!=a&&(e.e++,f[0]==U&&(f[0]=1));break}if(f[l]+=a,f[l]!=U)break;f[l--]=0,a=1}for(o=f.length;0===f[--o];f.pop());}e.e>y?e.c=e.e=null:e.e<_&&(e.c=[e.e=0])}return e}function C(e){var t,n=e.e;return null===n?e.toString():(t=q(e.c),t=n<=m||E<=n?K(t,n):X(t,n,"0"),e.s<0?"-"+t:t)}return A.clone=e,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(R+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Y(n=e[t],0,x,t),T=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(Y(n=e[t],0,8,t),b=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(Y(n[0],-x,0,t),Y(n[1],0,x,t),m=n[0],E=n[1]):(Y(n,-x,x,t),m=-(E=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)Y(n[0],-x,-1,t),Y(n[1],1,x,t),_=n[0],y=n[1];else{if(Y(n,-x,x,t),!n)throw Error(R+t+" cannot be zero: "+n);_=-(y=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(R+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw S=!n,Error(R+"crypto unavailable");S=n}else S=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(Y(n=e[t],0,9,t),i=n),e.hasOwnProperty(t="POW_PRECISION")&&(Y(n=e[t],0,x,t),v=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(R+t+" not an object: "+n);O=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(R+t+" invalid: "+n);w=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:b,EXPONENTIAL_AT:[m,E],RANGE:[_,y],CRYPTO:S,MODULO_MODE:i,POW_PRECISION:v,FORMAT:O,ALPHABET:w}},A.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!A.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&-x<=i&&i<=x&&i===L(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%k)<1&&(t+=k),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||U<=n||n!==L(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(R+"Invalid BigNumber: "+e)},A.maximum=A.max=function(){return I(arguments,r.lt)},A.minimum=A.min=function(){return I(arguments,r.gt)},A.random=(n=9007199254740992,l=Math.random()*n&2097151?function(){return L(Math.random()*n)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,o,s=0,a=[],u=new A(h);if(null==e?e=T:Y(e,0,x),i=D(e/k),S)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)9e15<=(o=131072*t[s]+(t[s+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(a.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw S=!1,Error(R+"crypto unavailable");for(t=crypto.randomBytes(i*=7);s<i;)9e15<=(o=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])?crypto.randomBytes(7).copy(t,s):(a.push(o%1e14),s+=7);s=i/7}if(!S)for(;s<i;)(o=l())<9e15&&(a[s++]=o%1e14);for(i=a[--s],e%=k,i&&e&&(o=H[k-e],a[s]=L(i/o)*o);0===a[s];a.pop(),s--);if(s<0)a=[r=0];else{for(r=-1;0===a[0];a.splice(0,1),r-=k);for(s=1,o=a[0];10<=o;o/=10,s++);s<k&&(r-=k-s)}return u.e=r,u.c=a,u}),A.sum=function(){for(var e=1,t=arguments,n=new A(t[0]);e<t.length;)n=n.plus(t[e++]);return n},f=function(){var E="0123456789";function _(e,t,n,r){for(var i,o,s=[0],a=0,u=e.length;a<u;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(e,t,n,r,i){var o,s,a,u,l,c,f,d,p=e.indexOf("."),h=T,m=b;for(0<=p&&(u=v,v=0,e=e.replace(".",""),c=(d=new A(t)).pow(e.length-p),v=u,d.c=_(X(q(c.c),c.e,"0"),10,n,E),d.e=d.c.length),a=u=(f=_(e,t,n,i?(o=w,E):(o=E,w))).length;0==f[--u];f.pop());if(!f[0])return o.charAt(0);if(p<0?--a:(c.c=f,c.e=a,c.s=r,f=(c=g(c,d,h,m,n)).c,l=c.r,a=c.e),p=f[s=a+h+1],u=n/2,l=l||s<0||null!=f[s+1],l=m<4?(null!=p||l)&&(0==m||m==(c.s<0?3:2)):u<p||p==u&&(4==m||l||6==m&&1&f[s-1]||m==(c.s<0?8:7)),s<1||!f[0])e=l?X(o.charAt(1),-h,o.charAt(0)):o.charAt(0);else{if(f.length=s,l)for(--n;++f[--s]>n;)f[s]=0,s||(++a,f=[1].concat(f));for(u=f.length;!f[--u];);for(p=0,e="";p<=u;e+=o.charAt(f[p++]));e=X(e,a,o.charAt(0))}return e}}(),g=function(){function w(e,t,n){var r,i,o,s,a=0,u=e.length,l=t%G,c=t/G|0;for(e=e.slice();u--;)a=((i=l*(o=e[u]%G)+(r=c*o+(s=e[u]/G|0)*l)%G*G+a)/n|0)+(r/G|0)+c*s,e[u]=i%n;return a&&(e=[a].concat(e)),e}function I(e,t,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function N(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(e,t,n,r,i){var o,s,a,u,l,c,f,d,p,h,m,E,_,g,T,b,y,S=e.s==t.s?1:-1,v=e.c,O=t.c;if(!(v&&v[0]&&O&&O[0]))return new A(e.s&&t.s&&(v?!O||v[0]!=O[0]:O)?v&&0==v[0]||!O?0*S:S/0:NaN);for(p=(d=new A(S)).c=[],S=n+(s=e.e-t.e)+1,i||(i=U,s=j(e.e/k)-j(t.e/k),S=S/k|0),a=0;O[a]==(v[a]||0);a++);if(O[a]>(v[a]||0)&&s--,S<0)p.push(1),u=!0;else{for(g=v.length,b=O.length,S+=2,1<(l=L(i/(O[a=0]+1)))&&(O=w(O,l,i),v=w(v,l,i),b=O.length,g=v.length),_=b,m=(h=v.slice(0,b)).length;m<b;h[m++]=0);y=O.slice(),y=[0].concat(y),T=O[0],O[1]>=i/2&&T++;do{if(l=0,(o=I(O,h,b,m))<0){if(E=h[0],b!=m&&(E=E*i+(h[1]||0)),1<(l=L(E/T)))for(i<=l&&(l=i-1),f=(c=w(O,l,i)).length,m=h.length;1==I(c,h,f,m);)l--,N(c,b<f?y:O,f,i),f=c.length,o=1;else 0==l&&(o=l=1),f=(c=O.slice()).length;if(f<m&&(c=[0].concat(c)),N(h,c,m,i),m=h.length,-1==o)for(;I(O,h,b,m)<1;)l++,N(h,b<m?y:O,m,i),m=h.length}else 0===o&&(l++,h=[0]);p[a++]=l,h[0]?h[m++]=v[_]||0:(h=[v[_]],m=1)}while((_++<g||null!=h[0])&&S--);u=null!=h[0],p[0]||p.splice(0,1)}if(i==U){for(a=1,S=p[0];10<=S;S/=10,a++);F(d,n+(d.e=a+s*k-1)+1,r,u)}else d.e=s,d.r=+u;return d}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,u=/^\.([^.]+)$/,c=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g,d=function(e,t,n,r){var i,o=n?t:t.replace(p,"");if(c.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(s,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,o=o.replace(a,"$1").replace(u,"0.$1")),t!=o))return new A(o,i);if(A.DEBUG)throw Error(R+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},r.absoluteValue=r.abs=function(){var e=new A(this);return e.s<0&&(e.s=1),e},r.comparedTo=function(e,t){return V(this,new A(e,t))},r.decimalPlaces=r.dp=function(e,t){var n,r,i;if(null!=e)return Y(e,0,x),null==t?t=b:Y(t,0,8),F(new A(this),e+this.e+1,t);if(!(n=this.c))return null;if(r=((i=n.length-1)-j(this.e/k))*k,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},r.dividedBy=r.div=function(e,t){return g(this,new A(e,t),T,b)},r.dividedToIntegerBy=r.idiv=function(e,t){return g(this,new A(e,t),0,1)},r.exponentiatedBy=r.pow=function(e,t){var n,r,i,o,s,a,u,l,c=this;if((e=new A(e)).c&&!e.isInteger())throw Error(R+"Exponent not an integer: "+C(e));if(null!=t&&(t=new A(t)),s=14<e.e,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!e.c||!e.c[0])return l=new A(Math.pow(+C(c),s?2-Q(e):+C(e))),t?l.mod(t):l;if(a=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new A(NaN);(r=!a&&c.isInteger()&&t.isInteger())&&(c=c.mod(t))}else{if(9<e.e&&(0<c.e||c.e<-1||(0==c.e?1<c.c[0]||s&&24e7<=c.c[1]:c.c[0]<8e13||s&&c.c[0]<=9999975e7)))return o=c.s<0&&Q(e)?-0:0,-1<c.e&&(o=1/o),new A(a?1/o:o);v&&(o=D(v/k+2))}for(s?(n=new A(.5),a&&(e.s=1),u=Q(e)):u=(i=Math.abs(+C(e)))%2,l=new A(h);;){if(u){if(!(l=l.times(c)).c)break;o?l.c.length>o&&(l.c.length=o):r&&(l=l.mod(t))}if(i){if(0===(i=L(i/2)))break;u=i%2}else if(F(e=e.times(n),e.e+1,1),14<e.e)u=Q(e);else{if(0==(i=+C(e)))break;u=i%2}c=c.times(c),o?c.c&&c.c.length>o&&(c.c.length=o):r&&(c=c.mod(t))}return r?l:(a&&(l=h.div(l)),t?l.mod(t):o?F(l,v,b,void 0):l)},r.integerValue=function(e){var t=new A(this);return null==e?e=b:Y(e,0,8),F(t,t.e+1,e)},r.isEqualTo=r.eq=function(e,t){return 0===V(this,new A(e,t))},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(e,t){return 0<V(this,new A(e,t))},r.isGreaterThanOrEqualTo=r.gte=function(e,t){return 1===(t=V(this,new A(e,t)))||0===t},r.isInteger=function(){return!!this.c&&j(this.e/k)>this.c.length-2},r.isLessThan=r.lt=function(e,t){return V(this,new A(e,t))<0},r.isLessThanOrEqualTo=r.lte=function(e,t){return-1===(t=V(this,new A(e,t)))||0===t},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return 0<this.s},r.isZero=function(){return!!this.c&&0==this.c[0]},r.minus=function(e,t){var n,r,i,o,s=this.s;if(t=(e=new A(e,t)).s,!s||!t)return new A(NaN);if(s!=t)return e.s=-t,this.plus(e);var a=this.e/k,u=e.e/k,l=this.c,c=e.c;if(!a||!u){if(!l||!c)return l?(e.s=-t,e):new A(c?this:NaN);if(!l[0]||!c[0])return c[0]?(e.s=-t,e):new A(l[0]?this:3==b?-0:0)}if(a=j(a),u=j(u),l=l.slice(),s=a-u){for((o=s<0)?(s=-s,i=l):(u=a,i=c),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(r=(o=(s=l.length)<(t=c.length))?s:t,s=t=0;t<r;t++)if(l[t]!=c[t]){o=l[t]<c[t];break}if(o&&(i=l,l=c,c=i,e.s=-e.s),0<(t=(r=c.length)-(n=l.length)))for(;t--;l[n++]=0);for(t=U-1;s<r;){if(l[--r]<c[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=U}l[r]-=c[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?N(e,l,u):(e.s=3==b?-1:1,e.c=[e.e=0],e)},r.modulo=r.mod=function(e,t){var n,r;return e=new A(e,t),!this.c||!e.s||e.c&&!e.c[0]?new A(NaN):!e.c||this.c&&!this.c[0]?new A(this):(9==i?(r=e.s,e.s=1,n=g(this,e,0,3),e.s=r,n.s*=r):n=g(this,e,0,i),(e=this.minus(n.times(e))).c[0]||1!=i||(e.s=this.s),e)},r.multipliedBy=r.times=function(e,t){var n,r,i,o,s,a,u,l,c,f,d,p,h,m,E,_=this.c,g=(e=new A(e,t)).c;if(!(_&&g&&_[0]&&g[0]))return!this.s||!e.s||_&&!_[0]&&!g||g&&!g[0]&&!_?e.c=e.e=e.s=null:(e.s*=this.s,_&&g?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=j(this.e/k)+j(e.e/k),e.s*=this.s,(u=_.length)<(f=g.length)&&(h=_,_=g,g=h,i=u,u=f,f=i),i=u+f,h=[];i--;h.push(0));for(m=U,E=G,i=f;0<=--i;){for(n=0,d=g[i]%E,p=g[i]/E|0,o=i+(s=u);i<o;)n=((l=d*(l=_[--s]%E)+(a=p*l+(c=_[s]/E|0)*d)%E*E+h[o]+n)/m|0)+(a/E|0)+p*c,h[o--]=l%m;h[o]=n}return n?++r:h.splice(0,1),N(e,h,r)},r.negated=function(){var e=new A(this);return e.s=-e.s||null,e},r.plus=function(e,t){var n,r=this.s;if(t=(e=new A(e,t)).s,!r||!t)return new A(NaN);if(r!=t)return e.s=-t,this.minus(e);var i=this.e/k,o=e.e/k,s=this.c,a=e.c;if(!i||!o){if(!s||!a)return new A(r/0);if(!s[0]||!a[0])return a[0]?e:new A(s[0]?this:0*r)}if(i=j(i),o=j(o),s=s.slice(),r=i-o){for(0<r?(o=i,n=a):(r=-r,n=s),n.reverse();r--;n.push(0));n.reverse()}for((r=s.length)-(t=a.length)<0&&(n=a,a=s,s=n,t=r),r=0;t;)r=(s[--t]=s[t]+a[t]+r)/U|0,s[t]=U===s[t]?0:s[t]%U;return r&&(s=[r].concat(s),++o),N(e,s,o)},r.precision=r.sd=function(e,t){var n,r,i;if(null!=e&&e!==!!e)return Y(e,1,x),null==t?t=b:Y(t,0,8),F(new A(this),e,t);if(!(n=this.c))return null;if(r=(i=n.length-1)*k+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];10<=i;i/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},r.shiftedBy=function(e){return Y(e,-P,P),this.times("1e"+e)},r.squareRoot=r.sqrt=function(){var e,t,n,r,i,o=this.c,s=this.s,a=this.e,u=T+4,l=new A("0.5");if(1!==s||!o||!o[0])return new A(!s||s<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(s=Math.sqrt(+C(this)))||s==1/0?(((t=q(o)).length+a)%2==0&&(t+="0"),s=Math.sqrt(+t),a=j((a+1)/2)-(a<0||a%2),n=new A(t=s==1/0?"1e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):n=new A(s+""),n.c[0])for((s=(a=n.e)+u)<3&&(s=0);;)if(i=n,n=l.times(i.plus(g(this,i,u,1))),q(i.c).slice(0,s)===(t=q(n.c)).slice(0,s)){if(n.e<a&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(F(n,n.e+T+2,1),e=!n.times(n).eq(this));break}if(!r&&(F(i,i.e+T+2,0),i.times(i).eq(this))){n=i;break}u+=4,s+=4,r=1}return F(n,n.e+T+1,b,e)},r.toExponential=function(e,t){return null!=e&&(Y(e,0,x),e++),o(this,e,t,1)},r.toFixed=function(e,t){return null!=e&&(Y(e,0,x),e=e+this.e+1),o(this,e,t)},r.toFormat=function(e,t,n){var r;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=O;else if("object"!=typeof n)throw Error(R+"Argument not an object: "+n);if(r=this.toFixed(e,t),this.c){var i,o=r.split("."),s=+n.groupSize,a=+n.secondaryGroupSize,u=n.groupSeparator||"",l=o[0],c=o[1],f=this.s<0,d=f?l.slice(1):l,p=d.length;if(a&&(i=s,s=a,p-=a=i),0<s&&0<p){for(i=p%s||s,l=d.substr(0,i);i<p;i+=s)l+=u+d.substr(i,s);0<a&&(l+=u+d.slice(i)),f&&(l="-"+l)}r=c?l+(n.decimalSeparator||"")+((a=+n.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):c):l}return(n.prefix||"")+r+(n.suffix||"")},r.toFraction=function(e){var t,n,r,i,o,s,a,u,l,c,f,d,p=this.c;if(null!=e&&(!(a=new A(e)).isInteger()&&(a.c||1!==a.s)||a.lt(h)))throw Error(R+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+C(a));if(!p)return new A(this);for(t=new A(h),l=n=new A(h),r=u=new A(h),d=q(p),o=t.e=d.length-this.e-1,t.c[0]=H[(s=o%k)<0?k+s:s],e=!e||0<a.comparedTo(t)?0<o?t:l:a,s=y,y=1/0,a=new A(d),u.c[0]=0;c=g(a,t,0,1),1!=(i=n.plus(c.times(r))).comparedTo(e);)n=r,r=i,l=u.plus(c.times(i=l)),u=i,t=a.minus(c.times(i=t)),a=i;return i=g(e.minus(n),r,0,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=this.s,f=g(l,r,o*=2,b).minus(this).abs().comparedTo(g(u,n,o,b).minus(this).abs())<1?[l,r]:[u,n],y=s,f},r.toNumber=function(){return+C(this)},r.toPrecision=function(e,t){return null!=e&&Y(e,1,x),o(this,e,t,2)},r.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=m||E<=i?K(q(n.c),i):X(q(n.c),i,"0"):10===e?t=X(q((n=F(new A(n),T+i+1,b)).c),n.e,"0"):(Y(e,2,w.length,"Base"),t=f(X(q(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},r.valueOf=r.toJSON=function(){return C(this)},r._isBigNumber=!0,null!=t&&A.set(t),A}())["default"]=n.BigNumber=n,void 0!==f&&f.exports?f.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/bignumber.js/bignumber.js","/node_modules/bignumber.js")},{_process:131,buffer:121,timers:152}],119:[function(e,t,n){(function(e,t,n,r,i,o,s,a,u,l,c){}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/browser-resolve/empty.js","/node_modules/browser-resolve")},{_process:131,buffer:121,timers:152}],120:[function(e,t,n){(function(e,t,n,r,i,o,s,a,u,l,c){}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/browserify/lib/_empty.js","/node_modules/browserify/lib")},{_process:131,buffer:121,timers:152}],121:[function(Y,e,Q){(function(e,t,f,n,r,i,o,s,a,u,l){"use strict";var c=Y("base64-js"),d=Y("ieee754");Q.Buffer=f,Q.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},Q.INSPECT_MAX_BYTES=50;var p=2147483647;function h(e){if(p<e)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=f.prototype,t}function f(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(e)}return m(e,t,n)}function m(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return q(e)||e&&q(e.buffer)?function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=t===undefined&&n===undefined?new Uint8Array(e):n===undefined?new Uint8Array(e,t):new Uint8Array(e,t,n);return r.__proto__=f.prototype,r}(e,t,n):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|b(e,t),r=h(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t):function(e){if(f.isBuffer(e)){var t=0|T(e.length),n=h(t);return 0===n.length||e.copy(n,0,0,t),n}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||V(e.length)?h(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(e)}function E(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _(e){return E(e),h(e<0?0:0|T(e))}function g(e){for(var t=e.length<0?0:0|T(e.length),n=h(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function T(e){if(p<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|e}function b(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return G(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=f.from(t,r)),f.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=s=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(a<n+u&&(n=a-u),o=n;0<=o;o--){for(var f=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return-1}function O(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;o/2<r&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(V(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?c.fromByteArray(e):c.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,l=e[i],c=null,f=239<l?4:223<l?3:191<l?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&l)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(c=u)}null===c?(c=65533,f=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}Q.kMaxLength=p,(f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{get:function(){return this instanceof f?this.buffer:undefined}}),Object.defineProperty(f.prototype,"offset",{get:function(){return this instanceof f?this.byteOffset:undefined}}),"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(e,t,n){return m(e,t,n)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(e,t,n){return i=t,o=n,E(r=e),r<=0?h(r):i!==undefined?"string"==typeof o?h(r).fill(i,o):h(r).fill(i):h(r);var r,i,o},f.allocUnsafe=function(e){return _(e)},f.allocUnsafeSlow=function(e){return _(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var n;if(t===undefined)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=f.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ArrayBuffer.isView(o)&&(o=f.from(o)),!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):function(e,t,n){var r=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return F(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=Q.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,n,r,i){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===undefined&&(t=0),n===undefined&&(n=e?e.length:0),r===undefined&&(r=0),i===undefined&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n),c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},f.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},f.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},f.prototype.write=function(e,t,n,r){if(t===undefined)r="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var i=this.length-t;if((n===undefined||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o,s,a,u,l,c,f,d,p,h=!1;;)switch(r){case"hex":return O(this,e,t,n);case"utf8":case"utf-8":return d=t,p=n,j(G(e,(f=this).length-d),f,d,p);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return u=this,l=t,c=n,j(x(e),u,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=t,a=n,j(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,(o=this).length-s),o,s,a);default:if(h)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function F(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=H(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,0,n,4),d.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,0,n,8),d.write(e,t,n,r,52,8),n+8}f.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=t===undefined?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=f.prototype,r},f.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},f.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},f.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),d.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),d.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),d.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),d.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},f.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;0<=--o&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},f.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=n===undefined?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=f.isBuffer(e)?e:new f(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var P=/[^+/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var n;t=t||Infinity;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=e.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function x(e){return c.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function q(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function V(e){return e!=e}}).call(this,Y("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Y("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],Y("timers").setImmediate,Y("timers").clearImmediate,"/node_modules/buffer/index.js","/node_modules/buffer")},{_process:131,"base64-js":117,buffer:121,ieee754:126,timers:152}],122:[function(e,f,t){(function(e,t,n,r,i,o,s,a,u,l,c){f.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/builtin-status-codes/browser.js","/node_modules/builtin-status-codes")},{_process:131,buffer:121,timers:152}],123:[function(e,t,d){(function(e,t,n,r,i,o,s,a,u,l,c){function f(e){return Object.prototype.toString.call(e)}d.isArray=
// Copyright Joyent, Inc. and other Node contributors.
function(e){return Array.isArray?Array.isArray(e):"[object Array]"===f(e)},d.isBoolean=function(e){return"boolean"==typeof e},d.isNull=function(e){return null===e},d.isNullOrUndefined=function(e){return null==e},d.isNumber=function(e){return"number"==typeof e},d.isString=function(e){return"string"==typeof e},d.isSymbol=function(e){return"symbol"==typeof e},d.isUndefined=function(e){return void 0===e},d.isRegExp=function(e){return"[object RegExp]"===f(e)},d.isObject=function(e){return"object"==typeof e&&null!==e},d.isDate=function(e){return"[object Date]"===f(e)},d.isError=function(e){return"[object Error]"===f(e)||e instanceof Error},d.isFunction=function(e){return"function"==typeof e},d.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},d.isBuffer=n.isBuffer}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/core-util-is/lib/util.js","/node_modules/core-util-is/lib")},{_process:131,buffer:121,timers:152}],124:[function(e,I,t){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
var f=Object.create||function(e){var t=function(){};return t.prototype=e,new t},d=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},p=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function h(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=f(null),this._eventsCount=0),this._maxListeners=this._maxListeners||undefined}((I.exports=h).EventEmitter=h).prototype._events=undefined,h.prototype._maxListeners=undefined;var m,E=10;try{var _={};Object.defineProperty&&Object.defineProperty(_,"x",{value:0}),m=0===_.x}catch(w){m=!1}function g(e){return e._maxListeners===undefined?h.defaultMaxListeners:e._maxListeners}function T(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=f(null),e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=g(e))&&0<i&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else s=o[t]=n,++e._eventsCount;return e}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function y(e,t,n){var r={fired:!1,wrapFn:undefined,target:e,type:t,listener:n},i=p.call(b,r);return i.listener=n,r.wrapFn=i}function S(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):O(i,i.length):[]}function v(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function O(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}m?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');E=e}}):h.defaultMaxListeners=E,h.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},h.prototype.getMaxListeners=function(){return g(this)},h.prototype.emit=function(e){var t,n,r,i,o,s,a="error"===e;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(n=s[e]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=O(e,r),o=0;o<r;++o)i[o].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=O(e,i),s=0;s<i;++s)o[s].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=O(e,o),a=0;a<o;++a)s[a].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,a=O(e,s),u=0;u<s;++u)a[u].call(n,r,i,o)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=O(e,i),s=0;s<i;++s)o[s].apply(n,r)}(n,l,this,i)}return!0},h.prototype.on=h.prototype.addListener=function(e,t){return T(this,e,t,!1)},h.prototype.prependListener=function(e,t){return T(this,e,t,!0)},h.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,y(this,e,t)),this},h.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,y(this,e,t)),this},h.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=f(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,s||t)}return this},h.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=f(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=f(null):delete n[e]),this;if(0===arguments.length){var i,o=d(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=f(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},h.prototype.listeners=function(e){return S(this,e,!0)},h.prototype.rawListeners=function(e){return S(this,e,!1)},h.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},h.prototype.listenerCount=v,h.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/events/events.js","/node_modules/events")},{_process:131,buffer:121,timers:152}],125:[function(E,_,e){(function(e,t,n,r,i,o,s,a,u,l,c){var f=E("http"),d=E("url"),p=_.exports;for(var h in f)f.hasOwnProperty(h)&&(p[h]=f[h]);function m(e){if("string"==typeof e&&(e=d.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}p.request=function(e,t){return e=m(e),f.request.call(this,e,t)},p.get=function(e,t){return e=m(e),f.get.call(this,e,t)}}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/node_modules/https-browserify/index.js","/node_modules/https-browserify")},{_process:131,buffer:121,http:137,timers:152,url:154}],126:[function(e,t,f){(function(e,t,n,r,i,o,s,a,u,l,c){f.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=a;0<c;o=256*o+e[t+f],f+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;0<c;s=256*s+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:(p?-1:1)*Infinity;s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},f.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(t+=1<=s+f?d/u:d*Math.pow(2,1-f))*u&&(s++,u/=2),c<=s+f?(a=0,s=c):1<=s+f?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));8<=i;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,l+=i;0<l;e[n+p]=255&s,p+=h,s/=256,l-=8);e[n+p-h]|=128*m}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/ieee754/index.js","/node_modules/ieee754")},{_process:131,buffer:121,timers:152}],127:[function(e,f,t){(function(e,t,n,r,i,o,s,a,u,l,c){"function"==typeof Object.create?f.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:f.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/inherits/inherits_browser.js","/node_modules/inherits")},{_process:131,buffer:121,timers:152}],128:[function(e,p,h){(function(e,t,n,r,i,o,s,a,u,l,c){var f,d;f=this,d=function(){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function t(e){var r="function"==typeof Map?new Map:void 0;return(t=function(e){function t(){return s(e,arguments,a(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),c(t,e)})(e)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var e=function(e){var t,n,r,s=Math.abs,u=Math.max,v=Math.imul,T=Math.clz32;function w(e,t){var n;if(i(this,w),w.__kMaxLength<e)throw new RangeError("Maximum BigInt size exceeded");return(n=f(this,a(w).call(this,e))).sign=t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(w,e),t=w,r=[{key:"BigInt",value:function(e){var t=Math.floor,n=Number.isFinite;if("number"==typeof e){if(0===e)return w.__zero();if((0|e)===e)return e<0?w.__oneDigit(-e,!0):w.__oneDigit(e,!1);if(!n(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return w.__fromDouble(e)}if("string"==typeof e){var r=w.__fromString(e);if(null===r)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if("boolean"==typeof e)return!0===e?w.__oneDigit(1,!1):w.__zero();if("object"===l(e)){if(e.constructor===w)return e;var i=w.__toPrimitive(e);return w.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),i=T(r),o=32*t-i;if(1024<o)return e.sign?-Infinity:1/0;var s=o-1,a=r,u=t-1,l=i+1,c=32===l?0:a<<l;c>>>=12;var f=l-12,d=12<=l?0:a<<20+l,p=20+l;0<f&&0<u&&(u--,c|=(a=e.__digit(u))>>>32-f,d=a<<f,p=f),0<p&&0<u&&(u--,d|=(a=e.__digit(u))>>>32-p,p-=32);var h=w.__decideRounding(e,p,u,a);if((1===h||0===h&&1==(1&d))&&(0===(d=d+1>>>0)&&(0!=++c>>>20&&(c=0,1023<++s))))return e.sign?-Infinity:1/0;var m=e.sign?-2147483648:0;return s=s+1023<<20,w.__kBitConversionInts[1]=m|s|c,w.__kBitConversionInts[0]=d,w.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?w.__absoluteSubOne(e).__trim():w.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return w.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?w.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(1===n)return e;if(w.__kMaxLengthBits<=n)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var r=1+(n>>>5),i=new w(r,e.sign&&0!=(1&n));i.__initializeDigits();var o=1<<(31&n);return i.__setDigit(r-1,o),i}var s=null,a=e;for(0!=(1&n)&&(s=e),n>>=1;0!==n;n>>=1)a=w.multiply(a,a),0!=(1&n)&&(s=null===s?a:w.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new w(n,e.sign!==t.sign);r.__initializeDigits();for(var i=0;i<e.length;i++)w.__multiplyAccumulate(t,e.__digit(i),r,i);return r.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(w.__absoluteCompare(e,t)<0)return w.__zero();var n,r=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&i<=65535){if(1===i)return r===e.sign?e:w.unaryMinus(e);n=w.__absoluteDivSmall(e,i,null)}else n=w.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(w.__absoluteCompare(e,t)<0)return e;var n=t.__unsignedDigit(0);if(1===t.length&&n<=65535){if(1===n)return w.__zero();var r=w.__absoluteModSmall(e,n);return 0===r?w.__zero():w.__oneDigit(r,e.sign)}var i=w.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?w.__absoluteAdd(e,t,n):0<=w.__absoluteCompare(e,t)?w.__absoluteSub(e,t,n):w.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=w.__absoluteCompare(e,t)?w.__absoluteSub(e,t,n):w.__absoluteSub(t,e,!n):w.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?w.__rightShiftByAbsolute(e,t):w.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?w.__leftShiftByAbsolute(e,t):w.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return w.__compareToBigInt(e,t)<0}},{key:"lessThanOrEqual",value:function(e,t){return w.__compareToBigInt(e,t)<=0}},{key:"greaterThan",value:function(e,t){return 0<w.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=w.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!w.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return w.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=u(e.length,t.length)+1,r=w.__absoluteSubOne(e,n),i=w.__absoluteSubOne(t);return r=w.__absoluteOr(r,i,r),w.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}return w.__absoluteAndNot(e,w.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return w.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=u(e.length,t.length),r=w.__absoluteSubOne(e,n),i=w.__absoluteSubOne(t);return w.__absoluteXor(r,i,r).__trim()}var o=u(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var a=w.__absoluteSubOne(t,o);return a=w.__absoluteXor(a,e,a),w.__absoluteAddOne(a,!0,a).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=u(e.length,t.length);if(!e.sign&&!t.sign)return w.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var r=w.__absoluteSubOne(e,n),i=w.__absoluteSubOne(t);return r=w.__absoluteAnd(r,i,r),w.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}var s=w.__absoluteSubOne(t,n);return s=w.__absoluteAndNot(s,e,s),w.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0===e)return w.__zero();if(w.__kMaxLengthBits<=e)return t;var n=e+31>>>5;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),i=1<<(31&e-1);if(t.length===n&&r<i)return t;if((r&i)!==i)return w.__truncateToNBits(e,t);if(!t.sign)return w.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(r&i-1)){for(var o=n-2;0<=o;o--)if(0!==t.__digit(o))return w.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===i?t:w.__truncateToNBits(e,t)}return w.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0===e)return w.__zero();if(t.sign){if(w.__kMaxLengthBits<e)throw new RangeError("BigInt too big");return w.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(w.__kMaxLengthBits<=e)return t;var n=e+31>>>5;if(t.length<n)return t;var r=31&e;if(t.length==n){if(0==r)return t;if(0==t.__digit(n-1)>>>r)return t}return w.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=w.__toPrimitive(e),t=w.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=w.__toNumeric(e),t=w.__toNumeric(t),w.__isBigInt(e)&&w.__isBigInt(t))return w.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return w.__compare(e,t,0)}},{key:"LE",value:function(e,t){return w.__compare(e,t,1)}},{key:"GT",value:function(e,t){return w.__compare(e,t,2)}},{key:"GE",value:function(e,t){return w.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(w.__isBigInt(e))return w.__isBigInt(t)?w.equal(e,t):w.EQ(t,e);if("number"==typeof e){if(w.__isBigInt(t))return w.__equalToNumber(t,e);if("object"!==l(t))return e==t;t=w.__toPrimitive(t)}else if("string"==typeof e){if(w.__isBigInt(t))return null!==(e=w.__fromString(e))&&w.equal(e,t);if("object"!==l(t))return e==t;t=w.__toPrimitive(t)}else if("boolean"==typeof e){if(w.__isBigInt(t))return w.__equalToNumber(t,+e);if("object"!==l(t))return e==t;t=w.__toPrimitive(t)}else if("symbol"===l(e)){if(w.__isBigInt(t))return!1;if("object"!==l(t))return e==t;t=w.__toPrimitive(t)}else{if("object"!==l(e))return e==t;if("object"===l(t)&&t.constructor!==w)return e==t;e=w.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!w.EQ(e,t)}},{key:"__zero",value:function(){return new w(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new w(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var i;if(t<0)i=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),i=31}var o=1<<i;if(0==(r&o))return-1;if(0!=(r&(o-=1)))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){w.__kBitConversionDouble[0]=e;var t,n=(2047&w.__kBitConversionInts[1]>>>20)-1023,r=1+(n>>>5),i=new w(r,e<0),o=1048575&w.__kBitConversionInts[1]|1048576,s=w.__kBitConversionInts[0],a=31&n,u=0;if(a<20){var l=20-a;u=l+32,t=o>>>l,o=o<<32-l|s>>>l,s<<=32-l}else if(20===a)u=32,t=o,o=s;else{var c=a-20;t=o<<c|s>>>(u=32-c),o=s<<c}i.__setDigit(r-1,t);for(var f=r-2;0<=f;f--)0<u?(u-=32,t=o,o=s):t=0,i.__setDigit(f,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(e<=13&&9<=e)||(e<=159?32==e:e<=131071?160==e||5760==e:e<=196607?(e&=131071)<=10||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e.length,i=0;if(i===r)return w.__zero();for(var o=e.charCodeAt(i);w.__isWhitespace(o);){if(++i===r)return w.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===r)return null;o=e.charCodeAt(i),n=1}else if(45===o){if(++i===r)return null;o=e.charCodeAt(i),n=-1}if(0===t){if(t=10,48===o){if(++i===r)return w.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===r)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===r)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===r)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===r)return w.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===r)return null;o=e.charCodeAt(i)}}for(;48===o;){if(++i===r)return w.__zero();o=e.charCodeAt(i)}var s=r-i,a=w.__kMaxBitsPerChar[t],u=w.__kBitsPerCharTableMultiplier-1;if(1073741824/a<s)return null;var l=new w((a*s+u>>>w.__kBitsPerCharTableShift)+31>>>5,!1),c=t<10?t:10,f=10<t?t-10:0;if(0==(t&t-1)){a>>=w.__kBitsPerCharTableShift;var d=[],p=[],h=!1;do{for(var m,E=0,_=0;;){if(m=void 0,o-48>>>0<c)m=o-48;else{if(!((32|o)-97>>>0<f)){h=!0;break}m=(32|o)-87}if(_+=a,E=E<<a|m,++i===r){h=!0;break}if(o=e.charCodeAt(i),32<_+a)break}d.push(E),p.push(_)}while(!h);w.__fillFromParts(l,d,p)}else{l.__initializeDigits();var g=!1,T=0;do{for(var b,y=0,S=1;;){if(b=void 0,o-48>>>0<c)b=o-48;else{if(!((32|o)-97>>>0<f)){g=!0;break}b=(32|o)-87}var v=S*t;if(4294967295<v)break;if(S=v,y=y*t+b,T++,++i===r){g=!0;break}o=e.charCodeAt(i)}var O=a*T+(u=32*w.__kBitsPerCharTableMultiplier-1)>>>w.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(S,y,O)}while(!g)}for(;i!==r;){if(!w.__isWhitespace(o))return null;o=e.charCodeAt(i++)}return 0!==n&&10!==t?null:(l.sign=-1===n,l.__trim())}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,i=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],u=n[s];i|=a<<o,32===(o+=u)?(e.__setDigit(r++,i),i=o=0):32<o&&(e.__setDigit(r++,i),i=a>>>u-(o-=32))}if(0!==i){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,i)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1,i=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),o=t-1,s=e.__digit(n-1),a=0|(32*n-T(s)+i-1)/i;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var u=Array(a),l=a-1,c=0,f=0,d=0;d<n-1;d++){var p=e.__digit(d),h=(c|p<<f)&o;u[l--]=w.__kConversionChars[h];var m=i-f;for(c=p>>>m,f=32-m;i<=f;)u[l--]=w.__kConversionChars[c&o],c>>>=i,f-=i}var E=(c|s<<f)&o;for(u[l--]=w.__kConversionChars[E],c=s>>>i-f;0!==c;)u[l--]=w.__kConversionChars[c&o],c>>>=i;if(e.sign&&(u[l--]="-"),-1!==l)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(0===r)return"";if(1===r){var i=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(i="-"+i),i}var o,s,a=32*r-T(e.__digit(r-1)),u=w.__kMaxBitsPerChar[t]-1,l=a*w.__kBitsPerCharTableMultiplier,c=(l=0|(l+=u-1)/u)+1>>1,f=w.exponentiate(w.__oneDigit(t,!1),w.__oneDigit(c,!1)),d=f.__unsignedDigit(0);if(1===f.length&&d<=65535){(o=new w(e.length,!1)).__initializeDigits();for(var p,h=0,m=2*e.length-1;0<=m;m--)p=h<<16|e.__halfDigit(m),o.__setHalfDigit(m,0|p/d),h=0|p%d;s=h.toString(t)}else{var E=w.__absoluteDivLarge(e,f,!0,!0);o=E.quotient;var _=E.remainder.__trim();s=w.__toStringGeneric(_,t,!0)}o.__trim();for(var g=w.__toStringGeneric(o,t,!0);s.length<c;)s="0"+s;return!1===n&&e.sign&&(g="-"+g),g+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return w.__unequalSign(n);var r=w.__absoluteCompare(e,t);return 0<r?w.__absoluteGreater(n):r<0?w.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var n=e.sign,r=t<0;if(n!==r)return w.__unequalSign(n);if(0===e.length){if(r)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return w.__absoluteGreater(n);var i=s(t),o=e.__unsignedDigit(0);return i<o?w.__absoluteGreater(n):o<i?w.__absoluteLess(n):0}return w.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-Infinity)return 1;var n=e.sign;if(n!==t<0)return w.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;w.__kBitConversionDouble[0]=t;var r=2047&w.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var i=r-1023;if(i<0)return w.__absoluteGreater(n);var o=e.length,s=e.__digit(o-1),a=T(s),u=32*o-a,l=i+1;if(u<l)return w.__absoluteLess(n);if(l<u)return w.__absoluteGreater(n);var c=1048576|1048575&w.__kBitConversionInts[1],f=w.__kBitConversionInts[0],d=31-a;if(d!==(u-1)%31)throw new Error("implementation bug");var p,h=0;if(d<20){var m=20-d;h=m+32,p=c>>>m,c=c<<32-m|f>>>m,f<<=32-m}else if(20===d)h=32,p=c,c=f;else{var E=d-20;p=c<<E|f>>>(h=32-E),c=f<<E}if((p>>>=0)<(s>>>=0))return w.__absoluteGreater(n);if(s<p)return w.__absoluteLess(n);for(var _=o-2;0<=_;_--){0<h?(h-=32,p=c>>>0,c=f,f=0):p=0;var g=e.__unsignedDigit(_);if(p<g)return w.__absoluteGreater(n);if(g<p)return w.__absoluteLess(n)}if(0!==c||0!==f){if(0===h)throw new Error("implementation bug");return w.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,t){return t|0===t?0===t?0===e.length:1===e.length&&e.sign===t<0&&e.__unsignedDigit(0)===s(t):0===w.__compareToDouble(e,t)}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return e<0;case 1:return e<=0;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,n){if(e=w.__toPrimitive(e),t=w.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return t<e;case 3:return t<=e}if(w.__isBigInt(e)&&"string"==typeof t)return null!==(t=w.__fromString(t))&&w.__comparisonResultToBool(w.__compareToBigInt(e,t),n);if("string"==typeof e&&w.__isBigInt(t))return null!==(e=w.__fromString(e))&&w.__comparisonResultToBool(w.__compareToBigInt(e,t),n);if(e=w.__toNumeric(e),t=w.__toNumeric(t),w.__isBigInt(e)){if(w.__isBigInt(t))return w.__comparisonResultToBool(w.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return w.__comparisonResultToBool(w.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(w.__isBigInt(t))return w.__comparisonResultToBool(w.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?t<e:3===n?t<=e:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return w.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:w.unaryMinus(e);var r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;for(var i=new w(r,n),o=0,s=0;s<t.length;s++){var a=t.__digit(s),u=e.__digit(s),l=(65535&u)+(65535&a)+o,c=(u>>>16)+(a>>>16)+(l>>>16);o=c>>>16,i.__setDigit(s,65535&l|c<<16)}for(;s<e.length;s++){var f=e.__digit(s),d=(65535&f)+o,p=(f>>>16)+(d>>>16);o=p>>>16,i.__setDigit(s,65535&d|p<<16)}return s<i.length&&i.__setDigit(s,o),i.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:w.unaryMinus(e);for(var r=new w(e.length,n),i=0,o=0;o<t.length;o++){var s=e.__digit(o),a=t.__digit(o),u=(65535&s)-(65535&a)-i,l=(s>>>16)-(a>>>16)-(i=1&u>>>16);i=1&l>>>16,r.__setDigit(o,65535&u|l<<16)}for(;o<e.length;o++){var c=e.__digit(o),f=(65535&c)-i,d=(c>>>16)-(i=1&f>>>16);i=1&d>>>16,r.__setDigit(o,65535&f|d<<16)}return r.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length;null===n?n=new w(r,t):n.sign=t;for(var i=!0,o=0;o<r;o++){var s=e.__digit(o),a=-1===s;i&&(s=0|s+1),i=a,n.__setDigit(o,s)}return i&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){for(var n=e.length,r=new w(t=t||n,!1),i=!0,o=0;o<n;o++){var s=e.__digit(o),a=0===s;i&&(s=0|s-1),i=a,r.__setDigit(o,s)}for(var u=n;u<t;u++)r.__setDigit(u,0);return r}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){var s=e,a=o=r;e=t,r=i,t=s,i=a}var u=o;null===n?n=new w(u,!1):u=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)&t.__digit(l));for(;l<u;l++)n.__setDigit(l,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;r<i&&(o=r);var s=r;null===n?n=new w(s,!1):s=n.length;for(var a=0;a<o;a++)n.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<r;a++)n.__setDigit(a,e.__digit(a));for(;a<s;a++)n.__setDigit(a,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){var s=e,a=o=r;e=t,r=i,t=s,i=a}var u=r;null===n?n=new w(u,!1):u=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)|t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<u;l++)n.__setDigit(l,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){var s=e,a=o=r;e=t,r=i,t=s,i=a}var u=r;null===n?n=new w(u,!1):u=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)^t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<u;l++)n.__setDigit(l,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return r<0?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(0!==t){for(var i=65535&t,o=t>>>16,s=0,a=0,u=0,l=0;l<e.length;l++,r++){var c=n.__digit(r),f=65535&c,d=c>>>16,p=e.__digit(l),h=65535&p,m=p>>>16,E=v(h,i),_=v(h,o),g=v(m,i),T=v(m,o);s=(a=(_>>>16)+(g>>>16)+(65535&T)+(s=(d+=u+s+((f+=a+(65535&E))>>>16)+(E>>>16)+(65535&_)+(65535&g))>>>16))>>>16,a&=65535,u=T>>>16,c=65535&f|d<<16,n.__setDigit(r,c)}for(;0!==s||0!==a||0!==u;r++){var b=n.__digit(r),y=(65535&b)+a,S=(b>>>16)+(y>>>16)+u+s;u=a=0,s=S>>>16,b=65535&y|S<<16,n.__setDigit(r,b)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,i){for(var o=n,s=0,a=0;a<r;a++){var u=e.__digit(a),l=v(65535&u,t),c=(65535&l)+s+o;o=c>>>16;var f=v(u>>>16,t),d=(65535&f)+(l>>>16)+o;o=d>>>16,s=f>>>16,i.__setDigit(a,d<<16|65535&c)}if(i.length>r)for(i.__setDigit(r++,o+s);r<i.length;)i.__setDigit(r++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,n){null===n&&(n=new w(e.length,!1));for(var r=0,i=2*e.length-1;0<=i;i-=2){var o=(r<<16|e.__halfDigit(i))>>>0,s=0|o/t,a=0|(o=((r=0|o%t)<<16|e.__halfDigit(i-1))>>>0)/t;r=0|o%t,n.__setDigit(i>>>1,s<<16|a)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--)n=0|((n<<16|e.__halfDigit(r))>>>0)%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var i=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-i,a=null;n&&(a=new w(s+2>>>1,!1)).__initializeDigits();var u=new w(i+2>>>1,!1);u.__initializeDigits();var l=w.__clz16(t.__halfDigit(i-1));0<l&&(t=w.__specialLeftShift(t,l,0));for(var c=w.__specialLeftShift(e,l,1),f=t.__halfDigit(i-1),d=0,p=s;0<=p;p--){var h=65535,m=c.__halfDigit(p+i);if(m!==f){var E=(m<<16|c.__halfDigit(p+i-1))>>>0;h=0|E/f;for(var _=0|E%f,g=t.__halfDigit(i-2),T=c.__halfDigit(p+i-2);v(h,g)>>>0>(_<<16|T)>>>0&&(h--,!(65535<(_+=f))););}w.__internalMultiplyAdd(t,h,0,o,u);var b=c.__inplaceSub(u,p,i+1);0!==b&&(b=c.__inplaceAdd(t,p,i),c.__setHalfDigit(p+i,c.__halfDigit(p+i)+b),h--),n&&(1&p?d=h<<16:a.__setDigit(p>>>1,d|h))}return r?(c.__inplaceRightShift(l),n?{quotient:a,remainder:c}:c):n?a:void 0}},{key:"__clz16",value:function(e){return T(e)-16}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,i=new w(r+n,!1);if(0===t){for(var o=0;o<r;o++)i.__setDigit(o,e.__digit(o));return 0<n&&i.__setDigit(r,0),i}for(var s,a=0,u=0;u<r;u++)s=e.__digit(u),i.__setDigit(u,s<<t|a),a=s>>>32-t;return 0<n&&i.__setDigit(r,a),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=w.__toShiftAmount(t);if(n<0)throw new RangeError("BigInt too big");var r=n>>>5,i=31&n,o=e.length,s=0!==i&&0!=e.__digit(o-1)>>>32-i,a=o+r+(s?1:0),u=new w(a,e.sign);if(0===i){for(var l=0;l<r;l++)u.__setDigit(l,0);for(;l<a;l++)u.__setDigit(l,e.__digit(l-r))}else{for(var c=0,f=0;f<r;f++)u.__setDigit(f,0);for(var d,p=0;p<o;p++)d=e.__digit(p),u.__setDigit(p+r,d<<i|c),c=d>>>32-i;if(s)u.__setDigit(o+r,c);else if(0!==c)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,i=w.__toShiftAmount(t);if(i<0)return w.__rightShiftByMaximum(r);var o=i>>>5,s=31&i,a=n-o;if(a<=0)return w.__rightShiftByMaximum(r);var u=!1;if(r)if(0!=(e.__digit(o)&(1<<s)-1))u=!0;else for(var l=0;l<o;l++)if(0!==e.__digit(l)){u=!0;break}u&&0===s&&(0==~e.__digit(n-1)&&a++);var c=new w(a,r);if(0===s)for(var f=o;f<n;f++)c.__setDigit(f-o,e.__digit(f));else{for(var d,p=e.__digit(o)>>>s,h=n-o-1,m=0;m<h;m++)d=e.__digit(m+o+1),c.__setDigit(m,d<<32-s|p),p=d>>>s;c.__setDigit(h,p)}return u&&(c=w.__absoluteAddOne(c,!0,c)),c.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?w.__oneDigit(1,!0):w.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return w.__kMaxLengthBits<t?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==l(e))return e;if(e.constructor===w)return e;var n=e[Symbol.toPrimitive];if(n){var r=n(t);if("object"!==l(r))return r;throw new TypeError("Cannot convert object to primitive value")}var i=e.valueOf;if(i){var o=i.call(e);if("object"!==l(o))return o}var s=e.toString;if(s){var a=s.call(e);if("object"!==l(a))return a}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return w.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===l(e)&&e.constructor===w}},{key:"__truncateToNBits",value:function(e,t){for(var n=e+31>>>5,r=new w(n,t.sign),i=n-1,o=0;o<i;o++)r.__setDigit(o,t.__digit(o));var s=t.__digit(i);if(0!=(31&e)){var a=32-(31&e);s=s<<a>>>a}return r.__setDigit(i,s),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r=Math.min,i=e+31>>>5,o=new w(i,n),s=0,a=i-1,u=0,l=r(a,t.length);s<l;s++){var c=t.__digit(s),f=0-(65535&c)-u,d=0-(c>>>16)-(u=1&f>>>16);u=1&d>>>16,o.__setDigit(s,65535&f|d<<16)}for(;s<a;s++)o.__setDigit(s,0|-u);var p,h=a<t.length?t.__digit(a):0,m=31&e;if(0===m){var E=0-(65535&h)-u;p=65535&E|0-(h>>>16)-(u=1&E>>>16)<<16}else{var _=32-m,g=1<<32-_,T=(65535&g)-(65535&(h=h<<_>>>_))-u;p=65535&T|(g>>>16)-(h>>>16)-(u=1&T>>>16)<<16,p&=g-1}return o.__setDigit(a,p),o.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}}],(n=[{key:"toDebugString",value:function(){var e=["BigInt["],t=!0,n=!1,r=void 0;try{for(var i,o,s=this[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)o=i.value,e.push((o?(o>>>0).toString(16):o)+", ")}catch(e){n=!0,r=e}finally{try{t||null==s["return"]||s["return"]()}finally{if(n)throw r}}return e.push("]"),e.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(e<2||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?w.__toStringBasePowerOfTwo(this,e):w.__toStringGeneric(this,e,!1)}},{key:"__copy",value:function(){for(var e=new w(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return T(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=65535&e,i=e>>>16,o=0,s=65535&t,a=t>>>16,u=0;u<n;u++){var l=this.__digit(u),c=65535&l,f=l>>>16,d=v(c,r),p=v(c,i),h=v(f,r),m=v(f,i),E=s+(65535&d),_=a+o+(E>>>16)+(d>>>16)+(65535&p)+(65535&h);o=(s=(p>>>16)+(h>>>16)+(65535&m)+(_>>>16))>>>16,s&=65535,a=m>>>16,this.__setDigit(u,65535&E|_<<16)}if(0!==o||0!==s||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,i=0,o=0;o<n;o++)i=(r=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>16,this.__setHalfDigit(t+o,r);return i}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=65535&i,s=0;s<n-1>>>1;s++){var a=e.__digit(s),u=(i>>>16)-(65535&a)-r;r=1&u>>>16,this.__setDigit(t+s,u<<16|65535&o),r=1&(o=(65535&(i=this.__digit(t+s+1)))-(a>>>16)-r)>>>16}var l=e.__digit(s),c=(i>>>16)-(65535&l)-r;if(r=1&c>>>16,this.__setDigit(t+s,c<<16|65535&o),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(r=1&(o=(65535&(i=this.__digit(t+s+1)))-(l>>>16)-r)>>>16,this.__setDigit(t+e.length,4294901760&i|65535&o))}else{t>>=1;for(var f=0;f<e.length-1;f++){var d=this.__digit(t+f),p=e.__digit(f),h=(65535&d)-(65535&p)-r,m=(d>>>16)-(p>>>16)-(r=1&h>>>16);r=1&m>>>16,this.__setDigit(t+f,m<<16|65535&h)}var E=this.__digit(t+f),_=e.__digit(f),g=(65535&E)-(65535&_)-r;r=1&g>>>16;var T=0;0==(1&n)&&(r=1&(T=(E>>>16)-(_>>>16)-r)>>>16),this.__setDigit(t+f,T<<16|65535&g)}return r}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,n=this.__digit(0)>>>e,r=this.length-1,i=0;i<r;i++)t=this.__digit(i+1),this.__setDigit(i,t<<32-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return this.__unsignedDigit(e-1)<=65535?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),i=1&e?65535&r|t<<16:4294901760&r|65535&t;this.__setDigit(n,i)}}])&&o(t.prototype,n),r&&o(t,r),w}(t(Array));return e.__kMaxLength=33554432,e.__kMaxLengthBits=e.__kMaxLength<<5,e.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],e.__kBitsPerCharTableShift=5,e.__kBitsPerCharTableMultiplier=1<<e.__kBitsPerCharTableShift,e.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.__kBitConversionBuffer=new ArrayBuffer(8),e.__kBitConversionDouble=new Float64Array(e.__kBitConversionBuffer),e.__kBitConversionInts=new Int32Array(e.__kBitConversionBuffer),e},"object"==typeof h&&void 0!==p?p.exports=d():(f=f||self).JSBI=d()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/jsbi/dist/jsbi-umd.js","/node_modules/jsbi/dist")},{_process:131,buffer:121,timers:152}],129:[function(e,f,d){(function(e,s,t,n,r,i,o,a,u,l,c){(function(){var H={"function":!0,object:!0},e=H[typeof d]&&d&&!d.nodeType&&d,G=H[typeof window]&&window||this,t=e&&H[typeof f]&&f&&!f.nodeType&&"object"==typeof s&&s;function x(e,u){e||(e=G.Object()),u||(u=G.Object());var l=e.Number||G.Number,c=e.String||G.String,t=e.Object||G.Object,f=e.Date||G.Date,n=e.SyntaxError||G.SyntaxError,v=e.TypeError||G.TypeError,r=e.Math||G.Math,i=e.JSON||G.JSON;"object"==typeof i&&i&&(u.stringify=i.stringify,u.parse=i.parse);var O,w,I,o=t.prototype,N=o.toString,d=new f(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(P){}function p(e){if(p[e]!==I)return p[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=p("json-stringify")&&p("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=u.stringify,o="function"==typeof i&&d;if(o){(n=function(){return 1}).toJSON=n;try{o="0"===i(0)&&"0"===i(new l)&&'""'==i(new c)&&i(N)===I&&i(I)===I&&i()===I&&"1"===i(n)&&"[1]"==i([n])&&"[null]"==i([I])&&"null"==i(null)&&"[null,null,null]"==i([I,N,null])&&i({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===i(null,n)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new f(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new f(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new f(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new f(-1))}catch(P){o=!1}}t=o}if("json-parse"==e){var s=u.parse;if("function"==typeof s)try{if(0===s("0")&&!s(!1)){var a=5==(n=s(r)).a.length&&1===n.a[0];if(a){try{a=!s('"\t"')}catch(P){}if(a)try{a=1!==s("01")}catch(P){}if(a)try{a=1!==s("1.")}catch(P){}}}}catch(P){a=!1}t=a}}return p[e]=!!t}if(!p("json")){var h="[object Function]",A="[object Number]",F="[object String]",C="[object Array]",a=p("bug-string-char-index");if(!d)var M=r.floor,s=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(e,t){return s[t]+365*(e-1970)+M((e-1969+(t=+(1<t)))/4)-M((e-1901+t)/100)+M((e-1601+t)/400)};if((O=o.hasOwnProperty)||(O=function(e){var n,t={};return(t.__proto__=null,t.__proto__={toString:1},t).toString!=N?O=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,O=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,O.call(this,e)}),w=function(e,t){var n,s,r,i=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n)O.call(s,r)&&i++;return n=s=null,i?w=2==i?function(e,t){var n,r={},i=N.call(e)==h;for(n in e)i&&"prototype"==n||O.call(r,n)||!(r[n]=1)||!O.call(e,n)||t(n)}:function(e,t){var n,r,i=N.call(e)==h;for(n in e)i&&"prototype"==n||!O.call(e,n)||(r="constructor"===n)||t(n);(r||O.call(e,n="constructor"))&&t(n)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],w=function(e,t){var n,r,i=N.call(e)==h,o=!i&&"function"!=typeof e.constructor&&H[typeof e.hasOwnProperty]&&e.hasOwnProperty||O;for(n in e)i&&"prototype"==n||!o.call(e,n)||t(n);for(r=s.length;n=s[--r];o.call(e,n)&&t(n));}),w(e,t)},!p("json-stringify")){var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},L=function(e,t){return("000000"+(t||0)).slice(-e)},R=function(e){for(var t='"',n=0,r=e.length,i=!a||10<r,o=i&&(a?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=m[s];break;default:if(s<32){t+="\\u00"+L(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},B=function(e,t,n,r,i,o,s){var a,u,l,c,f,d,p,h,m,E,_,g,T,b,y,S;try{a=t[e]}catch(P){}if("object"==typeof a&&a)if("[object Date]"!=(u=N.call(a))||O.call(a,"toJSON"))"function"==typeof a.toJSON&&(u!=A&&u!=F&&u!=C||O.call(a,"toJSON"))&&(a=a.toJSON(e));else if(-1/0<a&&a<1/0){if(D){for(f=M(a/864e5),l=M(f/365.2425)+1970-1;D(l+1,0)<=f;l++);for(c=M((f-D(l,0))/30.42);D(l,c+1)<=f;c++);f=1+f-D(l,c),p=M((d=(a%864e5+864e5)%864e5)/36e5)%24,h=M(d/6e4)%60,m=M(d/1e3)%60,E=d%1e3}else l=a.getUTCFullYear(),c=a.getUTCMonth(),f=a.getUTCDate(),p=a.getUTCHours(),h=a.getUTCMinutes(),m=a.getUTCSeconds(),E=a.getUTCMilliseconds();a=(l<=0||1e4<=l?(l<0?"-":"+")+L(6,l<0?-l:l):L(4,l))+"-"+L(2,c+1)+"-"+L(2,f)+"T"+L(2,p)+":"+L(2,h)+":"+L(2,m)+"."+L(3,E)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if("[object Boolean]"==(u=N.call(a)))return""+a;if(u==A)return-1/0<a&&a<1/0?""+a:"null";if(u==F)return R(""+a);if("object"==typeof a){for(b=s.length;b--;)if(s[b]===a)throw v();if(s.push(a),_=[],y=o,o+=i,u==C){for(T=0,b=a.length;T<b;T++)g=B(T,a,n,r,i,o,s),_.push(g===I?"null":g);S=_.length?i?"[\n"+o+_.join(",\n"+o)+"\n"+y+"]":"["+_.join(",")+"]":"[]"}else w(r||a,function(e){var t=B(e,a,n,r,i,o,s);t!==I&&_.push(R(e)+":"+(i?" ":"")+t)}),S=_.length?i?"{\n"+o+_.join(",\n"+o)+"\n"+y+"}":"{"+_.join(",")+"}":"{}";return s.pop(),S}};u.stringify=function(e,t,n){var r,i,o,s;if(H[typeof t]&&t)if((s=N.call(t))==h)i=t;else if(s==C){o={};for(var a,u=0,l=t.length;u<l;a=t[u++],((s=N.call(a))==F||s==A)&&(o[a]=1));}if(n)if((s=N.call(n))==A){if(0<(n-=n%1))for(r="",10<n&&(n=10);r.length<n;r+=" ");}else s==F&&(r=n.length<=10?n:n.slice(0,10));return B("",((a={})[""]=e,a),i,o,r,"",[])}}if(!p("json-parse")){var E,_,g=c.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b=function(){throw E=_=null,n()},y=function(){for(var e,t,n,r,i,o=_,s=o.length;E<s;)switch(i=o.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=a?o.charAt(E):o[E],E++,e;case 34:for(e="@",E++;E<s;)if((i=o.charCodeAt(E))<32)b();else if(92==i)switch(i=o.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=T[i],E++;break;case 117:for(t=++E,n=E+4;E<n;E++)48<=(i=o.charCodeAt(E))&&i<=57||97<=i&&i<=102||65<=i&&i<=70||b();e+=g("0x"+o.slice(t,E));break;default:b()}else{if(34==i)break;for(i=o.charCodeAt(E),t=E;32<=i&&92!=i&&34!=i;)i=o.charCodeAt(++E);e+=o.slice(t,E)}if(34==o.charCodeAt(E))return E++,e;b();default:if(t=E,45==i&&(r=!0,i=o.charCodeAt(++E)),48<=i&&i<=57){for(48==i&&(48<=(i=o.charCodeAt(E+1))&&i<=57)&&b(),r=!1;E<s&&(48<=(i=o.charCodeAt(E))&&i<=57);E++);if(46==o.charCodeAt(E)){for(n=++E;n<s&&(48<=(i=o.charCodeAt(n))&&i<=57);n++);n==E&&b(),E=n}if(101==(i=o.charCodeAt(E))||69==i){for(43!=(i=o.charCodeAt(++E))&&45!=i||E++,n=E;n<s&&(48<=(i=o.charCodeAt(n))&&i<=57);n++);n==E&&b(),E=n}return+o.slice(t,E)}if(r&&b(),"true"==o.slice(E,E+4))return E+=4,!0;if("false"==o.slice(E,E+5))return E+=5,!1;if("null"==o.slice(E,E+4))return E+=4,null;b()}return"$"},S=function(e){var t,n;if("$"==e&&b(),"string"==typeof e){if("@"==(a?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=y());n||(n=!0))n&&(","==e?"]"==(e=y())&&b():b()),","==e&&b(),t.push(S(e));return t}if("{"==e){for(t={};"}"!=(e=y());n||(n=!0))n&&(","==e?"}"==(e=y())&&b():b()),","!=e&&"string"==typeof e&&"@"==(a?e.charAt(0):e[0])&&":"==y()||b(),t[e.slice(1)]=S(y());return t}b()}return e},U=function(e,t,n){var r=k(e,t,n);r===I?delete e[t]:e[t]=r},k=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(N.call(i)==C)for(r=i.length;r--;)U(i,r,n);else w(i,function(e){U(i,e,n)});return n.call(e,t,i)};u.parse=function(e,t){var n,r;return E=0,_=""+e,n=S(y()),"$"!=y()&&b(),E=_=null,t&&N.call(t)==h?k(((r={})[""]=n,r),"",t):n}}}return u.runInContext=x,u}if(!t||t.global!==t&&t.window!==t&&t.self!==t||(G=t),e)x(G,e);else{var n=G.JSON,r=G.JSON3,i=!1,o=x(G,G.JSON3={noConflict:function(){return i||(i=!0,G.JSON=n,G.JSON3=r,n=r=null),o}});G.JSON={parse:o.parse,stringify:o.stringify}}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/json3/lib/json3.js","/node_modules/json3/lib")},{_process:131,buffer:121,timers:152}],130:[function(e,f,t){(function(a,e,t,n,r,i,o,s,u,l,c){"use strict";!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?f.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(e);case 2:return a.nextTick(function(){e.call(null,t)});case 3:return a.nextTick(function(){e.call(null,t,n)});case 4:return a.nextTick(function(){e.call(null,t,n,r)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return a.nextTick(function(){e.apply(null,i)})}}}:f.exports=a}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/process-nextick-args/index.js","/node_modules/process-nextick-args")},{_process:131,buffer:121,timers:152}],131:[function(e,O,t){(function(e,t,n,r,i,o,s,a,u,l,c){var f,d;e=O.exports={};function p(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function m(e){if(f===setTimeout)return setTimeout(e,0);if((f===p||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}!function(){try{f="function"==typeof setTimeout?setTimeout:p}catch(e){f=p}try{d="function"==typeof clearTimeout?clearTimeout:h}catch(e){d=h}}();var E,_=[],g=!1,T=-1;function b(){g&&E&&(g=!1,E.length?_=E.concat(_):T=-1,_.length&&y())}function y(){if(!g){var e=m(b);g=!0;for(var t=_.length;t;){for(E=_,_=[];++T<t;)E&&E[T].run();T=-1,t=_.length}E=null,g=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===h||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function S(e,t){this.fun=e,this.array=t}function v(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_.push(new S(e,t)),1!==_.length||g||m(y)},S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/process/browser.js","/node_modules/process")},{_process:131,buffer:121,timers:152}],132:[function(e,D,L){(function(e,M,t,n,r,i,o,s,a,u,l){!function(e){var t="object"==typeof L&&L&&!L.nodeType&&L,n="object"==typeof D&&D&&!D.nodeType&&D,r="object"==typeof M&&M;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var i,o,_=2147483647,g=36,T=1,b=26,s=38,a=700,y=72,S=128,v="-",u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=g-T,O=Math.floor,w=String.fromCharCode;function I(e){throw new RangeError(f[e])}function p(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function h(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+p((e=e.replace(c,".")).split("."),t).join(".")}function N(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function A(e){return p(e,function(e){var t="";return 65535<e&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)}).join("")}function F(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,n){var r=0;for(e=n?O(e/a):e>>1,e+=O(e/t);d*b>>1<e;r+=g)e=O(e/d);return O(r+(d+1)*e/(e+s))}function m(e){var t,n,r,i,o,s,a,u,l,c,f,d=[],p=e.length,h=0,m=S,E=y;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&I("not-basic"),d.push(e.charCodeAt(r));for(i=0<n?n+1:0;i<p;){for(o=h,s=1,a=g;p<=i&&I("invalid-input"),f=e.charCodeAt(i++),(g<=(u=f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:g)||u>O((_-h)/s))&&I("overflow"),h+=u*s,!(u<(l=a<=E?T:E+b<=a?b:a-E));a+=g)s>O(_/(c=g-l))&&I("overflow"),s*=c;E=C(h-o,t=d.length+1,0==o),O(h/t)>_-m&&I("overflow"),m+=O(h/t),h%=t,d.splice(h++,0,m)}return A(d)}function E(e){var t,n,r,i,o,s,a,u,l,c,f,d,p,h,m,E=[];for(d=(e=N(e)).length,t=S,o=y,s=n=0;s<d;++s)(f=e[s])<128&&E.push(w(f));for(r=i=E.length,i&&E.push(v);r<d;){for(a=_,s=0;s<d;++s)t<=(f=e[s])&&f<a&&(a=f);for(a-t>O((_-n)/(p=r+1))&&I("overflow"),n+=(a-t)*p,t=a,s=0;s<d;++s)if((f=e[s])<t&&++n>_&&I("overflow"),f==t){for(u=n,l=g;!(u<(c=l<=o?T:o+b<=l?b:l-o));l+=g)m=u-c,h=g-c,E.push(w(F(c+m%h,0))),u=O(m/h);E.push(w(F(u,0))),o=C(n,p,r==i),n=0,++r}++n,++t}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:N,encode:A},decode:m,encode:E,toASCII:function(e){return h(e,function(e){return l.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return h(e,function(e){return u.test(e)?m(e.slice(4).toLowerCase()):e})}},t&&n)if(D.exports==t)n.exports=i;else for(o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);else e.punycode=i}(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/punycode/punycode.js","/node_modules/punycode")},{_process:131,buffer:121,timers:152}],133:[function(e,f,t){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";f.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a,u,l=e.length;0<s&&s<l&&(l=s);for(var c=0;c<l;++c){var f,d,p,h,m=e[c].replace(o,"%20"),E=m.indexOf(n);0<=E?(f=m.substr(0,E),d=m.substr(E+1)):(f=m,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),a=i,u=p,Object.prototype.hasOwnProperty.call(a,u)?_(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i};var _=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/querystring-es3/decode.js","/node_modules/querystring-es3")},{_process:131,buffer:121,timers:152}],134:[function(e,m,t){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";var f=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};m.exports=function(n,r,i,e){return r=r||"&",i=i||"=",null===n&&(n=undefined),"object"==typeof n?p(h(n),function(e){var t=encodeURIComponent(f(e))+i;return d(n[e])?p(n[e],function(e){return t+encodeURIComponent(f(e))}).join(r):t+encodeURIComponent(f(n[e]))}).join(r):e?encodeURIComponent(f(e))+i+encodeURIComponent(f(n)):""};var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function p(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var h=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/querystring-es3/encode.js","/node_modules/querystring-es3")},{_process:131,buffer:121,timers:152}],135:[function(f,e,d){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";d.decode=d.parse=f("./decode"),d.encode=d.stringify=f("./encode")}).call(this,f("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},f("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],f("timers").setImmediate,f("timers").clearImmediate,"/node_modules/querystring-es3/index.js","/node_modules/querystring-es3")},{"./decode":133,"./encode":134,_process:131,buffer:121,timers:152}],136:[function(h,m,E){(function(e,t,i,n,r,o,s,a,u,l,c){var f=h("buffer");function d(e,t){for(var n in e)t[n]=e[n]}function p(e,t,n){return i(e,t,n)}(i=f.Buffer).from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?m.exports=f:(d(f,E),E.Buffer=p),d(i,p),p.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},p.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return t!==undefined?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},p.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},p.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return f.SlowBuffer(e)}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/node_modules/safe-buffer/index.js","/node_modules/safe-buffer")},{_process:131,buffer:121,timers:152}],137:[function(_,e,g){(function(e,u,t,n,r,i,o,s,a,l,c){var f=_("./lib/request"),d=_("./lib/response"),p=_("xtend"),h=_("builtin-status-codes"),m=_("url"),E=g;E.request=function(e,t){e="string"==typeof e?m.parse(e):p(e);var n=-1===u.location.protocol.search(/^https?:$/)?"http:":"",r=e.protocol||n,i=e.hostname||e.host,o=e.port,s=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?r+"//"+i:"")+(o?":"+o:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new f(e);return t&&a.on("response",t),a},E.get=function(e,t){var n=E.request(e,t);return n.end(),n},E.ClientRequest=f,E.IncomingMessage=d.IncomingMessage,E.Agent=function(){},E.Agent.defaultMaxSockets=4,E.globalAgent=new E.Agent,E.STATUS_CODES=h,E.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/node_modules/stream-http/index.js","/node_modules/stream-http")},{"./lib/request":139,"./lib/response":140,_process:131,buffer:121,"builtin-status-codes":122,timers:152,url:154,xtend:158}],138:[function(e,t,g){(function(e,t,n,r,i,o,s,a,u,l,c){g.fetch=E(t.fetch)&&E(t.ReadableStream),g.writableStream=E(t.WritableStream),g.abortController=E(t.AbortController),g.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),g.blobConstructor=!0}catch(_){}var f;function d(){if(f!==undefined)return f;if(t.XMLHttpRequest){f=new t.XMLHttpRequest;try{f.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(_){f=null}}else f=null;return f}function p(e){var t=d();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(_){}return!1}var h="undefined"!=typeof t.ArrayBuffer,m=h&&E(t.ArrayBuffer.prototype.slice);function E(e){return"function"==typeof e}g.arraybuffer=g.fetch||h&&p("arraybuffer"),g.msstream=!g.fetch&&m&&p("ms-stream"),g.mozchunkedarraybuffer=!g.fetch&&h&&p("moz-chunked-arraybuffer"),g.overrideMimeType=g.fetch||!!d()&&E(d().overrideMimeType),g.vbArray=E(t.VBArray),f=null}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/stream-http/lib/capability.js","/node_modules/stream-http/lib")},{_process:131,buffer:121,timers:152}],139:[function(b,y,e){(function(l,c,f,e,t,n,r,i,o,s,a){var d=b("./capability"),u=b("inherits"),p=b("./response"),h=b("readable-stream"),m=b("to-arraybuffer"),E=p.IncomingMessage,_=p.readyStates;var g=y.exports=function(t){var e,n=this;h.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+new f(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var r,i,o=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!d.abortController)e=!(o=!1);else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!d.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}n._mode=(r=e,i=o,d.fetch&&i?"fetch":d.mozchunkedarraybuffer?"moz-chunked-arraybuffer":d.msstream?"ms-stream":d.arraybuffer&&r?"arraybuffer":d.vbArray&&r?"text:vbarray":"text"),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};u(g,h.Writable),g.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===T.indexOf(n)&&(this._headers[n]={name:e,value:t})},g.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},g.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},g.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,r=t._headers,n=null;"GET"!==e.method&&"HEAD"!==e.method&&(n=d.arraybuffer?m(f.concat(t._body)):d.blobConstructor?new c.Blob(t._body.map(function(e){return m(e)}),{type:(r["content-type"]||{}).value||""}):f.concat(t._body).toString());var i=[];if(Object.keys(r).forEach(function(e){var t=r[e].name,n=r[e].value;Array.isArray(n)?n.forEach(function(e){i.push([t,e])}):i.push([t,n])}),"fetch"===t._mode){var o=null;if(d.abortController){var s=new AbortController;o=s.signal,t._fetchAbortController=s,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=c.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},e.requestTimeout))}c.fetch(t._opts.url,{method:t._opts.method,headers:i,body:n||undefined,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:o}).then(function(e){t._fetchResponse=e,t._connect()},function(e){c.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var a=t._xhr=new c.XMLHttpRequest;try{a.open(t._opts.method,t._opts.url,!0)}catch(u){return void l.nextTick(function(){t.emit("error",u)})}"responseType"in a&&(a.responseType=t._mode.split(":")[0]),"withCredentials"in a&&(a.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(a.timeout=e.requestTimeout,a.ontimeout=function(){t.emit("requestTimeout")}),i.forEach(function(e){a.setRequestHeader(e[0],e[1])}),t._response=null,a.onreadystatechange=function(){switch(a.readyState){case _.LOADING:case _.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(a.onprogress=function(){t._onXHRProgress()}),a.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{a.send(n)}catch(u){return void l.nextTick(function(){t.emit("error",u)})}}}},g.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},g.prototype._connect=function(){var t=this;t._destroyed||(t._response=new E(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},g.prototype._write=function(e,t,n){this._body.push(e),n()},g.prototype.abort=g.prototype.destroy=function(){this._destroyed=!0,c.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},g.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=undefined),h.Writable.prototype.end.call(this,e,t,n)},g.prototype.flushHeaders=function(){},g.prototype.setTimeout=function(){},g.prototype.setNoDelay=function(){},g.prototype.setSocketKeepAlive=function(){};var T=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},b("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],b("timers").setImmediate,b("timers").clearImmediate,"/node_modules/stream-http/lib/request.js","/node_modules/stream-http/lib")},{"./capability":138,"./response":140,_process:131,buffer:121,inherits:127,"readable-stream":150,timers:152,"to-arraybuffer":153}],140:[function(E,e,_){(function(f,d,p,e,t,n,r,i,o,s,a){var h=E("./capability"),u=E("inherits"),m=E("readable-stream"),l=_.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=_.IncomingMessage=function(e,n,r,i){var o=this;if(m.Readable.call(o),o._mode=r,o.headers={},o.rawHeaders=[],o.trailers={},o.rawTrailers=[],o.on("end",function(){f.nextTick(function(){o.emit("close")})}),"fetch"===r){if(o._fetchResponse=n,o.url=n.url,o.statusCode=n.status,o.statusMessage=n.statusText,n.headers.forEach(function(e,t){o.headers[t.toLowerCase()]=e,o.rawHeaders.push(t,e)}),h.writableStream){var s=new WritableStream({write:function(n){return new Promise(function(e,t){o._destroyed?t():o.push(new p(n))?e():o._resumeFetch=e})},close:function(){d.clearTimeout(i),o._destroyed||o.push(null)},abort:function(e){o._destroyed||o.emit("error",e)}});try{return void n.body.pipeTo(s)["catch"](function(e){d.clearTimeout(i),o._destroyed||o.emit("error",e)})}catch(c){}}var a=n.body.getReader();!function t(){a.read().then(function(e){if(!o._destroyed){if(e.done)return d.clearTimeout(i),void o.push(null);o.push(new p(e.value)),t()}})["catch"](function(e){d.clearTimeout(i),o._destroyed||o.emit("error",e)})}()}else{if(o._xhr=e,o._pos=0,o.url=e.responseURL,o.statusCode=e.status,o.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(o.headers[n]===undefined&&(o.headers[n]=[]),o.headers[n].push(t[2])):o.headers[n]!==undefined?o.headers[n]+=", "+t[2]:o.headers[n]=t[2],o.rawHeaders.push(t[1],t[2])}}),o._charset="x-user-defined",!h.overrideMimeType){var u=o.rawHeaders["mime-type"];if(u){var l=u.match(/;\s*charset=([^;])(;|$)/);l&&(o._charset=l[1].toLowerCase())}o._charset||(o._charset="utf-8")}}};u(c,m.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new d.VBArray(t.responseBody).toArray()}catch(a){}if(null!==n){e.push(new p(n));break}case"text":try{n=t.responseText}catch(a){e._mode="text:vbarray";break}if(n.length>e._pos){var r=n.substr(e._pos);if("x-user-defined"===e._charset){for(var i=new p(r.length),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);e.push(i)}else e.push(r,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new p(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new p(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var s=new d.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new p(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/node_modules/stream-http/lib/response.js","/node_modules/stream-http/lib")},{"./capability":138,_process:131,buffer:121,inherits:127,"readable-stream":150,timers:152}],141:[function(e,d,t){(function(e,t,n,r,i,o,s,a,u,l,c){var f={}.toString;d.exports=Array.isArray||function(e){return"[object Array]"==f.call(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/stream-http/node_modules/isarray/index.js","/node_modules/stream-http/node_modules/isarray")},{_process:131,buffer:121,timers:152}],142:[function(S,v,e){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";var f=S("process-nextick-args"),d=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};v.exports=T;var p=S("core-util-is");p.inherits=S("inherits");var h=S("./_stream_readable"),m=S("./_stream_writable");p.inherits(T,h);for(var E=d(m.prototype),_=0;_<E.length;_++){var g=E[_];T.prototype[g]||(T.prototype[g]=m.prototype[g])}function T(e){if(!(this instanceof T))return new T(e);h.call(this,e),m.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||f.nextTick(y,this)}function y(e){e.end()}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),T.prototype._destroy=function(e,t){this.push(null),this.end(),f.nextTick(t,e)}}).call(this,S("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},S("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],S("timers").setImmediate,S("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/_stream_duplex.js","/node_modules/stream-http/node_modules/readable-stream/lib")},{"./_stream_readable":144,"./_stream_writable":146,_process:131,buffer:121,"core-util-is":123,inherits:127,"process-nextick-args":130,timers:152}],143:[function(h,m,e){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";m.exports=p;var f=h("./_stream_transform"),d=h("core-util-is");function p(e){if(!(this instanceof p))return new p(e);f.call(this,e)}d.inherits=h("inherits"),d.inherits(p,f),p.prototype._transform=function(e,t,n){n(null,e)}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/_stream_passthrough.js","/node_modules/stream-http/node_modules/readable-stream/lib")},{"./_stream_transform":145,_process:131,buffer:121,"core-util-is":123,inherits:127,timers:152}],144:[function(x,j,e){(function(E,e,l,t,n,r,i,o,s,a,u){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";var _=x("process-nextick-args");j.exports=w;var c,g=x("isarray");w.ReadableState=O;x("events").EventEmitter;var T=function(e,t){return e.listeners(t).length},f=x("./internal/streams/stream"),d=(l=x("safe-buffer").Buffer,e.Uint8Array||function(){});var p=x("core-util-is");p.inherits=x("inherits");var h=x("util"),b=void 0;b=h&&h.debuglog?h.debuglog("stream"):function(){};var m,y=x("./internal/streams/BufferList"),S=x("./internal/streams/destroy");p.inherits(w,f);var v=["error","close","destroy","pause","resume"];function O(e,t){e=e||{};var n=t instanceof(c=c||x("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=x("string_decoder/").StringDecoder),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function w(e){if(c=c||x("./_stream_duplex"),!(this instanceof w))return new w(e);this._readableState=new O(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function I(e,t,n,r,i){var o,s,a,u=e._readableState;null===t?(u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}(e,u)):(i||(o=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof d||"string"==typeof t||t===undefined||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(u,t)),o?e.emit("error",o):u.objectMode||t&&0<t.length?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===l.prototype||(s=t,t=l.from(s)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):N(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?N(e,u,t,!1):D(e,u)):N(e,u,t,!1))):r||(u.reading=!1));return!(a=u).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function N(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),D(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=S.destroy,w.prototype._undestroy=S.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),I(this,e,t,!1,n)},w.prototype.unshift=function(e){return I(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return m||(m=x("string_decoder/").StringDecoder),this._readableState.decoder=new m(e),this._readableState.encoding=e,this};var A=8388608;function F(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=(A<=(n=e)?n=A:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?_.nextTick(M,e):M(e))}function M(e){b("emit readable"),e.emit("readable"),U(e)}function D(e,t){t.readingMore||(t.readingMore=!0,_.nextTick(L,e,t))}function L(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(b("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function R(e){b("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(b("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=o.slice(s);break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=o.slice(s);break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,_.nextTick(H,t,e))}function H(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function G(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}w.prototype.read=function(e){b("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):C(this),null;if(0===(e=F(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return b("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",i=!0),t.ended||t.reading?b("reading or ended",i=!1):i&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=F(n,t))),null===(r=0<e?k(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(n,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=n;break;case 1:i.pipes=[i.pipes,n];break;default:i.pipes.push(n)}i.pipesCount+=1,b("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||!1!==e.end)&&n!==E.stdout&&n!==E.stderr?s:m;function o(e,t){b("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,b("cleanup"),n.removeListener("close",p),n.removeListener("finish",h),n.removeListener("drain",u),n.removeListener("error",d),n.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",m),r.removeListener("data",f),l=!0,!i.awaitDrain||n._writableState&&!n._writableState.needDrain||u())}function s(){b("onend"),n.end()}i.endEmitted?_.nextTick(t):r.once("end",t),n.on("unpipe",o);var a,u=(a=r,function(){var e=a._readableState;b("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&T(a,"data")&&(e.flowing=!0,U(a))});n.on("drain",u);var l=!1;var c=!1;function f(e){b("ondata"),(c=!1)!==n.write(e)||c||((1===i.pipesCount&&i.pipes===n||1<i.pipesCount&&-1!==G(i.pipes,n))&&!l&&(b("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function d(e){b("onerror",e),m(),n.removeListener("error",d),0===T(n,"error")&&n.emit("error",e)}function p(){n.removeListener("finish",h),m()}function h(){b("onfinish"),n.removeListener("close",p),m()}function m(){b("unpipe"),r.unpipe(n)}return r.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?g(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(n,"error",d),n.once("close",p),n.once("finish",h),n.emit("pipe",r),i.flowing||(b("pipe resume"),r.resume()),n},w.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=G(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},w.prototype.addListener=w.prototype.on=function(e,t){var n=f.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&C(this):_.nextTick(R,this))}return n},w.prototype.resume=function(){var e,t,n=this._readableState;return n.flowing||(b("resume"),n.flowing=!0,e=this,(t=n).resumeScheduled||(t.resumeScheduled=!0,_.nextTick(B,e,t))),this},w.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(t){var n=this,r=this._readableState,i=!1;for(var e in t.on("end",function(){if(b("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),t.on("data",function(e){(b("wrapped data"),r.decoder&&(e=r.decoder.write(e)),!r.objectMode||null!==e&&e!==undefined)&&((r.objectMode||e&&e.length)&&(n.push(e)||(i=!0,t.pause())))}),t)this[e]===undefined&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){b("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=k}).call(this,x("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},x("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],x("timers").setImmediate,x("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/_stream_readable.js","/node_modules/stream-http/node_modules/readable-stream/lib")},{"./_stream_duplex":142,"./internal/streams/BufferList":147,"./internal/streams/destroy":148,"./internal/streams/stream":149,_process:131,buffer:121,"core-util-is":123,events:124,inherits:127,isarray:141,"process-nextick-args":130,"safe-buffer":136,"string_decoder/":151,timers:152,util:119}],145:[function(E,_,e){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";_.exports=p;var f=E("./_stream_duplex"),d=E("core-util-is");function p(e){if(!(this instanceof p))return new p(e);f.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var n=this;"function"==typeof this._flush?this._flush(function(e,t){m(n,e,t)}):m(this,null,null)}function m(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}d.inherits=E("inherits"),d.inherits(p,f),p.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},p.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},p.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},p.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},p.prototype._destroy=function(e,t){var n=this;f.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}}).call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate,E("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/_stream_transform.js","/node_modules/stream-http/node_modules/readable-stream/lib")},{"./_stream_duplex":142,_process:131,buffer:121,"core-util-is":123,inherits:127,timers:152}],146:[function(C,M,e){(function(e,t,_,n,r,i,o,s,a,u,l){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";var g=C("process-nextick-args");function f(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}M.exports=v;var c,d=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?s:g.nextTick;v.WritableState=S;var p=C("core-util-is");p.inherits=C("inherits");var h={deprecate:C("util-deprecate")},m=C("./internal/streams/stream"),T=(_=C("safe-buffer").Buffer,t.Uint8Array||function(){});var E,b=C("./internal/streams/destroy");function y(){}function S(e,t){c=c||C("./_stream_duplex"),e=e||{};var n=t instanceof c;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(f=n,f.writing=!1,f.writecb=null,f.length-=f.writelen,f.writelen=0,t)s=e,a=n,u=r,l=t,c=i,--a.pendingcb,u?(g.nextTick(c,l),g.nextTick(F,s,a),s._writableState.errorEmitted=!0,s.emit("error",l)):(c(l),s._writableState.errorEmitted=!0,s.emit("error",l),F(s,a));else{var o=N(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),r?d(w,e,n,o,i):w(e,n,o,i)}var s,a,u,l,c;var f}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function v(e){if(c=c||C("./_stream_duplex"),!(E.call(v,this)||this instanceof c))return new v(e);this._writableState=new S(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e["final"]&&(this._final=e["final"])),m.call(this)}function O(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,n,r){var i,o;n||(i=e,0===(o=t).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),t.pendingcb--,r(),F(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)(i[s]=n).isBuf||(a=!1),n=n.next,s+=1;i.allBuffers=a,O(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new f(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback;if(O(e,t,!1,t.objectMode?1:u.length,u,l,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(t,n){t._final(function(e){n.pendingcb--,e&&t.emit("error",e),n.prefinished=!0,t.emit("prefinish"),F(t,n)})}function F(e,t){var n,r,i=N(t);return i&&(n=e,(r=t).prefinished||r.finalCalled||("function"==typeof n._final?(r.pendingcb++,r.finalCalled=!0,g.nextTick(A,n,r)):(r.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}p.inherits(v,m),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!E.call(this,e)||this===v&&(e&&e._writableState instanceof S)}})):E=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,i,o,s,a,u,l,c,f,d,p,h=this._writableState,m=!1,E=!h.objectMode&&(r=e,_.isBuffer(r)||r instanceof T);return E&&!_.isBuffer(e)&&(i=e,e=_.from(i)),"function"==typeof t&&(n=t,t=null),E?t="buffer":t||(t=h.defaultEncoding),"function"!=typeof n&&(n=y),h.ended?(f=this,d=n,p=new Error("write after end"),f.emit("error",p),g.nextTick(d,p)):(E||(o=this,s=h,u=n,c=!(l=!0),null===(a=e)?c=new TypeError("May not write null values to stream"):"string"==typeof a||a===undefined||s.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c&&(o.emit("error",c),g.nextTick(u,c),l=!1),l))&&(h.pendingcb++,m=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=_.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,a,r,i,o);return u}(this,h,E,e,t,n)),m},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||I(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,F(e,t),n&&(t.finished?g.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=b.destroy,v.prototype._undestroy=b.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,C("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],C("timers").setImmediate,C("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/_stream_writable.js","/node_modules/stream-http/node_modules/readable-stream/lib")},{"./_stream_duplex":142,"./internal/streams/destroy":148,"./internal/streams/stream":149,_process:131,buffer:121,"core-util-is":123,inherits:127,"process-nextick-args":130,"safe-buffer":136,timers:152,"util-deprecate":156}],147:[function(d,p,e){(function(e,t,a,n,r,i,o,s,u,l,c){"use strict";a=d("safe-buffer").Buffer;var f=d("util");p.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,t.copy(n,r),s+=o.data.length,o=o.next;return i},e}(),f&&f.inspect&&f.inspect.custom&&(p.exports.prototype[f.inspect.custom]=function(){var e=f.inspect({length:this.length});return this.constructor.name+" "+e})}).call(this,d("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},d("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],d("timers").setImmediate,d("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/BufferList.js","/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams")},{_process:131,buffer:121,"safe-buffer":136,timers:152,util:119}],148:[function(p,h,e){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";var f=p("process-nextick-args");function d(e,t){e.emit("error",t)}h.exports={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||f.nextTick(d,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(f.nextTick(d,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],p("timers").setImmediate,p("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/destroy.js","/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams")},{_process:131,buffer:121,"process-nextick-args":130,timers:152}],149:[function(f,d,e){(function(e,t,n,r,i,o,s,a,u,l,c){d.exports=f("events").EventEmitter}).call(this,f("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},f("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],f("timers").setImmediate,f("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/stream-browser.js","/node_modules/stream-http/node_modules/readable-stream/lib/internal/streams")},{_process:131,buffer:121,events:124,timers:152}],150:[function(f,d,p){(function(e,t,n,r,i,o,s,a,u,l,c){(((p=d.exports=f("./lib/_stream_readable.js")).Stream=p).Readable=p).Writable=f("./lib/_stream_writable.js"),p.Duplex=f("./lib/_stream_duplex.js"),p.Transform=f("./lib/_stream_transform.js"),p.PassThrough=f("./lib/_stream_passthrough.js")}).call(this,f("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},f("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],f("timers").setImmediate,f("timers").clearImmediate,"/node_modules/stream-http/node_modules/readable-stream/readable-browser.js","/node_modules/stream-http/node_modules/readable-stream")},{"./lib/_stream_duplex.js":142,"./lib/_stream_passthrough.js":143,"./lib/_stream_readable.js":144,"./lib/_stream_transform.js":145,"./lib/_stream_writable.js":146,_process:131,buffer:121,timers:152}],151:[function(y,e,S){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";var f=(n=y("safe-buffer").Buffer).isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===f||!f(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=m,this.end=E,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=_,this.end=g,t=3;break;default:return this.write=T,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function p(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function h(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return n!==undefined?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function m(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function E(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function _(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function T(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}(S.StringDecoder=d).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if((t=this.fillLast(e))===undefined)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},d.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},d.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=p(t[r]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(0<=(i=p(t[r])))return 0<i&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(0<=(i=p(t[r])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},d.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}).call(this,y("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],y("timers").setImmediate,y("timers").clearImmediate,"/node_modules/stream-http/node_modules/string_decoder/lib/string_decoder.js","/node_modules/stream-http/node_modules/string_decoder/lib")},{_process:131,buffer:121,"safe-buffer":136,timers:152}],152:[function(_,e,g){(function(e,t,n,r,i,o,s,a,u,l,c){var f=_("process/browser.js").nextTick,d=Function.prototype.apply,p=Array.prototype.slice,h={},m=0;function E(e,t){this._id=e,this._clearFn=t}g.setTimeout=function(){return new E(d.call(setTimeout,window,arguments),clearTimeout)},g.setInterval=function(){return new E(d.call(setInterval,window,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(e){e.close()},E.prototype.unref=E.prototype.ref=function(){},E.prototype.close=function(){this._clearFn.call(window,this._id)},g.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},g.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},g._unrefActive=g.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},g.setImmediate="function"==typeof a?a:function(e){var t=m++,n=!(arguments.length<2)&&p.call(arguments,1);return h[t]=!0,f(function(){h[t]&&(n?e.apply(null,n):e.call(null),g.clearImmediate(t))}),t},g.clearImmediate="function"==typeof u?u:function(e){delete h[e]}}).call(this,_("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate,_("timers").clearImmediate,"/node_modules/timers-browserify/main.js","/node_modules/timers-browserify")},{_process:131,buffer:121,"process/browser.js":131,timers:152}],153:[function(f,d,e){(function(e,t,i,n,r,o,s,a,u,l,c){i=f("buffer").Buffer;d.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(i.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,r=0;r<n;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")}}).call(this,f("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},f("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],f("timers").setImmediate,f("timers").clearImmediate,"/node_modules/to-arraybuffer/index.js","/node_modules/to-arraybuffer")},{_process:131,buffer:121,timers:152}],154:[function(h,e,m){(function(e,t,n,r,i,o,s,a,u,l,c){
// Copyright Joyent, Inc. and other Node contributors.
"use strict";var L=h("punycode"),R=h("./util");function N(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}m.parse=p,m.resolve=function(e,t){return p(e,!1,!0).resolve(t)},m.resolveObject=function(e,t){return e?p(e,!1,!0).resolveObject(t):t},m.format=function(e){R.isString(e)&&(e=p(e));return e instanceof N?e.format():N.prototype.format.call(e)},m.Url=N;var B=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,U=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),k=["'"].concat(d),P=["%","/","?",";","#"].concat(k),H=["/","?","#"],G=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},q={javascript:!0,"javascript:":!0},V={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y=h("querystring");function p(e,t,n){if(e&&R.isObject(e)&&e instanceof N)return e;var r=new N;return r.parse(e,t,n),r}N.prototype.parse=function(e,t,n){if(!R.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!n&&1===e.split("#").length){var a=U.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=B.exec(s);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||u&&q[u]||(s=s.substr(2),this.slashes=!0)}if(!q[u]&&(c||u&&!V[u])){for(var f,d,p=-1,h=0;h<H.length;h++){-1!==(m=s.indexOf(H[h]))&&(-1===p||m<p)&&(p=m)}-1!==(d=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(f=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(f)),p=-1;for(h=0;h<P.length;h++){var m;-1!==(m=s.indexOf(P[h]))&&(-1===p||m<p)&&(p=m)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var _=this.hostname.split(/\./),g=(h=0,_.length);h<g;h++){var T=_[h];if(T&&!T.match(G)){for(var b="",y=0,S=T.length;y<S;y++)127<T.charCodeAt(y)?b+="x":b+=T[y];if(!b.match(G)){var v=_.slice(0,h),O=_.slice(h+1),w=T.match(x);w&&(v.push(w[1]),O.unshift(w[2])),O.length&&(s="/"+O.join(".")+s),this.hostname=v.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=L.toASCII(this.hostname));var I=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+I,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!j[l])for(h=0,g=k.length;h<g;h++){var A=k[h];if(-1!==s.indexOf(A)){var F=encodeURIComponent(A);F===A&&(F=escape(A)),s=s.split(A).join(F)}}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var M=s.indexOf("?");if(-1!==M?(this.search=s.substr(M),this.query=s.substr(M+1),t&&(this.query=Y.parse(this.query)),s=s.slice(0,M)):t&&(this.search="",this.query={}),s&&(this.pathname=s),V[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var D=this.search||"";this.path=I+D}return this.href=this.format(),this},N.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&R.isObject(this.query)&&Object.keys(this.query).length&&(o=Y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||V[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},N.prototype.resolve=function(e){return this.resolveObject(p(e,!1,!0)).format()},N.prototype.resolveObject=function(e){if(R.isString(e)){var t=new N;t.parse(e,!1,!0),e=t}for(var n=new N,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=e[u])}return V[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!V[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var f=l[c];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||q[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",h=n.search||"";n.path=p+h}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=E||m||n.host&&e.pathname,g=_,T=n.pathname&&n.pathname.split("/")||[],b=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!V[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===T[0])),E)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,T=d;else if(d.length)T||(T=[]),T.pop(),T=T.concat(d),n.search=e.search,n.query=e.query;else if(!R.isNullOrUndefined(e.search)){if(b)n.hostname=n.host=T.shift(),(w=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift());return n.search=e.search,n.query=e.query,R.isNull(n.pathname)&&R.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=T.slice(-1)[0],S=(n.host||e.host||1<T.length)&&("."===y||".."===y)||""===y,v=0,O=T.length;0<=O;O--)"."===(y=T[O])?T.splice(O,1):".."===y?(T.splice(O,1),v++):v&&(T.splice(O,1),v--);if(!_&&!g)for(;v--;v)T.unshift("..");!_||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),S&&"/"!==T.join("/").substr(-1)&&T.push("");var w,I=""===T[0]||T[0]&&"/"===T[0].charAt(0);b&&(n.hostname=n.host=I?"":T.length?T.shift():"",(w=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift()));return(_=_||n.host&&T.length)&&!I&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),R.isNull(n.pathname)&&R.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},N.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],h("timers").setImmediate,h("timers").clearImmediate,"/node_modules/url/url.js","/node_modules/url")},{"./util":155,_process:131,buffer:121,punycode:132,querystring:135,timers:152}],155:[function(e,f,t){(function(e,t,n,r,i,o,s,a,u,l,c){"use strict";f.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/url/util.js","/node_modules/url")},{_process:131,buffer:121,timers:152}],156:[function(e,d,t){(function(e,r,t,n,i,o,s,a,u,l,c){function f(e){try{if(!r.localStorage)return!1}catch(n){return!1}var t=r.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}d.exports=function(e,t){if(f("noDeprecation"))return e;var n=!1;return function(){if(!n){if(f("throwDeprecation"))throw new Error(t);f("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/util-deprecate/browser.js","/node_modules/util-deprecate")},{_process:131,buffer:121,timers:152}],157:[function(l,e,c){(function(M,e,D,t,n,r,i,o,s,a,u){var L=l("url"),R=l("child_process").spawn,B=l("fs");c.XMLHttpRequest=function(){"use strict";var T,b,y=this,S=l("http"),v=l("https"),O={},r=!1,w={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},I={},N={},i=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],s=["TRACE","TRACK","CONNECT"],A=!1,F=!1,o={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1;this.open=function(e,t,n,r,i){if(this.abort(),F=!1,!(o=e)||-1!==s.indexOf(o))throw new Error("SecurityError: Request method not allowed");var o;O={method:e,url:t.toString(),async:"boolean"!=typeof n||n,user:r||null,password:i||null},C(this.OPENED)},this.setDisableHeaderCheck=function(e){r=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(n=e,r||n&&-1===i.indexOf(n.toLowerCase())){var n;if(A)throw new Error("INVALID_STATE_ERR: send flag is true");e=N[e.toLowerCase()]||e,N[e.toLowerCase()]=e,I[e]=I[e]?I[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&b&&b.headers&&b.headers[e.toLowerCase()]&&!F?b.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||F)return"";var e="";for(var t in b.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+b.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&N[e.toLowerCase()]?I[N[e.toLowerCase()]]:""},this.send=function(t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(A)throw new Error("INVALID_STATE_ERR: send has already been called");var i,n=!1,r=!1,o=L.parse(O.url);switch(o.protocol){case"https:":n=!0;case"http:":i=o.hostname;break;case"file:":r=!0;break;case undefined:case null:case"":i="localhost";break;default:throw new Error("Protocol not supported.")}if(r){if("GET"!==O.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(O.async)B.readFile(o.pathname,"utf8",function(e,t){e?y.handleError(e):(y.status=200,y.responseText=t,C(y.DONE))});else try{this.responseText=B.readFileSync(o.pathname,"utf8"),this.status=200,C(y.DONE)}catch(g){this.handleError(g)}}else{var s=o.port||(n?443:80),a=o.pathname+(o.search?o.search:"");for(var u in w)N[u.toLowerCase()]||(I[u]=w[u]);if(I.Host=i,n&&443===s||80===s||(I.Host+=":"+o.port),O.user){"undefined"==typeof O.password&&(O.password="");var l=new D(O.user+":"+O.password);I.Authorization="Basic "+l.toString("base64")}"GET"===O.method||"HEAD"===O.method?t=null:t?(I["Content-Length"]=D.isBuffer(t)?t.length:D.byteLength(t),I["Content-Type"]||(I["Content-Type"]="text/plain;charset=UTF-8")):"POST"===O.method&&(I["Content-Length"]=0);var c={host:i,port:s,path:a,method:O.method,headers:I,agent:!1,withCredentials:y.withCredentials};if(F=!1,O.async){var f=n?v.request:S.request;A=!0,y.dispatchEvent("readystatechange");var d=function(e){y.handleError(e)};T=f(c,function e(t){if(301!==(b=t).statusCode&&302!==b.statusCode&&303!==b.statusCode&&307!==b.statusCode)b.setEncoding("utf8"),C(y.HEADERS_RECEIVED),y.status=b.statusCode,b.on("data",function(e){e&&(y.responseText+=e),A&&C(y.LOADING)}),b.on("end",function(){A&&(C(y.DONE),A=!1)}),b.on("error",function(e){y.handleError(e)});else{O.url=b.headers.location;var n=L.parse(O.url);i=n.hostname;var r={hostname:n.hostname,port:n.port,path:n.path,method:303===b.statusCode?"GET":O.method,headers:I,withCredentials:y.withCredentials};(T=f(r,e).on("error",d)).end()}}).on("error",d),t&&T.write(t),T.end(),y.dispatchEvent("loadstart")}else{var p=".node-xmlhttprequest-content-"+M.pid,h=".node-xmlhttprequest-sync-"+M.pid;B.writeFileSync(h,"","utf8");for(var m="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(n?"s":"")+".request;var options = "+JSON.stringify(c)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+p+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+h+"');});response.on('error', function(error) {fs.writeFileSync('"+p+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+h+"');});}).on('error', function(error) {fs.writeFileSync('"+p+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+h+"');});"+(t?"req.write('"+JSON.stringify(t).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",E=R(M.argv[0],["-e",m]);B.existsSync(h););var _=JSON.parse(B.readFileSync(p,"utf8"));E.stdin.end(),B.unlinkSync(p),_.err?y.handleError(_.err):(b=_.data,y.status=_.data.statusCode,y.responseText=_.data.text,C(y.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,F=!0,C(this.DONE),this.dispatchEvent("error")},this.abort=function(){T&&(T.abort(),T=null),I=w,this.status=0,this.responseText="",this.responseXML="",F=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!A||this.readyState===this.DONE||(A=!1,C(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in o||(o[e]=[]),o[e].push(t)},this.removeEventListener=function(e,t){e in o&&(o[e]=o[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof y["on"+e]&&y["on"+e](),e in o)for(var t=0,n=o[e].length;t<n;t++)o[e][t].call(y)};var C=function(e){e!=y.LOADING&&y.readyState===e||(y.readyState=e,(O.async||y.readyState<y.OPENED||y.readyState===y.DONE)&&y.dispatchEvent("readystatechange"),y.readyState!==y.DONE||F||(y.dispatchEvent("load"),y.dispatchEvent("loadend")))}}}).call(this,l("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},l("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],l("timers").setImmediate,l("timers").clearImmediate,"/node_modules/xmlhttprequest/lib/XMLHttpRequest.js","/node_modules/xmlhttprequest/lib")},{_process:131,buffer:121,child_process:120,fs:120,http:137,https:125,timers:152,url:154}],158:[function(e,d,t){(function(e,t,n,r,i,o,s,a,u,l,c){d.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)f.call(n,r)&&(e[r]=n[r])}return e};var f=Object.prototype.hasOwnProperty}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate,e("timers").clearImmediate,"/node_modules/xtend/immutable.js","/node_modules/xtend")},{_process:131,buffer:121,timers:152}]},{},[15])(15)});